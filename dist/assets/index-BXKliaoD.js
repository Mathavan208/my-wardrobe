(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function aN(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var hg={exports:{}},Xu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ob;function oN(){if(ob)return Xu;ob=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:c,ref:a!==void 0?a:null,props:l}}return Xu.Fragment=e,Xu.jsx=n,Xu.jsxs=n,Xu}var lb;function lN(){return lb||(lb=1,hg.exports=oN()),hg.exports}var T=lN(),fg={exports:{}},Be={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ub;function uN(){if(ub)return Be;ub=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),b=Symbol.iterator;function A(B){return B===null||typeof B!="object"?null:(B=b&&B[b]||B["@@iterator"],typeof B=="function"?B:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,M={};function F(B,ae,ye){this.props=B,this.context=ae,this.refs=M,this.updater=ye||D}F.prototype.isReactComponent={},F.prototype.setState=function(B,ae){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,ae,"setState")},F.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function q(){}q.prototype=F.prototype;function H(B,ae,ye){this.props=B,this.context=ae,this.refs=M,this.updater=ye||D}var ne=H.prototype=new q;ne.constructor=H,V(ne,F.prototype),ne.isPureReactComponent=!0;var J=Array.isArray;function he(){}var I={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function R(B,ae,ye){var Te=ye.ref;return{$$typeof:t,type:B,key:ae,ref:Te!==void 0?Te:null,props:ye}}function L(B,ae){return R(B.type,ae,B.props)}function k(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function U(B){var ae={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ye){return ae[ye]})}var N=/\/+/g;function Re(B,ae){return typeof B=="object"&&B!==null&&B.key!=null?U(""+B.key):ae.toString(36)}function Fe(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(he,he):(B.status="pending",B.then(function(ae){B.status==="pending"&&(B.status="fulfilled",B.value=ae)},function(ae){B.status==="pending"&&(B.status="rejected",B.reason=ae)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function Y(B,ae,ye,Te,Ve){var je=typeof B;(je==="undefined"||je==="boolean")&&(B=null);var We=!1;if(B===null)We=!0;else switch(je){case"bigint":case"string":case"number":We=!0;break;case"object":switch(B.$$typeof){case t:case e:We=!0;break;case y:return We=B._init,Y(We(B._payload),ae,ye,Te,Ve)}}if(We)return Ve=Ve(B),We=Te===""?"."+Re(B,0):Te,J(Ve)?(ye="",We!=null&&(ye=We.replace(N,"$&/")+"/"),Y(Ve,ae,ye,"",function(Yn){return Yn})):Ve!=null&&(k(Ve)&&(Ve=L(Ve,ye+(Ve.key==null||B&&B.key===Ve.key?"":(""+Ve.key).replace(N,"$&/")+"/")+We)),ae.push(Ve)),1;We=0;var yt=Te===""?".":Te+":";if(J(B))for(var ft=0;ft<B.length;ft++)Te=B[ft],je=yt+Re(Te,ft),We+=Y(Te,ae,ye,je,Ve);else if(ft=A(B),typeof ft=="function")for(B=ft.call(B),ft=0;!(Te=B.next()).done;)Te=Te.value,je=yt+Re(Te,ft++),We+=Y(Te,ae,ye,je,Ve);else if(je==="object"){if(typeof B.then=="function")return Y(Fe(B),ae,ye,Te,Ve);throw ae=String(B),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return We}function ie(B,ae,ye){if(B==null)return B;var Te=[],Ve=0;return Y(B,Te,"","",function(je){return ae.call(ye,je,Ve++)}),Te}function ve(B){if(B._status===-1){var ae=B._result;ae=ae(),ae.then(function(ye){(B._status===0||B._status===-1)&&(B._status=1,B._result=ye)},function(ye){(B._status===0||B._status===-1)&&(B._status=2,B._result=ye)}),B._status===-1&&(B._status=0,B._result=ae)}if(B._status===1)return B._result.default;throw B._result}var Oe=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)},He={map:ie,forEach:function(B,ae,ye){ie(B,function(){ae.apply(this,arguments)},ye)},count:function(B){var ae=0;return ie(B,function(){ae++}),ae},toArray:function(B){return ie(B,function(ae){return ae})||[]},only:function(B){if(!k(B))throw Error("React.Children.only expected to receive a single React element child.");return B}};return Be.Activity=v,Be.Children=He,Be.Component=F,Be.Fragment=n,Be.Profiler=a,Be.PureComponent=H,Be.StrictMode=s,Be.Suspense=m,Be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Be.__COMPILER_RUNTIME={__proto__:null,c:function(B){return I.H.useMemoCache(B)}},Be.cache=function(B){return function(){return B.apply(null,arguments)}},Be.cacheSignal=function(){return null},Be.cloneElement=function(B,ae,ye){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var Te=V({},B.props),Ve=B.key;if(ae!=null)for(je in ae.key!==void 0&&(Ve=""+ae.key),ae)!C.call(ae,je)||je==="key"||je==="__self"||je==="__source"||je==="ref"&&ae.ref===void 0||(Te[je]=ae[je]);var je=arguments.length-2;if(je===1)Te.children=ye;else if(1<je){for(var We=Array(je),yt=0;yt<je;yt++)We[yt]=arguments[yt+2];Te.children=We}return R(B.type,Ve,Te)},Be.createContext=function(B){return B={$$typeof:c,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:l,_context:B},B},Be.createElement=function(B,ae,ye){var Te,Ve={},je=null;if(ae!=null)for(Te in ae.key!==void 0&&(je=""+ae.key),ae)C.call(ae,Te)&&Te!=="key"&&Te!=="__self"&&Te!=="__source"&&(Ve[Te]=ae[Te]);var We=arguments.length-2;if(We===1)Ve.children=ye;else if(1<We){for(var yt=Array(We),ft=0;ft<We;ft++)yt[ft]=arguments[ft+2];Ve.children=yt}if(B&&B.defaultProps)for(Te in We=B.defaultProps,We)Ve[Te]===void 0&&(Ve[Te]=We[Te]);return R(B,je,Ve)},Be.createRef=function(){return{current:null}},Be.forwardRef=function(B){return{$$typeof:f,render:B}},Be.isValidElement=k,Be.lazy=function(B){return{$$typeof:y,_payload:{_status:-1,_result:B},_init:ve}},Be.memo=function(B,ae){return{$$typeof:p,type:B,compare:ae===void 0?null:ae}},Be.startTransition=function(B){var ae=I.T,ye={};I.T=ye;try{var Te=B(),Ve=I.S;Ve!==null&&Ve(ye,Te),typeof Te=="object"&&Te!==null&&typeof Te.then=="function"&&Te.then(he,Oe)}catch(je){Oe(je)}finally{ae!==null&&ye.types!==null&&(ae.types=ye.types),I.T=ae}},Be.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Be.use=function(B){return I.H.use(B)},Be.useActionState=function(B,ae,ye){return I.H.useActionState(B,ae,ye)},Be.useCallback=function(B,ae){return I.H.useCallback(B,ae)},Be.useContext=function(B){return I.H.useContext(B)},Be.useDebugValue=function(){},Be.useDeferredValue=function(B,ae){return I.H.useDeferredValue(B,ae)},Be.useEffect=function(B,ae){return I.H.useEffect(B,ae)},Be.useEffectEvent=function(B){return I.H.useEffectEvent(B)},Be.useId=function(){return I.H.useId()},Be.useImperativeHandle=function(B,ae,ye){return I.H.useImperativeHandle(B,ae,ye)},Be.useInsertionEffect=function(B,ae){return I.H.useInsertionEffect(B,ae)},Be.useLayoutEffect=function(B,ae){return I.H.useLayoutEffect(B,ae)},Be.useMemo=function(B,ae){return I.H.useMemo(B,ae)},Be.useOptimistic=function(B,ae){return I.H.useOptimistic(B,ae)},Be.useReducer=function(B,ae,ye){return I.H.useReducer(B,ae,ye)},Be.useRef=function(B){return I.H.useRef(B)},Be.useState=function(B){return I.H.useState(B)},Be.useSyncExternalStore=function(B,ae,ye){return I.H.useSyncExternalStore(B,ae,ye)},Be.useTransition=function(){return I.H.useTransition()},Be.version="19.2.0",Be}var cb;function Yy(){return cb||(cb=1,fg.exports=uN()),fg.exports}var O=Yy();const mn=aN(O);var dg={exports:{}},Wu={},mg={exports:{}},pg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hb;function cN(){return hb||(hb=1,(function(t){function e(Y,ie){var ve=Y.length;Y.push(ie);e:for(;0<ve;){var Oe=ve-1>>>1,He=Y[Oe];if(0<a(He,ie))Y[Oe]=ie,Y[ve]=He,ve=Oe;else break e}}function n(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var ie=Y[0],ve=Y.pop();if(ve!==ie){Y[0]=ve;e:for(var Oe=0,He=Y.length,B=He>>>1;Oe<B;){var ae=2*(Oe+1)-1,ye=Y[ae],Te=ae+1,Ve=Y[Te];if(0>a(ye,ve))Te<He&&0>a(Ve,ye)?(Y[Oe]=Ve,Y[Te]=ve,Oe=Te):(Y[Oe]=ye,Y[ae]=ve,Oe=ae);else if(Te<He&&0>a(Ve,ve))Y[Oe]=Ve,Y[Te]=ve,Oe=Te;else break e}}return ie}function a(Y,ie){var ve=Y.sortIndex-ie.sortIndex;return ve!==0?ve:Y.id-ie.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();t.unstable_now=function(){return c.now()-f}}var m=[],p=[],y=1,v=null,b=3,A=!1,D=!1,V=!1,M=!1,F=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function ne(Y){for(var ie=n(p);ie!==null;){if(ie.callback===null)s(p);else if(ie.startTime<=Y)s(p),ie.sortIndex=ie.expirationTime,e(m,ie);else break;ie=n(p)}}function J(Y){if(V=!1,ne(Y),!D)if(n(m)!==null)D=!0,he||(he=!0,U());else{var ie=n(p);ie!==null&&Fe(J,ie.startTime-Y)}}var he=!1,I=-1,C=5,R=-1;function L(){return M?!0:!(t.unstable_now()-R<C)}function k(){if(M=!1,he){var Y=t.unstable_now();R=Y;var ie=!0;try{e:{D=!1,V&&(V=!1,q(I),I=-1),A=!0;var ve=b;try{t:{for(ne(Y),v=n(m);v!==null&&!(v.expirationTime>Y&&L());){var Oe=v.callback;if(typeof Oe=="function"){v.callback=null,b=v.priorityLevel;var He=Oe(v.expirationTime<=Y);if(Y=t.unstable_now(),typeof He=="function"){v.callback=He,ne(Y),ie=!0;break t}v===n(m)&&s(m),ne(Y)}else s(m);v=n(m)}if(v!==null)ie=!0;else{var B=n(p);B!==null&&Fe(J,B.startTime-Y),ie=!1}}break e}finally{v=null,b=ve,A=!1}ie=void 0}}finally{ie?U():he=!1}}}var U;if(typeof H=="function")U=function(){H(k)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Re=N.port2;N.port1.onmessage=k,U=function(){Re.postMessage(null)}}else U=function(){F(k,0)};function Fe(Y,ie){I=F(function(){Y(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(Y){switch(b){case 1:case 2:case 3:var ie=3;break;default:ie=b}var ve=b;b=ie;try{return Y()}finally{b=ve}},t.unstable_requestPaint=function(){M=!0},t.unstable_runWithPriority=function(Y,ie){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ve=b;b=Y;try{return ie()}finally{b=ve}},t.unstable_scheduleCallback=function(Y,ie,ve){var Oe=t.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?Oe+ve:Oe):ve=Oe,Y){case 1:var He=-1;break;case 2:He=250;break;case 5:He=1073741823;break;case 4:He=1e4;break;default:He=5e3}return He=ve+He,Y={id:y++,callback:ie,priorityLevel:Y,startTime:ve,expirationTime:He,sortIndex:-1},ve>Oe?(Y.sortIndex=ve,e(p,Y),n(m)===null&&Y===n(p)&&(V?(q(I),I=-1):V=!0,Fe(J,ve-Oe))):(Y.sortIndex=He,e(m,Y),D||A||(D=!0,he||(he=!0,U()))),Y},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(Y){var ie=b;return function(){var ve=b;b=ie;try{return Y.apply(this,arguments)}finally{b=ve}}}})(pg)),pg}var fb;function hN(){return fb||(fb=1,mg.exports=cN()),mg.exports}var gg={exports:{}},zn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var db;function fN(){if(db)return zn;db=1;var t=Yy();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:m,containerInfo:p,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return zn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,zn.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,y)},zn.flushSync=function(m){var p=c.T,y=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=p,s.p=y,s.d.f()}},zn.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(m,p))},zn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},zn.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,v=f(y,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,A=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?s.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:A}):y==="script"&&s.d.X(m,{crossOrigin:v,integrity:b,fetchPriority:A,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},zn.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=f(p.as,p.crossOrigin);s.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(m)},zn.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,v=f(y,p.crossOrigin);s.d.L(m,y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},zn.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=f(p.as,p.crossOrigin);s.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(m)},zn.requestFormReset=function(m){s.d.r(m)},zn.unstable_batchedUpdates=function(m,p){return m(p)},zn.useFormState=function(m,p,y){return c.H.useFormState(m,p,y)},zn.useFormStatus=function(){return c.H.useHostTransitionStatus()},zn.version="19.2.0",zn}var mb;function dN(){if(mb)return gg.exports;mb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),gg.exports=fN(),gg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pb;function mN(){if(pb)return Wu;pb=1;var t=hN(),e=Yy(),n=dN();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function f(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function m(i){if(l(i)!==i)throw Error(s(188))}function p(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,u=r;;){var d=o.return;if(d===null)break;var g=d.alternate;if(g===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===o)return m(d),i;if(g===u)return m(d),r;g=g.sibling}throw Error(s(188))}if(o.return!==u.return)o=d,u=g;else{for(var E=!1,S=d.child;S;){if(S===o){E=!0,o=d,u=g;break}if(S===u){E=!0,u=d,o=g;break}S=S.sibling}if(!E){for(S=g.child;S;){if(S===o){E=!0,o=g,u=d;break}if(S===u){E=!0,u=g,o=d;break}S=S.sibling}if(!E)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function y(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=y(i),r!==null)return r;i=i.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),q=Symbol.for("react.consumer"),H=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),he=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function U(i){return i===null||typeof i!="object"?null:(i=k&&i[k]||i["@@iterator"],typeof i=="function"?i:null)}var N=Symbol.for("react.client.reference");function Re(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===N?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case V:return"Fragment";case F:return"Profiler";case M:return"StrictMode";case J:return"Suspense";case he:return"SuspenseList";case R:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case D:return"Portal";case H:return i.displayName||"Context";case q:return(i._context.displayName||"Context")+".Consumer";case ne:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case I:return r=i.displayName||null,r!==null?r:Re(i.type)||"Memo";case C:r=i._payload,i=i._init;try{return Re(i(r))}catch{}}return null}var Fe=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve={pending:!1,data:null,method:null,action:null},Oe=[],He=-1;function B(i){return{current:i}}function ae(i){0>He||(i.current=Oe[He],Oe[He]=null,He--)}function ye(i,r){He++,Oe[He]=i.current,i.current=r}var Te=B(null),Ve=B(null),je=B(null),We=B(null);function yt(i,r){switch(ye(je,r),ye(Ve,i),ye(Te,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?NE(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=NE(r),i=DE(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ae(Te),ye(Te,i)}function ft(){ae(Te),ae(Ve),ae(je)}function Yn(i){i.memoizedState!==null&&ye(We,i);var r=Te.current,o=DE(r,i.type);r!==o&&(ye(Ve,i),ye(Te,o))}function Ln(i){Ve.current===i&&(ae(Te),ae(Ve)),We.current===i&&(ae(We),Ku._currentValue=ve)}var Vt,Ci;function jn(i){if(Vt===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Vt=r&&r[1]||"",Ci=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Vt+i+Ci}var Xi=!1;function Wi(i,r){if(!i||Xi)return"";Xi=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(te){var Z=te}Reflect.construct(i,[],le)}else{try{le.call()}catch(te){Z=te}i.call(le.prototype)}}else{try{throw Error()}catch(te){Z=te}(le=i())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(te){if(te&&Z&&typeof te.stack=="string")return[te.stack,Z.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),E=g[0],S=g[1];if(E&&S){var j=E.split(`
`),W=S.split(`
`);for(d=u=0;u<j.length&&!j[u].includes("DetermineComponentFrameRoot");)u++;for(;d<W.length&&!W[d].includes("DetermineComponentFrameRoot");)d++;if(u===j.length||d===W.length)for(u=j.length-1,d=W.length-1;1<=u&&0<=d&&j[u]!==W[d];)d--;for(;1<=u&&0<=d;u--,d--)if(j[u]!==W[d]){if(u!==1||d!==1)do if(u--,d--,0>d||j[u]!==W[d]){var re=`
`+j[u].replace(" at new "," at ");return i.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",i.displayName)),re}while(1<=u&&0<=d);break}}}finally{Xi=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?jn(o):""}function Zn(i,r){switch(i.tag){case 26:case 27:case 5:return jn(i.type);case 16:return jn("Lazy");case 13:return i.child!==r&&r!==null?jn("Suspense Fallback"):jn("Suspense");case 19:return jn("SuspenseList");case 0:case 15:return Wi(i.type,!1);case 11:return Wi(i.type.render,!1);case 1:return Wi(i.type,!0);case 31:return jn("Activity");default:return""}}function Ir(i){try{var r="",o=null;do r+=Zn(i,o),o=i,i=i.return;while(i);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Ct=Object.prototype.hasOwnProperty,P=t.unstable_scheduleCallback,$=t.unstable_cancelCallback,se=t.unstable_shouldYield,_e=t.unstable_requestPaint,de=t.unstable_now,me=t.unstable_getCurrentPriorityLevel,Ae=t.unstable_ImmediatePriority,Je=t.unstable_UserBlockingPriority,qe=t.unstable_NormalPriority,Wt=t.unstable_LowPriority,Ri=t.unstable_IdlePriority,Jn=t.log,Nr=t.unstable_setDisableYieldValue,Cn=null,Nt=null;function Ot(i){if(typeof Jn=="function"&&Nr(i),Nt&&typeof Nt.setStrictMode=="function")try{Nt.setStrictMode(Cn,i)}catch{}}var Rt=Math.clz32?Math.clz32:pe,G=Math.log,fe=Math.LN2;function pe(i){return i>>>=0,i===0?32:31-(G(i)/fe|0)|0}var we=256,Ze=262144,Ie=4194304;function Ke(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function it(i,r,o){var u=i.pendingLanes;if(u===0)return 0;var d=0,g=i.suspendedLanes,E=i.pingedLanes;i=i.warmLanes;var S=u&134217727;return S!==0?(u=S&~g,u!==0?d=Ke(u):(E&=S,E!==0?d=Ke(E):o||(o=S&~i,o!==0&&(d=Ke(o))))):(S=u&~g,S!==0?d=Ke(S):E!==0?d=Ke(E):o||(o=u&~i,o!==0&&(d=Ke(o)))),d===0?0:r!==0&&r!==d&&(r&g)===0&&(g=d&-d,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:d}function Qe(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function et(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ge(){var i=Ie;return Ie<<=1,(Ie&62914560)===0&&(Ie=4194304),i}function Kt(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function Mt(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Ii(i,r,o,u,d,g){var E=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var S=i.entanglements,j=i.expirationTimes,W=i.hiddenUpdates;for(o=E&~o;0<o;){var re=31-Rt(o),le=1<<re;S[re]=0,j[re]=-1;var Z=W[re];if(Z!==null)for(W[re]=null,re=0;re<Z.length;re++){var te=Z[re];te!==null&&(te.lane&=-536870913)}o&=~le}u!==0&&ei(i,u,0),g!==0&&d===0&&i.tag!==0&&(i.suspendedLanes|=g&~(E&~r))}function ei(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-Rt(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|o&261930}function mi(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var u=31-Rt(o),d=1<<u;d&r|i[u]&r&&(i[u]|=r),o&=~d}}function pi(i,r){var o=r&-r;return o=(o&42)!==0?1:Ni(o),(o&(i.suspendedLanes|r))!==0?0:o}function Ni(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ti(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function $s(){var i=ie.p;return i!==0?i:(i=window.event,i===void 0?32:eb(i.type))}function Un(i,r){var o=ie.p;try{return ie.p=i,r()}finally{ie.p=o}}var Bn=Math.random().toString(36).slice(2),Yt="__reactFiber$"+Bn,bn="__reactProps$"+Bn,ps="__reactContainer$"+Bn,Ro="__reactEvents$"+Bn,ym="__reactListeners$"+Bn,uh="__reactHandles$"+Bn,ch="__reactResources$"+Bn,gs="__reactMarker$"+Bn;function Io(i){delete i[Yt],delete i[bn],delete i[Ro],delete i[ym],delete i[uh]}function ys(i){var r=i[Yt];if(r)return r;for(var o=i.parentNode;o;){if(r=o[ps]||o[Yt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=jE(i);i!==null;){if(o=i[Yt])return o;i=jE(i)}return r}i=o,o=i.parentNode}return null}function Di(i){if(i=i[Yt]||i[ps]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function gi(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function vs(i){var r=i[ch];return r||(r=i[ch]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function an(i){i[gs]=!0}var Jl=new Set,eu={};function _s(i,r){Ts(i,r),Ts(i+"Capture",r)}function Ts(i,r){for(eu[i]=r,i=0;i<r.length;i++)Jl.add(r[i])}var tu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nu={},iu={};function hh(i){return Ct.call(iu,i)?!0:Ct.call(nu,i)?!1:tu.test(i)?iu[i]=!0:(nu[i]=!0,!1)}function No(i,r,o){if(hh(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function yi(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function on(i,r,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+u)}}function wn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Dr(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function su(i,r,o){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var d=u.get,g=u.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return d.call(this)},set:function(E){o=""+E,g.call(this,E)}}),Object.defineProperty(i,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(E){o=""+E},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Tt(i){if(!i._valueTracker){var r=Dr(i)?"checked":"value";i._valueTracker=su(i,r,""+i[r])}}function Ma(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return i&&(u=Dr(i)?i.checked?"true":"false":i.value),i=u,i!==o?(r.setValue(i),!0):!1}function Es(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Pa=/[\n"\\]/g;function ni(i){return i.replace(Pa,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Do(i,r,o,u,d,g,E,S){i.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.type=E:i.removeAttribute("type"),r!=null?E==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+wn(r)):i.value!==""+wn(r)&&(i.value=""+wn(r)):E!=="submit"&&E!=="reset"||i.removeAttribute("value"),r!=null?ru(i,E,wn(r)):o!=null?ru(i,E,wn(o)):u!=null&&i.removeAttribute("value"),d==null&&g!=null&&(i.defaultChecked=!!g),d!=null&&(i.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.name=""+wn(S):i.removeAttribute("name")}function fh(i,r,o,u,d,g,E,S){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null)){Tt(i);return}o=o!=null?""+wn(o):"",r=r!=null?""+wn(r):o,S||r===i.value||(i.value=r),i.defaultValue=r}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=S?i.checked:!!u,i.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(i.name=E),Tt(i)}function ru(i,r,o){r==="number"&&Es(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Vr(i,r,o,u){if(i=i.options,r){r={};for(var d=0;d<o.length;d++)r["$"+o[d]]=!0;for(o=0;o<i.length;o++)d=r.hasOwnProperty("$"+i[o].value),i[o].selected!==d&&(i[o].selected=d),d&&u&&(i[o].defaultSelected=!0)}else{for(o=""+wn(o),r=null,d=0;d<i.length;d++){if(i[d].value===o){i[d].selected=!0,u&&(i[d].defaultSelected=!0);return}r!==null||i[d].disabled||(r=i[d])}r!==null&&(r.selected=!0)}}function dh(i,r,o){if(r!=null&&(r=""+wn(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+wn(o):""}function Or(i,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(Fe(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=wn(r),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u),Tt(i)}function ii(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var mh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function au(i,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,o):typeof o!="number"||o===0||mh.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function ou(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var d in r)u=r[d],r.hasOwnProperty(d)&&o[d]!==u&&au(i,d,u)}else for(var g in r)r.hasOwnProperty(g)&&au(i,g,r[g])}function Vo(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ph=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Oo(i){return Mr.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Zi(){}var lu=null;function Vi(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Pr=null,bs=null;function ka(i){var r=Di(i);if(r&&(i=r.stateNode)){var o=i[bn]||null;e:switch(i=r.stateNode,r.type){case"input":if(Do(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+ni(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==i&&u.form===i.form){var d=u[bn]||null;if(!d)throw Error(s(90));Do(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===i.form&&Ma(u)}break e;case"textarea":dh(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&Vr(i,!!o.multiple,r,!1)}}}var Mo=!1;function kr(i,r,o){if(Mo)return i(r,o);Mo=!0;try{var u=i(r);return u}finally{if(Mo=!1,(Pr!==null||bs!==null)&&(uf(),Pr&&(r=Pr,i=bs,bs=Pr=null,ka(r),i)))for(r=0;r<i.length;r++)ka(i[r])}}function Ji(i,r){var o=i.stateNode;if(o===null)return null;var u=o[bn]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Oi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),La=!1;if(Oi)try{var wt={};Object.defineProperty(wt,"passive",{get:function(){La=!0}}),window.addEventListener("test",wt,wt),window.removeEventListener("test",wt,wt)}catch{La=!1}var ws=null,uu=null,ja=null;function cu(){if(ja)return ja;var i,r=uu,o=r.length,u,d="value"in ws?ws.value:ws.textContent,g=d.length;for(i=0;i<o&&r[i]===d[i];i++);var E=o-i;for(u=1;u<=E&&r[o-u]===d[g-u];u++);return ja=d.slice(i,1<u?1-u:void 0)}function Ua(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Qs(){return!0}function es(){return!1}function Rn(i){function r(o,u,d,g,E){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var S in i)i.hasOwnProperty(S)&&(o=i[S],this[S]=o?o(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Qs:es,this.isPropagationStopped=es,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Qs)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Qs)},persist:function(){},isPersistent:Qs}),r}var Xs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ss=Rn(Xs),Lr=v({},Xs,{view:0,detail:0}),hu=Rn(Lr),jr,Po,As,ko=v({},Lr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ur,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==As&&(As&&i.type==="mousemove"?(jr=i.screenX-As.screenX,Po=i.screenY-As.screenY):Po=jr=0,As=i),jr)},movementY:function(i){return"movementY"in i?i.movementY:Po}}),fu=Rn(ko),Ba=v({},ko,{dataTransfer:0}),gh=Rn(Ba),yh=v({},Lr,{relatedTarget:0}),za=Rn(yh),du=v({},Xs,{animationName:0,elapsedTime:0,pseudoElement:0}),vh=Rn(du),Lo=v({},Xs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),_h=Rn(Lo),Th=v({},Xs,{data:0}),xs=Rn(Th),Eh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sh(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=wh[i])?!!r[i]:!1}function Ur(){return Sh}var $n=v({},Lr,{key:function(i){if(i.key){var r=Eh[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Ua(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?bh[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ur,charCode:function(i){return i.type==="keypress"?Ua(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ua(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Ah=Rn($n),xh=v({},ko,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ws=Rn(xh),h=v({},Lr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ur}),_=Rn(h),w=v({},Xs,{propertyName:0,elapsedTime:0,pseudoElement:0}),x=Rn(w),Q=v({},ko,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),ee=Rn(Q),ge=v({},Xs,{newState:0,oldState:0}),Ye=Rn(ge),Zt=[9,13,27,32],pt=Oi&&"CompositionEvent"in window,jt=null;Oi&&"documentMode"in document&&(jt=document.documentMode);var Mi=Oi&&"TextEvent"in window&&!jt,Cs=Oi&&(!pt||jt&&8<jt&&11>=jt),ts=" ",ns=!1;function Fa(i,r){switch(i){case"keyup":return Zt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jo(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Uo=!1;function N2(i,r){switch(i){case"compositionend":return jo(r);case"keypress":return r.which!==32?null:(ns=!0,ts);case"textInput":return i=r.data,i===ts&&ns?null:i;default:return null}}function D2(i,r){if(Uo)return i==="compositionend"||!pt&&Fa(i,r)?(i=cu(),ja=uu=ws=null,Uo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Cs&&r.locale!=="ko"?null:r.data;default:return null}}var V2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function z0(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!V2[i.type]:r==="textarea"}function F0(i,r,o,u){Pr?bs?bs.push(u):bs=[u]:Pr=u,r=gf(r,"onChange"),0<r.length&&(o=new Ss("onChange","change",null,o,u),i.push({event:o,listeners:r}))}var mu=null,pu=null;function O2(i){SE(i,0)}function Ch(i){var r=gi(i);if(Ma(r))return i}function H0(i,r){if(i==="change")return r}var q0=!1;if(Oi){var vm;if(Oi){var _m="oninput"in document;if(!_m){var G0=document.createElement("div");G0.setAttribute("oninput","return;"),_m=typeof G0.oninput=="function"}vm=_m}else vm=!1;q0=vm&&(!document.documentMode||9<document.documentMode)}function K0(){mu&&(mu.detachEvent("onpropertychange",Y0),pu=mu=null)}function Y0(i){if(i.propertyName==="value"&&Ch(pu)){var r=[];F0(r,pu,i,Vi(i)),kr(O2,r)}}function M2(i,r,o){i==="focusin"?(K0(),mu=r,pu=o,mu.attachEvent("onpropertychange",Y0)):i==="focusout"&&K0()}function P2(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ch(pu)}function k2(i,r){if(i==="click")return Ch(r)}function L2(i,r){if(i==="input"||i==="change")return Ch(r)}function j2(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var vi=typeof Object.is=="function"?Object.is:j2;function gu(i,r){if(vi(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!Ct.call(r,d)||!vi(i[d],r[d]))return!1}return!0}function $0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Q0(i,r){var o=$0(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=r&&u>=r)return{node:o,offset:r-i};i=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=$0(o)}}function X0(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?X0(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function W0(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Es(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Es(i.document)}return r}function Tm(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var U2=Oi&&"documentMode"in document&&11>=document.documentMode,Bo=null,Em=null,yu=null,bm=!1;function Z0(i,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;bm||Bo==null||Bo!==Es(u)||(u=Bo,"selectionStart"in u&&Tm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),yu&&gu(yu,u)||(yu=u,u=gf(Em,"onSelect"),0<u.length&&(r=new Ss("onSelect","select",null,r,o),i.push({event:r,listeners:u}),r.target=Bo)))}function Ha(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var zo={animationend:Ha("Animation","AnimationEnd"),animationiteration:Ha("Animation","AnimationIteration"),animationstart:Ha("Animation","AnimationStart"),transitionrun:Ha("Transition","TransitionRun"),transitionstart:Ha("Transition","TransitionStart"),transitioncancel:Ha("Transition","TransitionCancel"),transitionend:Ha("Transition","TransitionEnd")},wm={},J0={};Oi&&(J0=document.createElement("div").style,"AnimationEvent"in window||(delete zo.animationend.animation,delete zo.animationiteration.animation,delete zo.animationstart.animation),"TransitionEvent"in window||delete zo.transitionend.transition);function qa(i){if(wm[i])return wm[i];if(!zo[i])return i;var r=zo[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in J0)return wm[i]=r[o];return i}var e_=qa("animationend"),t_=qa("animationiteration"),n_=qa("animationstart"),B2=qa("transitionrun"),z2=qa("transitionstart"),F2=qa("transitioncancel"),i_=qa("transitionend"),s_=new Map,Sm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Sm.push("scrollEnd");function is(i,r){s_.set(i,r),_s(r,[i])}var Rh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Pi=[],Fo=0,Am=0;function Ih(){for(var i=Fo,r=Am=Fo=0;r<i;){var o=Pi[r];Pi[r++]=null;var u=Pi[r];Pi[r++]=null;var d=Pi[r];Pi[r++]=null;var g=Pi[r];if(Pi[r++]=null,u!==null&&d!==null){var E=u.pending;E===null?d.next=d:(d.next=E.next,E.next=d),u.pending=d}g!==0&&r_(o,d,g)}}function Nh(i,r,o,u){Pi[Fo++]=i,Pi[Fo++]=r,Pi[Fo++]=o,Pi[Fo++]=u,Am|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function xm(i,r,o,u){return Nh(i,r,o,u),Dh(i)}function Ga(i,r){return Nh(i,null,null,r),Dh(i)}function r_(i,r,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var d=!1,g=i.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(d=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,d&&r!==null&&(d=31-Rt(o),i=g.hiddenUpdates,u=i[d],u===null?i[d]=[r]:u.push(r),r.lane=o|536870912),g):null}function Dh(i){if(50<Uu)throw Uu=0,Pp=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Ho={};function H2(i,r,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _i(i,r,o,u){return new H2(i,r,o,u)}function Cm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Zs(i,r){var o=i.alternate;return o===null?(o=_i(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function a_(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function Vh(i,r,o,u,d,g){var E=0;if(u=i,typeof i=="function")Cm(i)&&(E=1);else if(typeof i=="string")E=$I(i,o,Te.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case R:return i=_i(31,o,r,d),i.elementType=R,i.lanes=g,i;case V:return Ka(o.children,d,g,r);case M:E=8,d|=24;break;case F:return i=_i(12,o,r,d|2),i.elementType=F,i.lanes=g,i;case J:return i=_i(13,o,r,d),i.elementType=J,i.lanes=g,i;case he:return i=_i(19,o,r,d),i.elementType=he,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case H:E=10;break e;case q:E=9;break e;case ne:E=11;break e;case I:E=14;break e;case C:E=16,u=null;break e}E=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=_i(E,o,r,d),r.elementType=i,r.type=u,r.lanes=g,r}function Ka(i,r,o,u){return i=_i(7,i,u,r),i.lanes=o,i}function Rm(i,r,o){return i=_i(6,i,null,r),i.lanes=o,i}function o_(i){var r=_i(18,null,null,0);return r.stateNode=i,r}function Im(i,r,o){return r=_i(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var l_=new WeakMap;function ki(i,r){if(typeof i=="object"&&i!==null){var o=l_.get(i);return o!==void 0?o:(r={value:i,source:r,stack:Ir(r)},l_.set(i,r),r)}return{value:i,source:r,stack:Ir(r)}}var qo=[],Go=0,Oh=null,vu=0,Li=[],ji=0,Br=null,Rs=1,Is="";function Js(i,r){qo[Go++]=vu,qo[Go++]=Oh,Oh=i,vu=r}function u_(i,r,o){Li[ji++]=Rs,Li[ji++]=Is,Li[ji++]=Br,Br=i;var u=Rs;i=Is;var d=32-Rt(u)-1;u&=~(1<<d),o+=1;var g=32-Rt(r)+d;if(30<g){var E=d-d%5;g=(u&(1<<E)-1).toString(32),u>>=E,d-=E,Rs=1<<32-Rt(r)+d|o<<d|u,Is=g+i}else Rs=1<<g|o<<d|u,Is=i}function Nm(i){i.return!==null&&(Js(i,1),u_(i,1,0))}function Dm(i){for(;i===Oh;)Oh=qo[--Go],qo[Go]=null,vu=qo[--Go],qo[Go]=null;for(;i===Br;)Br=Li[--ji],Li[ji]=null,Is=Li[--ji],Li[ji]=null,Rs=Li[--ji],Li[ji]=null}function c_(i,r){Li[ji++]=Rs,Li[ji++]=Is,Li[ji++]=Br,Rs=r.id,Is=r.overflow,Br=i}var In=null,Pt=null,ut=!1,zr=null,Ui=!1,Vm=Error(s(519));function Fr(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw _u(ki(r,i)),Vm}function h_(i){var r=i.stateNode,o=i.type,u=i.memoizedProps;switch(r[Yt]=i,r[bn]=u,o){case"dialog":nt("cancel",r),nt("close",r);break;case"iframe":case"object":case"embed":nt("load",r);break;case"video":case"audio":for(o=0;o<zu.length;o++)nt(zu[o],r);break;case"source":nt("error",r);break;case"img":case"image":case"link":nt("error",r),nt("load",r);break;case"details":nt("toggle",r);break;case"input":nt("invalid",r),fh(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":nt("invalid",r);break;case"textarea":nt("invalid",r),Or(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||RE(r.textContent,o)?(u.popover!=null&&(nt("beforetoggle",r),nt("toggle",r)),u.onScroll!=null&&nt("scroll",r),u.onScrollEnd!=null&&nt("scrollend",r),u.onClick!=null&&(r.onclick=Zi),r=!0):r=!1,r||Fr(i,!0)}function f_(i){for(In=i.return;In;)switch(In.tag){case 5:case 31:case 13:Ui=!1;return;case 27:case 3:Ui=!0;return;default:In=In.return}}function Ko(i){if(i!==In)return!1;if(!ut)return f_(i),ut=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Xp(i.type,i.memoizedProps)),o=!o),o&&Pt&&Fr(i),f_(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));Pt=LE(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));Pt=LE(i)}else r===27?(r=Pt,na(i.type)?(i=tg,tg=null,Pt=i):Pt=r):Pt=In?zi(i.stateNode.nextSibling):null;return!0}function Ya(){Pt=In=null,ut=!1}function Om(){var i=zr;return i!==null&&(oi===null?oi=i:oi.push.apply(oi,i),zr=null),i}function _u(i){zr===null?zr=[i]:zr.push(i)}var Mm=B(null),$a=null,er=null;function Hr(i,r,o){ye(Mm,r._currentValue),r._currentValue=o}function tr(i){i._currentValue=Mm.current,ae(Mm)}function Pm(i,r,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===o)break;i=i.return}}function km(i,r,o,u){var d=i.child;for(d!==null&&(d.return=i);d!==null;){var g=d.dependencies;if(g!==null){var E=d.child;g=g.firstContext;e:for(;g!==null;){var S=g;g=d;for(var j=0;j<r.length;j++)if(S.context===r[j]){g.lanes|=o,S=g.alternate,S!==null&&(S.lanes|=o),Pm(g.return,o,i),u||(E=null);break e}g=S.next}}else if(d.tag===18){if(E=d.return,E===null)throw Error(s(341));E.lanes|=o,g=E.alternate,g!==null&&(g.lanes|=o),Pm(E,o,i),E=null}else E=d.child;if(E!==null)E.return=d;else for(E=d;E!==null;){if(E===i){E=null;break}if(d=E.sibling,d!==null){d.return=E.return,E=d;break}E=E.return}d=E}}function Yo(i,r,o,u){i=null;for(var d=r,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var E=d.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var S=d.type;vi(d.pendingProps.value,E.value)||(i!==null?i.push(S):i=[S])}}else if(d===We.current){if(E=d.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(i!==null?i.push(Ku):i=[Ku])}d=d.return}i!==null&&km(r,i,o,u),r.flags|=262144}function Mh(i){for(i=i.firstContext;i!==null;){if(!vi(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Qa(i){$a=i,er=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Nn(i){return d_($a,i)}function Ph(i,r){return $a===null&&Qa(i),d_(i,r)}function d_(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},er===null){if(i===null)throw Error(s(308));er=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else er=er.next=r;return o}var q2=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},G2=t.unstable_scheduleCallback,K2=t.unstable_NormalPriority,ln={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lm(){return{controller:new q2,data:new Map,refCount:0}}function Tu(i){i.refCount--,i.refCount===0&&G2(K2,function(){i.controller.abort()})}var Eu=null,jm=0,$o=0,Qo=null;function Y2(i,r){if(Eu===null){var o=Eu=[];jm=0,$o=zp(),Qo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return jm++,r.then(m_,m_),r}function m_(){if(--jm===0&&Eu!==null){Qo!==null&&(Qo.status="fulfilled");var i=Eu;Eu=null,$o=0,Qo=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function $2(i,r){var o=[],u={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var d=0;d<o.length;d++)(0,o[d])(r)},function(d){for(u.status="rejected",u.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),u}var p_=Y.S;Y.S=function(i,r){ZT=de(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&Y2(i,r),p_!==null&&p_(i,r)};var Xa=B(null);function Um(){var i=Xa.current;return i!==null?i:It.pooledCache}function kh(i,r){r===null?ye(Xa,Xa.current):ye(Xa,r.pool)}function g_(){var i=Um();return i===null?null:{parent:ln._currentValue,pool:i}}var Xo=Error(s(460)),Bm=Error(s(474)),Lh=Error(s(542)),jh={then:function(){}};function y_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function v_(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(Zi,Zi),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,T_(i),i;default:if(typeof r.status=="string")r.then(Zi,Zi);else{if(i=It,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=u}},function(u){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,T_(i),i}throw Za=r,Xo}}function Wa(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Za=o,Xo):o}}var Za=null;function __(){if(Za===null)throw Error(s(459));var i=Za;return Za=null,i}function T_(i){if(i===Xo||i===Lh)throw Error(s(483))}var Wo=null,bu=0;function Uh(i){var r=bu;return bu+=1,Wo===null&&(Wo=[]),v_(Wo,i,r)}function wu(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Bh(i,r){throw r.$$typeof===b?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function E_(i){function r(K,z){if(i){var X=K.deletions;X===null?(K.deletions=[z],K.flags|=16):X.push(z)}}function o(K,z){if(!i)return null;for(;z!==null;)r(K,z),z=z.sibling;return null}function u(K){for(var z=new Map;K!==null;)K.key!==null?z.set(K.key,K):z.set(K.index,K),K=K.sibling;return z}function d(K,z){return K=Zs(K,z),K.index=0,K.sibling=null,K}function g(K,z,X){return K.index=X,i?(X=K.alternate,X!==null?(X=X.index,X<z?(K.flags|=67108866,z):X):(K.flags|=67108866,z)):(K.flags|=1048576,z)}function E(K){return i&&K.alternate===null&&(K.flags|=67108866),K}function S(K,z,X,oe){return z===null||z.tag!==6?(z=Rm(X,K.mode,oe),z.return=K,z):(z=d(z,X),z.return=K,z)}function j(K,z,X,oe){var Ne=X.type;return Ne===V?re(K,z,X.props.children,oe,X.key):z!==null&&(z.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===C&&Wa(Ne)===z.type)?(z=d(z,X.props),wu(z,X),z.return=K,z):(z=Vh(X.type,X.key,X.props,null,K.mode,oe),wu(z,X),z.return=K,z)}function W(K,z,X,oe){return z===null||z.tag!==4||z.stateNode.containerInfo!==X.containerInfo||z.stateNode.implementation!==X.implementation?(z=Im(X,K.mode,oe),z.return=K,z):(z=d(z,X.children||[]),z.return=K,z)}function re(K,z,X,oe,Ne){return z===null||z.tag!==7?(z=Ka(X,K.mode,oe,Ne),z.return=K,z):(z=d(z,X),z.return=K,z)}function le(K,z,X){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=Rm(""+z,K.mode,X),z.return=K,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case A:return X=Vh(z.type,z.key,z.props,null,K.mode,X),wu(X,z),X.return=K,X;case D:return z=Im(z,K.mode,X),z.return=K,z;case C:return z=Wa(z),le(K,z,X)}if(Fe(z)||U(z))return z=Ka(z,K.mode,X,null),z.return=K,z;if(typeof z.then=="function")return le(K,Uh(z),X);if(z.$$typeof===H)return le(K,Ph(K,z),X);Bh(K,z)}return null}function Z(K,z,X,oe){var Ne=z!==null?z.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return Ne!==null?null:S(K,z,""+X,oe);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case A:return X.key===Ne?j(K,z,X,oe):null;case D:return X.key===Ne?W(K,z,X,oe):null;case C:return X=Wa(X),Z(K,z,X,oe)}if(Fe(X)||U(X))return Ne!==null?null:re(K,z,X,oe,null);if(typeof X.then=="function")return Z(K,z,Uh(X),oe);if(X.$$typeof===H)return Z(K,z,Ph(K,X),oe);Bh(K,X)}return null}function te(K,z,X,oe,Ne){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return K=K.get(X)||null,S(z,K,""+oe,Ne);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case A:return K=K.get(oe.key===null?X:oe.key)||null,j(z,K,oe,Ne);case D:return K=K.get(oe.key===null?X:oe.key)||null,W(z,K,oe,Ne);case C:return oe=Wa(oe),te(K,z,X,oe,Ne)}if(Fe(oe)||U(oe))return K=K.get(X)||null,re(z,K,oe,Ne,null);if(typeof oe.then=="function")return te(K,z,X,Uh(oe),Ne);if(oe.$$typeof===H)return te(K,z,X,Ph(z,oe),Ne);Bh(z,oe)}return null}function Se(K,z,X,oe){for(var Ne=null,dt=null,xe=z,Xe=z=0,rt=null;xe!==null&&Xe<X.length;Xe++){xe.index>Xe?(rt=xe,xe=null):rt=xe.sibling;var mt=Z(K,xe,X[Xe],oe);if(mt===null){xe===null&&(xe=rt);break}i&&xe&&mt.alternate===null&&r(K,xe),z=g(mt,z,Xe),dt===null?Ne=mt:dt.sibling=mt,dt=mt,xe=rt}if(Xe===X.length)return o(K,xe),ut&&Js(K,Xe),Ne;if(xe===null){for(;Xe<X.length;Xe++)xe=le(K,X[Xe],oe),xe!==null&&(z=g(xe,z,Xe),dt===null?Ne=xe:dt.sibling=xe,dt=xe);return ut&&Js(K,Xe),Ne}for(xe=u(xe);Xe<X.length;Xe++)rt=te(xe,K,Xe,X[Xe],oe),rt!==null&&(i&&rt.alternate!==null&&xe.delete(rt.key===null?Xe:rt.key),z=g(rt,z,Xe),dt===null?Ne=rt:dt.sibling=rt,dt=rt);return i&&xe.forEach(function(oa){return r(K,oa)}),ut&&Js(K,Xe),Ne}function Me(K,z,X,oe){if(X==null)throw Error(s(151));for(var Ne=null,dt=null,xe=z,Xe=z=0,rt=null,mt=X.next();xe!==null&&!mt.done;Xe++,mt=X.next()){xe.index>Xe?(rt=xe,xe=null):rt=xe.sibling;var oa=Z(K,xe,mt.value,oe);if(oa===null){xe===null&&(xe=rt);break}i&&xe&&oa.alternate===null&&r(K,xe),z=g(oa,z,Xe),dt===null?Ne=oa:dt.sibling=oa,dt=oa,xe=rt}if(mt.done)return o(K,xe),ut&&Js(K,Xe),Ne;if(xe===null){for(;!mt.done;Xe++,mt=X.next())mt=le(K,mt.value,oe),mt!==null&&(z=g(mt,z,Xe),dt===null?Ne=mt:dt.sibling=mt,dt=mt);return ut&&Js(K,Xe),Ne}for(xe=u(xe);!mt.done;Xe++,mt=X.next())mt=te(xe,K,Xe,mt.value,oe),mt!==null&&(i&&mt.alternate!==null&&xe.delete(mt.key===null?Xe:mt.key),z=g(mt,z,Xe),dt===null?Ne=mt:dt.sibling=mt,dt=mt);return i&&xe.forEach(function(rN){return r(K,rN)}),ut&&Js(K,Xe),Ne}function xt(K,z,X,oe){if(typeof X=="object"&&X!==null&&X.type===V&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case A:e:{for(var Ne=X.key;z!==null;){if(z.key===Ne){if(Ne=X.type,Ne===V){if(z.tag===7){o(K,z.sibling),oe=d(z,X.props.children),oe.return=K,K=oe;break e}}else if(z.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===C&&Wa(Ne)===z.type){o(K,z.sibling),oe=d(z,X.props),wu(oe,X),oe.return=K,K=oe;break e}o(K,z);break}else r(K,z);z=z.sibling}X.type===V?(oe=Ka(X.props.children,K.mode,oe,X.key),oe.return=K,K=oe):(oe=Vh(X.type,X.key,X.props,null,K.mode,oe),wu(oe,X),oe.return=K,K=oe)}return E(K);case D:e:{for(Ne=X.key;z!==null;){if(z.key===Ne)if(z.tag===4&&z.stateNode.containerInfo===X.containerInfo&&z.stateNode.implementation===X.implementation){o(K,z.sibling),oe=d(z,X.children||[]),oe.return=K,K=oe;break e}else{o(K,z);break}else r(K,z);z=z.sibling}oe=Im(X,K.mode,oe),oe.return=K,K=oe}return E(K);case C:return X=Wa(X),xt(K,z,X,oe)}if(Fe(X))return Se(K,z,X,oe);if(U(X)){if(Ne=U(X),typeof Ne!="function")throw Error(s(150));return X=Ne.call(X),Me(K,z,X,oe)}if(typeof X.then=="function")return xt(K,z,Uh(X),oe);if(X.$$typeof===H)return xt(K,z,Ph(K,X),oe);Bh(K,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,z!==null&&z.tag===6?(o(K,z.sibling),oe=d(z,X),oe.return=K,K=oe):(o(K,z),oe=Rm(X,K.mode,oe),oe.return=K,K=oe),E(K)):o(K,z)}return function(K,z,X,oe){try{bu=0;var Ne=xt(K,z,X,oe);return Wo=null,Ne}catch(xe){if(xe===Xo||xe===Lh)throw xe;var dt=_i(29,xe,null,K.mode);return dt.lanes=oe,dt.return=K,dt}finally{}}}var Ja=E_(!0),b_=E_(!1),qr=!1;function zm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fm(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Gr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Kr(i,r,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(gt&2)!==0){var d=u.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),u.pending=r,r=Dh(i),r_(i,null,o),r}return Nh(i,u,r,o),Dh(i)}function Su(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,mi(i,o)}}function Hm(i,r){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?d=g=E:g=g.next=E,o=o.next}while(o!==null);g===null?d=g=r:g=g.next=r}else d=g=r;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var qm=!1;function Au(){if(qm){var i=Qo;if(i!==null)throw i}}function xu(i,r,o,u){qm=!1;var d=i.updateQueue;qr=!1;var g=d.firstBaseUpdate,E=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var j=S,W=j.next;j.next=null,E===null?g=W:E.next=W,E=j;var re=i.alternate;re!==null&&(re=re.updateQueue,S=re.lastBaseUpdate,S!==E&&(S===null?re.firstBaseUpdate=W:S.next=W,re.lastBaseUpdate=j))}if(g!==null){var le=d.baseState;E=0,re=W=j=null,S=g;do{var Z=S.lane&-536870913,te=Z!==S.lane;if(te?(st&Z)===Z:(u&Z)===Z){Z!==0&&Z===$o&&(qm=!0),re!==null&&(re=re.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Se=i,Me=S;Z=r;var xt=o;switch(Me.tag){case 1:if(Se=Me.payload,typeof Se=="function"){le=Se.call(xt,le,Z);break e}le=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Me.payload,Z=typeof Se=="function"?Se.call(xt,le,Z):Se,Z==null)break e;le=v({},le,Z);break e;case 2:qr=!0}}Z=S.callback,Z!==null&&(i.flags|=64,te&&(i.flags|=8192),te=d.callbacks,te===null?d.callbacks=[Z]:te.push(Z))}else te={lane:Z,tag:S.tag,payload:S.payload,callback:S.callback,next:null},re===null?(W=re=te,j=le):re=re.next=te,E|=Z;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;te=S,S=te.next,te.next=null,d.lastBaseUpdate=te,d.shared.pending=null}}while(!0);re===null&&(j=le),d.baseState=j,d.firstBaseUpdate=W,d.lastBaseUpdate=re,g===null&&(d.shared.lanes=0),Wr|=E,i.lanes=E,i.memoizedState=le}}function w_(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function S_(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)w_(o[i],r)}var Zo=B(null),zh=B(0);function A_(i,r){i=cr,ye(zh,i),ye(Zo,r),cr=i|r.baseLanes}function Gm(){ye(zh,cr),ye(Zo,Zo.current)}function Km(){cr=zh.current,ae(Zo),ae(zh)}var Ti=B(null),Bi=null;function Yr(i){var r=i.alternate;ye(Jt,Jt.current&1),ye(Ti,i),Bi===null&&(r===null||Zo.current!==null||r.memoizedState!==null)&&(Bi=i)}function Ym(i){ye(Jt,Jt.current),ye(Ti,i),Bi===null&&(Bi=i)}function x_(i){i.tag===22?(ye(Jt,Jt.current),ye(Ti,i),Bi===null&&(Bi=i)):$r()}function $r(){ye(Jt,Jt.current),ye(Ti,Ti.current)}function Ei(i){ae(Ti),Bi===i&&(Bi=null),ae(Jt)}var Jt=B(0);function Fh(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Jp(o)||eg(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var nr=0,$e=null,St=null,un=null,Hh=!1,Jo=!1,eo=!1,qh=0,Cu=0,el=null,Q2=0;function $t(){throw Error(s(321))}function $m(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!vi(i[o],r[o]))return!1;return!0}function Qm(i,r,o,u,d,g){return nr=g,$e=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Y.H=i===null||i.memoizedState===null?uT:cp,eo=!1,g=o(u,d),eo=!1,Jo&&(g=R_(r,o,u,d)),C_(i),g}function C_(i){Y.H=Nu;var r=St!==null&&St.next!==null;if(nr=0,un=St=$e=null,Hh=!1,Cu=0,el=null,r)throw Error(s(300));i===null||cn||(i=i.dependencies,i!==null&&Mh(i)&&(cn=!0))}function R_(i,r,o,u){$e=i;var d=0;do{if(Jo&&(el=null),Cu=0,Jo=!1,25<=d)throw Error(s(301));if(d+=1,un=St=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}Y.H=cT,g=r(o,u)}while(Jo);return g}function X2(){var i=Y.H,r=i.useState()[0];return r=typeof r.then=="function"?Ru(r):r,i=i.useState()[0],(St!==null?St.memoizedState:null)!==i&&($e.flags|=1024),r}function Xm(){var i=qh!==0;return qh=0,i}function Wm(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function Zm(i){if(Hh){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Hh=!1}nr=0,un=St=$e=null,Jo=!1,Cu=qh=0,el=null}function Qn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return un===null?$e.memoizedState=un=i:un=un.next=i,un}function en(){if(St===null){var i=$e.alternate;i=i!==null?i.memoizedState:null}else i=St.next;var r=un===null?$e.memoizedState:un.next;if(r!==null)un=r,St=i;else{if(i===null)throw $e.alternate===null?Error(s(467)):Error(s(310));St=i,i={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},un===null?$e.memoizedState=un=i:un=un.next=i}return un}function Gh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ru(i){var r=Cu;return Cu+=1,el===null&&(el=[]),i=v_(el,i,r),r=$e,(un===null?r.memoizedState:un.next)===null&&(r=r.alternate,Y.H=r===null||r.memoizedState===null?uT:cp),i}function Kh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Ru(i);if(i.$$typeof===H)return Nn(i)}throw Error(s(438,String(i)))}function Jm(i){var r=null,o=$e.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=$e.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Gh(),$e.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),u=0;u<i;u++)o[u]=L;return r.index++,o}function ir(i,r){return typeof r=="function"?r(i):r}function Yh(i){var r=en();return ep(r,St,i)}function ep(i,r,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var d=i.baseQueue,g=u.pending;if(g!==null){if(d!==null){var E=d.next;d.next=g.next,g.next=E}r.baseQueue=d=g,u.pending=null}if(g=i.baseState,d===null)i.memoizedState=g;else{r=d.next;var S=E=null,j=null,W=r,re=!1;do{var le=W.lane&-536870913;if(le!==W.lane?(st&le)===le:(nr&le)===le){var Z=W.revertLane;if(Z===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),le===$o&&(re=!0);else if((nr&Z)===Z){W=W.next,Z===$o&&(re=!0);continue}else le={lane:0,revertLane:W.revertLane,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},j===null?(S=j=le,E=g):j=j.next=le,$e.lanes|=Z,Wr|=Z;le=W.action,eo&&o(g,le),g=W.hasEagerState?W.eagerState:o(g,le)}else Z={lane:le,revertLane:W.revertLane,gesture:W.gesture,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},j===null?(S=j=Z,E=g):j=j.next=Z,$e.lanes|=le,Wr|=le;W=W.next}while(W!==null&&W!==r);if(j===null?E=g:j.next=S,!vi(g,i.memoizedState)&&(cn=!0,re&&(o=Qo,o!==null)))throw o;i.memoizedState=g,i.baseState=E,i.baseQueue=j,u.lastRenderedState=g}return d===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function tp(i){var r=en(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,d=o.pending,g=r.memoizedState;if(d!==null){o.pending=null;var E=d=d.next;do g=i(g,E.action),E=E.next;while(E!==d);vi(g,r.memoizedState)||(cn=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,u]}function I_(i,r,o){var u=$e,d=en(),g=ut;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=r();var E=!vi((St||d).memoizedState,o);if(E&&(d.memoizedState=o,cn=!0),d=d.queue,sp(V_.bind(null,u,d,i),[i]),d.getSnapshot!==r||E||un!==null&&un.memoizedState.tag&1){if(u.flags|=2048,tl(9,{destroy:void 0},D_.bind(null,u,d,o,r),null),It===null)throw Error(s(349));g||(nr&127)!==0||N_(u,r,o)}return o}function N_(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=$e.updateQueue,r===null?(r=Gh(),$e.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function D_(i,r,o,u){r.value=o,r.getSnapshot=u,O_(r)&&M_(i)}function V_(i,r,o){return o(function(){O_(r)&&M_(i)})}function O_(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!vi(i,o)}catch{return!0}}function M_(i){var r=Ga(i,2);r!==null&&li(r,i,2)}function np(i){var r=Qn();if(typeof i=="function"){var o=i;if(i=o(),eo){Ot(!0);try{o()}finally{Ot(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:i},r}function P_(i,r,o,u){return i.baseState=o,ep(i,St,typeof u=="function"?u:ir)}function W2(i,r,o,u,d){if(Xh(i))throw Error(s(485));if(i=r.action,i!==null){var g={payload:d,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){g.listeners.push(E)}};Y.T!==null?o(!0):g.isTransition=!1,u(g),o=r.pending,o===null?(g.next=r.pending=g,k_(r,g)):(g.next=o.next,r.pending=o.next=g)}}function k_(i,r){var o=r.action,u=r.payload,d=i.state;if(r.isTransition){var g=Y.T,E={};Y.T=E;try{var S=o(d,u),j=Y.S;j!==null&&j(E,S),L_(i,r,S)}catch(W){ip(i,r,W)}finally{g!==null&&E.types!==null&&(g.types=E.types),Y.T=g}}else try{g=o(d,u),L_(i,r,g)}catch(W){ip(i,r,W)}}function L_(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){j_(i,r,u)},function(u){return ip(i,r,u)}):j_(i,r,o)}function j_(i,r,o){r.status="fulfilled",r.value=o,U_(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,k_(i,o)))}function ip(i,r,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,U_(r),r=r.next;while(r!==u)}i.action=null}function U_(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function B_(i,r){return r}function z_(i,r){if(ut){var o=It.formState;if(o!==null){e:{var u=$e;if(ut){if(Pt){t:{for(var d=Pt,g=Ui;d.nodeType!==8;){if(!g){d=null;break t}if(d=zi(d.nextSibling),d===null){d=null;break t}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){Pt=zi(d.nextSibling),u=d.data==="F!";break e}}Fr(u)}u=!1}u&&(r=o[0])}}return o=Qn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:B_,lastRenderedState:r},o.queue=u,o=aT.bind(null,$e,u),u.dispatch=o,u=np(!1),g=up.bind(null,$e,!1,u.queue),u=Qn(),d={state:r,dispatch:null,action:i,pending:null},u.queue=d,o=W2.bind(null,$e,d,g,o),d.dispatch=o,u.memoizedState=i,[r,o,!1]}function F_(i){var r=en();return H_(r,St,i)}function H_(i,r,o){if(r=ep(i,r,B_)[0],i=Yh(ir)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Ru(r)}catch(E){throw E===Xo?Lh:E}else u=r;r=en();var d=r.queue,g=d.dispatch;return o!==r.memoizedState&&($e.flags|=2048,tl(9,{destroy:void 0},Z2.bind(null,d,o),null)),[u,g,i]}function Z2(i,r){i.action=r}function q_(i){var r=en(),o=St;if(o!==null)return H_(r,o,i);en(),r=r.memoizedState,o=en();var u=o.queue.dispatch;return o.memoizedState=i,[r,u,!1]}function tl(i,r,o,u){return i={tag:i,create:o,deps:u,inst:r,next:null},r=$e.updateQueue,r===null&&(r=Gh(),$e.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,r.lastEffect=i),i}function G_(){return en().memoizedState}function $h(i,r,o,u){var d=Qn();$e.flags|=i,d.memoizedState=tl(1|r,{destroy:void 0},o,u===void 0?null:u)}function Qh(i,r,o,u){var d=en();u=u===void 0?null:u;var g=d.memoizedState.inst;St!==null&&u!==null&&$m(u,St.memoizedState.deps)?d.memoizedState=tl(r,g,o,u):($e.flags|=i,d.memoizedState=tl(1|r,g,o,u))}function K_(i,r){$h(8390656,8,i,r)}function sp(i,r){Qh(2048,8,i,r)}function J2(i){$e.flags|=4;var r=$e.updateQueue;if(r===null)r=Gh(),$e.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function Y_(i){var r=en().memoizedState;return J2({ref:r,nextImpl:i}),function(){if((gt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function $_(i,r){return Qh(4,2,i,r)}function Q_(i,r){return Qh(4,4,i,r)}function X_(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function W_(i,r,o){o=o!=null?o.concat([i]):null,Qh(4,4,X_.bind(null,r,i),o)}function rp(){}function Z_(i,r){var o=en();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&$m(r,u[1])?u[0]:(o.memoizedState=[i,r],i)}function J_(i,r){var o=en();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&$m(r,u[1]))return u[0];if(u=i(),eo){Ot(!0);try{i()}finally{Ot(!1)}}return o.memoizedState=[u,r],u}function ap(i,r,o){return o===void 0||(nr&1073741824)!==0&&(st&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=eE(),$e.lanes|=i,Wr|=i,o)}function eT(i,r,o,u){return vi(o,r)?o:Zo.current!==null?(i=ap(i,o,u),vi(i,r)||(cn=!0),i):(nr&42)===0||(nr&1073741824)!==0&&(st&261930)===0?(cn=!0,i.memoizedState=o):(i=eE(),$e.lanes|=i,Wr|=i,r)}function tT(i,r,o,u,d){var g=ie.p;ie.p=g!==0&&8>g?g:8;var E=Y.T,S={};Y.T=S,up(i,!1,r,o);try{var j=d(),W=Y.S;if(W!==null&&W(S,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var re=$2(j,u);Iu(i,r,re,Si(i))}else Iu(i,r,u,Si(i))}catch(le){Iu(i,r,{then:function(){},status:"rejected",reason:le},Si())}finally{ie.p=g,E!==null&&S.types!==null&&(E.types=S.types),Y.T=E}}function eI(){}function op(i,r,o,u){if(i.tag!==5)throw Error(s(476));var d=nT(i).queue;tT(i,d,r,ve,o===null?eI:function(){return iT(i),o(u)})}function nT(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:ve,baseState:ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:ve},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function iT(i){var r=nT(i);r.next===null&&(r=i.alternate.memoizedState),Iu(i,r.next.queue,{},Si())}function lp(){return Nn(Ku)}function sT(){return en().memoizedState}function rT(){return en().memoizedState}function tI(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=Si();i=Gr(o);var u=Kr(r,i,o);u!==null&&(li(u,r,o),Su(u,r,o)),r={cache:Lm()},i.payload=r;return}r=r.return}}function nI(i,r,o){var u=Si();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Xh(i)?oT(r,o):(o=xm(i,r,o,u),o!==null&&(li(o,i,u),lT(o,r,u)))}function aT(i,r,o){var u=Si();Iu(i,r,o,u)}function Iu(i,r,o,u){var d={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Xh(i))oT(r,d);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var E=r.lastRenderedState,S=g(E,o);if(d.hasEagerState=!0,d.eagerState=S,vi(S,E))return Nh(i,r,d,0),It===null&&Ih(),!1}catch{}finally{}if(o=xm(i,r,d,u),o!==null)return li(o,i,u),lT(o,r,u),!0}return!1}function up(i,r,o,u){if(u={lane:2,revertLane:zp(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Xh(i)){if(r)throw Error(s(479))}else r=xm(i,o,u,2),r!==null&&li(r,i,2)}function Xh(i){var r=i.alternate;return i===$e||r!==null&&r===$e}function oT(i,r){Jo=Hh=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function lT(i,r,o){if((o&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,mi(i,o)}}var Nu={readContext:Nn,use:Kh,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useLayoutEffect:$t,useInsertionEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useSyncExternalStore:$t,useId:$t,useHostTransitionStatus:$t,useFormState:$t,useActionState:$t,useOptimistic:$t,useMemoCache:$t,useCacheRefresh:$t};Nu.useEffectEvent=$t;var uT={readContext:Nn,use:Kh,useCallback:function(i,r){return Qn().memoizedState=[i,r===void 0?null:r],i},useContext:Nn,useEffect:K_,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,$h(4194308,4,X_.bind(null,r,i),o)},useLayoutEffect:function(i,r){return $h(4194308,4,i,r)},useInsertionEffect:function(i,r){$h(4,2,i,r)},useMemo:function(i,r){var o=Qn();r=r===void 0?null:r;var u=i();if(eo){Ot(!0);try{i()}finally{Ot(!1)}}return o.memoizedState=[u,r],u},useReducer:function(i,r,o){var u=Qn();if(o!==void 0){var d=o(r);if(eo){Ot(!0);try{o(r)}finally{Ot(!1)}}}else d=r;return u.memoizedState=u.baseState=d,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:d},u.queue=i,i=i.dispatch=nI.bind(null,$e,i),[u.memoizedState,i]},useRef:function(i){var r=Qn();return i={current:i},r.memoizedState=i},useState:function(i){i=np(i);var r=i.queue,o=aT.bind(null,$e,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:rp,useDeferredValue:function(i,r){var o=Qn();return ap(o,i,r)},useTransition:function(){var i=np(!1);return i=tT.bind(null,$e,i.queue,!0,!1),Qn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var u=$e,d=Qn();if(ut){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),It===null)throw Error(s(349));(st&127)!==0||N_(u,r,o)}d.memoizedState=o;var g={value:o,getSnapshot:r};return d.queue=g,K_(V_.bind(null,u,g,i),[i]),u.flags|=2048,tl(9,{destroy:void 0},D_.bind(null,u,g,o,r),null),o},useId:function(){var i=Qn(),r=It.identifierPrefix;if(ut){var o=Is,u=Rs;o=(u&~(1<<32-Rt(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=qh++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=Q2++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:lp,useFormState:z_,useActionState:z_,useOptimistic:function(i){var r=Qn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=up.bind(null,$e,!0,o),o.dispatch=r,[i,r]},useMemoCache:Jm,useCacheRefresh:function(){return Qn().memoizedState=tI.bind(null,$e)},useEffectEvent:function(i){var r=Qn(),o={impl:i};return r.memoizedState=o,function(){if((gt&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},cp={readContext:Nn,use:Kh,useCallback:Z_,useContext:Nn,useEffect:sp,useImperativeHandle:W_,useInsertionEffect:$_,useLayoutEffect:Q_,useMemo:J_,useReducer:Yh,useRef:G_,useState:function(){return Yh(ir)},useDebugValue:rp,useDeferredValue:function(i,r){var o=en();return eT(o,St.memoizedState,i,r)},useTransition:function(){var i=Yh(ir)[0],r=en().memoizedState;return[typeof i=="boolean"?i:Ru(i),r]},useSyncExternalStore:I_,useId:sT,useHostTransitionStatus:lp,useFormState:F_,useActionState:F_,useOptimistic:function(i,r){var o=en();return P_(o,St,i,r)},useMemoCache:Jm,useCacheRefresh:rT};cp.useEffectEvent=Y_;var cT={readContext:Nn,use:Kh,useCallback:Z_,useContext:Nn,useEffect:sp,useImperativeHandle:W_,useInsertionEffect:$_,useLayoutEffect:Q_,useMemo:J_,useReducer:tp,useRef:G_,useState:function(){return tp(ir)},useDebugValue:rp,useDeferredValue:function(i,r){var o=en();return St===null?ap(o,i,r):eT(o,St.memoizedState,i,r)},useTransition:function(){var i=tp(ir)[0],r=en().memoizedState;return[typeof i=="boolean"?i:Ru(i),r]},useSyncExternalStore:I_,useId:sT,useHostTransitionStatus:lp,useFormState:q_,useActionState:q_,useOptimistic:function(i,r){var o=en();return St!==null?P_(o,St,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Jm,useCacheRefresh:rT};cT.useEffectEvent=Y_;function hp(i,r,o,u){r=i.memoizedState,o=o(u,r),o=o==null?r:v({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var fp={enqueueSetState:function(i,r,o){i=i._reactInternals;var u=Si(),d=Gr(u);d.payload=r,o!=null&&(d.callback=o),r=Kr(i,d,u),r!==null&&(li(r,i,u),Su(r,i,u))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var u=Si(),d=Gr(u);d.tag=1,d.payload=r,o!=null&&(d.callback=o),r=Kr(i,d,u),r!==null&&(li(r,i,u),Su(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=Si(),u=Gr(o);u.tag=2,r!=null&&(u.callback=r),r=Kr(i,u,o),r!==null&&(li(r,i,o),Su(r,i,o))}};function hT(i,r,o,u,d,g,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,E):r.prototype&&r.prototype.isPureReactComponent?!gu(o,u)||!gu(d,g):!0}function fT(i,r,o,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==i&&fp.enqueueReplaceState(r,r.state,null)}function to(i,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(i=i.defaultProps){o===r&&(o=v({},o));for(var d in i)o[d]===void 0&&(o[d]=i[d])}return o}function dT(i){Rh(i)}function mT(i){console.error(i)}function pT(i){Rh(i)}function Wh(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function gT(i,r,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function dp(i,r,o){return o=Gr(o),o.tag=3,o.payload={element:null},o.callback=function(){Wh(i,r)},o}function yT(i){return i=Gr(i),i.tag=3,i}function vT(i,r,o,u){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=u.value;i.payload=function(){return d(g)},i.callback=function(){gT(r,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(i.callback=function(){gT(r,o,u),typeof d!="function"&&(Zr===null?Zr=new Set([this]):Zr.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function iI(i,r,o,u,d){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&Yo(r,o,d,!0),o=Ti.current,o!==null){switch(o.tag){case 31:case 13:return Bi===null?cf():o.alternate===null&&Qt===0&&(Qt=3),o.flags&=-257,o.flags|=65536,o.lanes=d,u===jh?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),jp(i,u,d)),!1;case 22:return o.flags|=65536,u===jh?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),jp(i,u,d)),!1}throw Error(s(435,o.tag))}return jp(i,u,d),cf(),!1}if(ut)return r=Ti.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,u!==Vm&&(i=Error(s(422),{cause:u}),_u(ki(i,o)))):(u!==Vm&&(r=Error(s(423),{cause:u}),_u(ki(r,o))),i=i.current.alternate,i.flags|=65536,d&=-d,i.lanes|=d,u=ki(u,o),d=dp(i.stateNode,u,d),Hm(i,d),Qt!==4&&(Qt=2)),!1;var g=Error(s(520),{cause:u});if(g=ki(g,o),ju===null?ju=[g]:ju.push(g),Qt!==4&&(Qt=2),r===null)return!0;u=ki(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=d&-d,o.lanes|=i,i=dp(o.stateNode,u,i),Hm(o,i),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Zr===null||!Zr.has(g))))return o.flags|=65536,d&=-d,o.lanes|=d,d=yT(d),vT(d,i,o,u),Hm(o,d),!1}o=o.return}while(o!==null);return!1}var mp=Error(s(461)),cn=!1;function Dn(i,r,o,u){r.child=i===null?b_(r,null,o,u):Ja(r,i.child,o,u)}function _T(i,r,o,u,d){o=o.render;var g=r.ref;if("ref"in u){var E={};for(var S in u)S!=="ref"&&(E[S]=u[S])}else E=u;return Qa(r),u=Qm(i,r,o,E,g,d),S=Xm(),i!==null&&!cn?(Wm(i,r,d),sr(i,r,d)):(ut&&S&&Nm(r),r.flags|=1,Dn(i,r,u,d),r.child)}function TT(i,r,o,u,d){if(i===null){var g=o.type;return typeof g=="function"&&!Cm(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,ET(i,r,g,u,d)):(i=Vh(o.type,null,u,r,r.mode,d),i.ref=r.ref,i.return=r,r.child=i)}if(g=i.child,!bp(i,d)){var E=g.memoizedProps;if(o=o.compare,o=o!==null?o:gu,o(E,u)&&i.ref===r.ref)return sr(i,r,d)}return r.flags|=1,i=Zs(g,u),i.ref=r.ref,i.return=r,r.child=i}function ET(i,r,o,u,d){if(i!==null){var g=i.memoizedProps;if(gu(g,u)&&i.ref===r.ref)if(cn=!1,r.pendingProps=u=g,bp(i,d))(i.flags&131072)!==0&&(cn=!0);else return r.lanes=i.lanes,sr(i,r,d)}return pp(i,r,o,u,d)}function bT(i,r,o,u){var d=u.children,g=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,i!==null){for(u=r.child=i.child,d=0;u!==null;)d=d|u.lanes|u.childLanes,u=u.sibling;u=d&~g}else u=0,r.child=null;return wT(i,r,g,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&kh(r,g!==null?g.cachePool:null),g!==null?A_(r,g):Gm(),x_(r);else return u=r.lanes=536870912,wT(i,r,g!==null?g.baseLanes|o:o,o,u)}else g!==null?(kh(r,g.cachePool),A_(r,g),$r(),r.memoizedState=null):(i!==null&&kh(r,null),Gm(),$r());return Dn(i,r,d,o),r.child}function Du(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function wT(i,r,o,u,d){var g=Um();return g=g===null?null:{parent:ln._currentValue,pool:g},r.memoizedState={baseLanes:o,cachePool:g},i!==null&&kh(r,null),Gm(),x_(r),i!==null&&Yo(i,r,u,!0),r.childLanes=d,null}function Zh(i,r){return r=ef({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function ST(i,r,o){return Ja(r,i.child,null,o),i=Zh(r,r.pendingProps),i.flags|=2,Ei(r),r.memoizedState=null,i}function sI(i,r,o){var u=r.pendingProps,d=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(ut){if(u.mode==="hidden")return i=Zh(r,u),r.lanes=536870912,Du(null,i);if(Ym(r),(i=Pt)?(i=kE(i,Ui),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Br!==null?{id:Rs,overflow:Is}:null,retryLane:536870912,hydrationErrors:null},o=o_(i),o.return=r,r.child=o,In=r,Pt=null)):i=null,i===null)throw Fr(r);return r.lanes=536870912,null}return Zh(r,u)}var g=i.memoizedState;if(g!==null){var E=g.dehydrated;if(Ym(r),d)if(r.flags&256)r.flags&=-257,r=ST(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(cn||Yo(i,r,o,!1),d=(o&i.childLanes)!==0,cn||d){if(u=It,u!==null&&(E=pi(u,o),E!==0&&E!==g.retryLane))throw g.retryLane=E,Ga(i,E),li(u,i,E),mp;cf(),r=ST(i,r,o)}else i=g.treeContext,Pt=zi(E.nextSibling),In=r,ut=!0,zr=null,Ui=!1,i!==null&&c_(r,i),r=Zh(r,u),r.flags|=4096;return r}return i=Zs(i.child,{mode:u.mode,children:u.children}),i.ref=r.ref,r.child=i,i.return=r,i}function Jh(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function pp(i,r,o,u,d){return Qa(r),o=Qm(i,r,o,u,void 0,d),u=Xm(),i!==null&&!cn?(Wm(i,r,d),sr(i,r,d)):(ut&&u&&Nm(r),r.flags|=1,Dn(i,r,o,d),r.child)}function AT(i,r,o,u,d,g){return Qa(r),r.updateQueue=null,o=R_(r,u,o,d),C_(i),u=Xm(),i!==null&&!cn?(Wm(i,r,g),sr(i,r,g)):(ut&&u&&Nm(r),r.flags|=1,Dn(i,r,o,g),r.child)}function xT(i,r,o,u,d){if(Qa(r),r.stateNode===null){var g=Ho,E=o.contextType;typeof E=="object"&&E!==null&&(g=Nn(E)),g=new o(u,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=fp,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=u,g.state=r.memoizedState,g.refs={},zm(r),E=o.contextType,g.context=typeof E=="object"&&E!==null?Nn(E):Ho,g.state=r.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(hp(r,o,E,u),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(E=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),E!==g.state&&fp.enqueueReplaceState(g,g.state,null),xu(r,u,g,d),Au(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){g=r.stateNode;var S=r.memoizedProps,j=to(o,S);g.props=j;var W=g.context,re=o.contextType;E=Ho,typeof re=="object"&&re!==null&&(E=Nn(re));var le=o.getDerivedStateFromProps;re=typeof le=="function"||typeof g.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,re||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S||W!==E)&&fT(r,g,u,E),qr=!1;var Z=r.memoizedState;g.state=Z,xu(r,u,g,d),Au(),W=r.memoizedState,S||Z!==W||qr?(typeof le=="function"&&(hp(r,o,le,u),W=r.memoizedState),(j=qr||hT(r,o,j,u,Z,W,E))?(re||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=W),g.props=u,g.state=W,g.context=E,u=j):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{g=r.stateNode,Fm(i,r),E=r.memoizedProps,re=to(o,E),g.props=re,le=r.pendingProps,Z=g.context,W=o.contextType,j=Ho,typeof W=="object"&&W!==null&&(j=Nn(W)),S=o.getDerivedStateFromProps,(W=typeof S=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E!==le||Z!==j)&&fT(r,g,u,j),qr=!1,Z=r.memoizedState,g.state=Z,xu(r,u,g,d),Au();var te=r.memoizedState;E!==le||Z!==te||qr||i!==null&&i.dependencies!==null&&Mh(i.dependencies)?(typeof S=="function"&&(hp(r,o,S,u),te=r.memoizedState),(re=qr||hT(r,o,re,u,Z,te,j)||i!==null&&i.dependencies!==null&&Mh(i.dependencies))?(W||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,te,j),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,te,j)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||E===i.memoizedProps&&Z===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&Z===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=te),g.props=u,g.state=te,g.context=j,u=re):(typeof g.componentDidUpdate!="function"||E===i.memoizedProps&&Z===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&Z===i.memoizedState||(r.flags|=1024),u=!1)}return g=u,Jh(i,r),u=(r.flags&128)!==0,g||u?(g=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,i!==null&&u?(r.child=Ja(r,i.child,null,d),r.child=Ja(r,null,o,d)):Dn(i,r,o,d),r.memoizedState=g.state,i=r.child):i=sr(i,r,d),i}function CT(i,r,o,u){return Ya(),r.flags|=256,Dn(i,r,o,u),r.child}var gp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yp(i){return{baseLanes:i,cachePool:g_()}}function vp(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=wi),i}function RT(i,r,o){var u=r.pendingProps,d=!1,g=(r.flags&128)!==0,E;if((E=g)||(E=i!==null&&i.memoizedState===null?!1:(Jt.current&2)!==0),E&&(d=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,i===null){if(ut){if(d?Yr(r):$r(),(i=Pt)?(i=kE(i,Ui),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Br!==null?{id:Rs,overflow:Is}:null,retryLane:536870912,hydrationErrors:null},o=o_(i),o.return=r,r.child=o,In=r,Pt=null)):i=null,i===null)throw Fr(r);return eg(i)?r.lanes=32:r.lanes=536870912,null}var S=u.children;return u=u.fallback,d?($r(),d=r.mode,S=ef({mode:"hidden",children:S},d),u=Ka(u,d,o,null),S.return=r,u.return=r,S.sibling=u,r.child=S,u=r.child,u.memoizedState=yp(o),u.childLanes=vp(i,E,o),r.memoizedState=gp,Du(null,u)):(Yr(r),_p(r,S))}var j=i.memoizedState;if(j!==null&&(S=j.dehydrated,S!==null)){if(g)r.flags&256?(Yr(r),r.flags&=-257,r=Tp(i,r,o)):r.memoizedState!==null?($r(),r.child=i.child,r.flags|=128,r=null):($r(),S=u.fallback,d=r.mode,u=ef({mode:"visible",children:u.children},d),S=Ka(S,d,o,null),S.flags|=2,u.return=r,S.return=r,u.sibling=S,r.child=u,Ja(r,i.child,null,o),u=r.child,u.memoizedState=yp(o),u.childLanes=vp(i,E,o),r.memoizedState=gp,r=Du(null,u));else if(Yr(r),eg(S)){if(E=S.nextSibling&&S.nextSibling.dataset,E)var W=E.dgst;E=W,u=Error(s(419)),u.stack="",u.digest=E,_u({value:u,source:null,stack:null}),r=Tp(i,r,o)}else if(cn||Yo(i,r,o,!1),E=(o&i.childLanes)!==0,cn||E){if(E=It,E!==null&&(u=pi(E,o),u!==0&&u!==j.retryLane))throw j.retryLane=u,Ga(i,u),li(E,i,u),mp;Jp(S)||cf(),r=Tp(i,r,o)}else Jp(S)?(r.flags|=192,r.child=i.child,r=null):(i=j.treeContext,Pt=zi(S.nextSibling),In=r,ut=!0,zr=null,Ui=!1,i!==null&&c_(r,i),r=_p(r,u.children),r.flags|=4096);return r}return d?($r(),S=u.fallback,d=r.mode,j=i.child,W=j.sibling,u=Zs(j,{mode:"hidden",children:u.children}),u.subtreeFlags=j.subtreeFlags&65011712,W!==null?S=Zs(W,S):(S=Ka(S,d,o,null),S.flags|=2),S.return=r,u.return=r,u.sibling=S,r.child=u,Du(null,u),u=r.child,S=i.child.memoizedState,S===null?S=yp(o):(d=S.cachePool,d!==null?(j=ln._currentValue,d=d.parent!==j?{parent:j,pool:j}:d):d=g_(),S={baseLanes:S.baseLanes|o,cachePool:d}),u.memoizedState=S,u.childLanes=vp(i,E,o),r.memoizedState=gp,Du(i.child,u)):(Yr(r),o=i.child,i=o.sibling,o=Zs(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,i!==null&&(E=r.deletions,E===null?(r.deletions=[i],r.flags|=16):E.push(i)),r.child=o,r.memoizedState=null,o)}function _p(i,r){return r=ef({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function ef(i,r){return i=_i(22,i,null,r),i.lanes=0,i}function Tp(i,r,o){return Ja(r,i.child,null,o),i=_p(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function IT(i,r,o){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),Pm(i.return,r,o)}function Ep(i,r,o,u,d,g){var E=i.memoizedState;E===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d,treeForkCount:g}:(E.isBackwards=r,E.rendering=null,E.renderingStartTime=0,E.last=u,E.tail=o,E.tailMode=d,E.treeForkCount=g)}function NT(i,r,o){var u=r.pendingProps,d=u.revealOrder,g=u.tail;u=u.children;var E=Jt.current,S=(E&2)!==0;if(S?(E=E&1|2,r.flags|=128):E&=1,ye(Jt,E),Dn(i,r,u,o),u=ut?vu:0,!S&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&IT(i,o,r);else if(i.tag===19)IT(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(d){case"forwards":for(o=r.child,d=null;o!==null;)i=o.alternate,i!==null&&Fh(i)===null&&(d=o),o=o.sibling;o=d,o===null?(d=r.child,r.child=null):(d=o.sibling,o.sibling=null),Ep(r,!1,d,o,g,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,d=r.child,r.child=null;d!==null;){if(i=d.alternate,i!==null&&Fh(i)===null){r.child=d;break}i=d.sibling,d.sibling=o,o=d,d=i}Ep(r,!0,o,null,g,u);break;case"together":Ep(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function sr(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),Wr|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(Yo(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=Zs(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=Zs(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function bp(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Mh(i)))}function rI(i,r,o){switch(r.tag){case 3:yt(r,r.stateNode.containerInfo),Hr(r,ln,i.memoizedState.cache),Ya();break;case 27:case 5:Yn(r);break;case 4:yt(r,r.stateNode.containerInfo);break;case 10:Hr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Ym(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Yr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?RT(i,r,o):(Yr(r),i=sr(i,r,o),i!==null?i.sibling:null);Yr(r);break;case 19:var d=(i.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(Yo(i,r,o,!1),u=(o&r.childLanes)!==0),d){if(u)return NT(i,r,o);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ye(Jt,Jt.current),u)break;return null;case 22:return r.lanes=0,bT(i,r,o,r.pendingProps);case 24:Hr(r,ln,i.memoizedState.cache)}return sr(i,r,o)}function DT(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)cn=!0;else{if(!bp(i,o)&&(r.flags&128)===0)return cn=!1,rI(i,r,o);cn=(i.flags&131072)!==0}else cn=!1,ut&&(r.flags&1048576)!==0&&u_(r,vu,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(i=Wa(r.elementType),r.type=i,typeof i=="function")Cm(i)?(u=to(i,u),r.tag=1,r=xT(null,r,i,u,o)):(r.tag=0,r=pp(null,r,i,u,o));else{if(i!=null){var d=i.$$typeof;if(d===ne){r.tag=11,r=_T(null,r,i,u,o);break e}else if(d===I){r.tag=14,r=TT(null,r,i,u,o);break e}}throw r=Re(i)||i,Error(s(306,r,""))}}return r;case 0:return pp(i,r,r.type,r.pendingProps,o);case 1:return u=r.type,d=to(u,r.pendingProps),xT(i,r,u,d,o);case 3:e:{if(yt(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var g=r.memoizedState;d=g.element,Fm(i,r),xu(r,u,null,o);var E=r.memoizedState;if(u=E.cache,Hr(r,ln,u),u!==g.cache&&km(r,[ln],o,!0),Au(),u=E.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=CT(i,r,u,o);break e}else if(u!==d){d=ki(Error(s(424)),r),_u(d),r=CT(i,r,u,o);break e}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Pt=zi(i.firstChild),In=r,ut=!0,zr=null,Ui=!0,o=b_(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ya(),u===d){r=sr(i,r,o);break e}Dn(i,r,u,o)}r=r.child}return r;case 26:return Jh(i,r),i===null?(o=FE(r.type,null,r.pendingProps,null))?r.memoizedState=o:ut||(o=r.type,i=r.pendingProps,u=yf(je.current).createElement(o),u[Yt]=r,u[bn]=i,Vn(u,o,i),an(u),r.stateNode=u):r.memoizedState=FE(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Yn(r),i===null&&ut&&(u=r.stateNode=UE(r.type,r.pendingProps,je.current),In=r,Ui=!0,d=Pt,na(r.type)?(tg=d,Pt=zi(u.firstChild)):Pt=d),Dn(i,r,r.pendingProps.children,o),Jh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&ut&&((d=u=Pt)&&(u=PI(u,r.type,r.pendingProps,Ui),u!==null?(r.stateNode=u,In=r,Pt=zi(u.firstChild),Ui=!1,d=!0):d=!1),d||Fr(r)),Yn(r),d=r.type,g=r.pendingProps,E=i!==null?i.memoizedProps:null,u=g.children,Xp(d,g)?u=null:E!==null&&Xp(d,E)&&(r.flags|=32),r.memoizedState!==null&&(d=Qm(i,r,X2,null,null,o),Ku._currentValue=d),Jh(i,r),Dn(i,r,u,o),r.child;case 6:return i===null&&ut&&((i=o=Pt)&&(o=kI(o,r.pendingProps,Ui),o!==null?(r.stateNode=o,In=r,Pt=null,i=!0):i=!1),i||Fr(r)),null;case 13:return RT(i,r,o);case 4:return yt(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=Ja(r,null,u,o):Dn(i,r,u,o),r.child;case 11:return _T(i,r,r.type,r.pendingProps,o);case 7:return Dn(i,r,r.pendingProps,o),r.child;case 8:return Dn(i,r,r.pendingProps.children,o),r.child;case 12:return Dn(i,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,Hr(r,r.type,u.value),Dn(i,r,u.children,o),r.child;case 9:return d=r.type._context,u=r.pendingProps.children,Qa(r),d=Nn(d),u=u(d),r.flags|=1,Dn(i,r,u,o),r.child;case 14:return TT(i,r,r.type,r.pendingProps,o);case 15:return ET(i,r,r.type,r.pendingProps,o);case 19:return NT(i,r,o);case 31:return sI(i,r,o);case 22:return bT(i,r,o,r.pendingProps);case 24:return Qa(r),u=Nn(ln),i===null?(d=Um(),d===null&&(d=It,g=Lm(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=o),d=g),r.memoizedState={parent:u,cache:d},zm(r),Hr(r,ln,d)):((i.lanes&o)!==0&&(Fm(i,r),xu(r,null,null,o),Au()),d=i.memoizedState,g=r.memoizedState,d.parent!==u?(d={parent:u,cache:u},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),Hr(r,ln,u)):(u=g.cache,Hr(r,ln,u),u!==d.cache&&km(r,[ln],o,!0))),Dn(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function rr(i){i.flags|=4}function wp(i,r,o,u,d){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(d&335544128)===d)if(i.stateNode.complete)i.flags|=8192;else if(sE())i.flags|=8192;else throw Za=jh,Bm}else i.flags&=-16777217}function VT(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!YE(r))if(sE())i.flags|=8192;else throw Za=jh,Bm}function tf(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Ge():536870912,i.lanes|=r,rl|=r)}function Vu(i,r){if(!ut)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function kt(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(r)for(var d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=i,d=d.sibling;else for(d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=i,d=d.sibling;return i.subtreeFlags|=u,i.childLanes=o,r}function aI(i,r,o){var u=r.pendingProps;switch(Dm(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(r),null;case 1:return kt(r),null;case 3:return o=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),tr(ln),ft(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Ko(r)?rr(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Om())),kt(r),null;case 26:var d=r.type,g=r.memoizedState;return i===null?(rr(r),g!==null?(kt(r),VT(r,g)):(kt(r),wp(r,d,null,u,o))):g?g!==i.memoizedState?(rr(r),kt(r),VT(r,g)):(kt(r),r.flags&=-16777217):(i=i.memoizedProps,i!==u&&rr(r),kt(r),wp(r,d,i,u,o)),null;case 27:if(Ln(r),o=je.current,d=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&rr(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return kt(r),null}i=Te.current,Ko(r)?h_(r):(i=UE(d,u,o),r.stateNode=i,rr(r))}return kt(r),null;case 5:if(Ln(r),d=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&rr(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return kt(r),null}if(g=Te.current,Ko(r))h_(r);else{var E=yf(je.current);switch(g){case 1:g=E.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:g=E.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":g=E.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":g=E.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":g=E.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof u.is=="string"?E.createElement("select",{is:u.is}):E.createElement("select"),u.multiple?g.multiple=!0:u.size&&(g.size=u.size);break;default:g=typeof u.is=="string"?E.createElement(d,{is:u.is}):E.createElement(d)}}g[Yt]=r,g[bn]=u;e:for(E=r.child;E!==null;){if(E.tag===5||E.tag===6)g.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===r)break e;for(;E.sibling===null;){if(E.return===null||E.return===r)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}r.stateNode=g;e:switch(Vn(g,d,u),d){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&rr(r)}}return kt(r),wp(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&rr(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=je.current,Ko(r)){if(i=r.stateNode,o=r.memoizedProps,u=null,d=In,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}i[Yt]=r,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||RE(i.nodeValue,o)),i||Fr(r,!0)}else i=yf(i).createTextNode(u),i[Yt]=r,r.stateNode=i}return kt(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(u=Ko(r),o!==null){if(i===null){if(!u)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[Yt]=r}else Ya(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;kt(r),i=!1}else o=Om(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(Ei(r),r):(Ei(r),null);if((r.flags&128)!==0)throw Error(s(558))}return kt(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(d=Ko(r),u!==null&&u.dehydrated!==null){if(i===null){if(!d)throw Error(s(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[Yt]=r}else Ya(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;kt(r),d=!1}else d=Om(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(Ei(r),r):(Ei(r),null)}return Ei(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,i=i!==null&&i.memoizedState!==null,o&&(u=r.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==d&&(u.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),tf(r,r.updateQueue),kt(r),null);case 4:return ft(),i===null&&Gp(r.stateNode.containerInfo),kt(r),null;case 10:return tr(r.type),kt(r),null;case 19:if(ae(Jt),u=r.memoizedState,u===null)return kt(r),null;if(d=(r.flags&128)!==0,g=u.rendering,g===null)if(d)Vu(u,!1);else{if(Qt!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(g=Fh(i),g!==null){for(r.flags|=128,Vu(u,!1),i=g.updateQueue,r.updateQueue=i,tf(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)a_(o,i),o=o.sibling;return ye(Jt,Jt.current&1|2),ut&&Js(r,u.treeForkCount),r.child}i=i.sibling}u.tail!==null&&de()>of&&(r.flags|=128,d=!0,Vu(u,!1),r.lanes=4194304)}else{if(!d)if(i=Fh(g),i!==null){if(r.flags|=128,d=!0,i=i.updateQueue,r.updateQueue=i,tf(r,i),Vu(u,!0),u.tail===null&&u.tailMode==="hidden"&&!g.alternate&&!ut)return kt(r),null}else 2*de()-u.renderingStartTime>of&&o!==536870912&&(r.flags|=128,d=!0,Vu(u,!1),r.lanes=4194304);u.isBackwards?(g.sibling=r.child,r.child=g):(i=u.last,i!==null?i.sibling=g:r.child=g,u.last=g)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=de(),i.sibling=null,o=Jt.current,ye(Jt,d?o&1|2:o&1),ut&&Js(r,u.treeForkCount),i):(kt(r),null);case 22:case 23:return Ei(r),Km(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(kt(r),r.subtreeFlags&6&&(r.flags|=8192)):kt(r),o=r.updateQueue,o!==null&&tf(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),i!==null&&ae(Xa),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),tr(ln),kt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function oI(i,r){switch(Dm(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return tr(ln),ft(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Ln(r),null;case 31:if(r.memoizedState!==null){if(Ei(r),r.alternate===null)throw Error(s(340));Ya()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(Ei(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Ya()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return ae(Jt),null;case 4:return ft(),null;case 10:return tr(r.type),null;case 22:case 23:return Ei(r),Km(),i!==null&&ae(Xa),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return tr(ln),null;case 25:return null;default:return null}}function OT(i,r){switch(Dm(r),r.tag){case 3:tr(ln),ft();break;case 26:case 27:case 5:Ln(r);break;case 4:ft();break;case 31:r.memoizedState!==null&&Ei(r);break;case 13:Ei(r);break;case 19:ae(Jt);break;case 10:tr(r.type);break;case 22:case 23:Ei(r),Km(),i!==null&&ae(Xa);break;case 24:tr(ln)}}function Ou(i,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&i)===i){u=void 0;var g=o.create,E=o.inst;u=g(),E.destroy=u}o=o.next}while(o!==d)}}catch(S){bt(r,r.return,S)}}function Qr(i,r,o){try{var u=r.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var g=d.next;u=g;do{if((u.tag&i)===i){var E=u.inst,S=E.destroy;if(S!==void 0){E.destroy=void 0,d=r;var j=o,W=S;try{W()}catch(re){bt(d,j,re)}}}u=u.next}while(u!==g)}}catch(re){bt(r,r.return,re)}}function MT(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{S_(r,o)}catch(u){bt(i,i.return,u)}}}function PT(i,r,o){o.props=to(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){bt(i,r,u)}}function Mu(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(d){bt(i,r,d)}}function Ns(i,r){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(d){bt(i,r,d)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){bt(i,r,d)}else o.current=null}function kT(i){var r=i.type,o=i.memoizedProps,u=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(d){bt(i,i.return,d)}}function Sp(i,r,o){try{var u=i.stateNode;II(u,i.type,o,r),u[bn]=r}catch(d){bt(i,i.return,d)}}function LT(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&na(i.type)||i.tag===4}function Ap(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||LT(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&na(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function xp(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Zi));else if(u!==4&&(u===27&&na(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(xp(i,r,o),i=i.sibling;i!==null;)xp(i,r,o),i=i.sibling}function nf(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(u!==4&&(u===27&&na(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(nf(i,r,o),i=i.sibling;i!==null;)nf(i,r,o),i=i.sibling}function jT(i){var r=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);Vn(r,u,o),r[Yt]=i,r[bn]=o}catch(g){bt(i,i.return,g)}}var ar=!1,hn=!1,Cp=!1,UT=typeof WeakSet=="function"?WeakSet:Set,Sn=null;function lI(i,r){if(i=i.containerInfo,$p=Sf,i=W0(i),Tm(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var E=0,S=-1,j=-1,W=0,re=0,le=i,Z=null;t:for(;;){for(var te;le!==o||d!==0&&le.nodeType!==3||(S=E+d),le!==g||u!==0&&le.nodeType!==3||(j=E+u),le.nodeType===3&&(E+=le.nodeValue.length),(te=le.firstChild)!==null;)Z=le,le=te;for(;;){if(le===i)break t;if(Z===o&&++W===d&&(S=E),Z===g&&++re===u&&(j=E),(te=le.nextSibling)!==null)break;le=Z,Z=le.parentNode}le=te}o=S===-1||j===-1?null:{start:S,end:j}}else o=null}o=o||{start:0,end:0}}else o=null;for(Qp={focusedElem:i,selectionRange:o},Sf=!1,Sn=r;Sn!==null;)if(r=Sn,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,Sn=i;else for(;Sn!==null;){switch(r=Sn,g=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)d=i[o],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=r,d=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var Se=to(o.type,d);i=u.getSnapshotBeforeUpdate(Se,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(Me){bt(o,o.return,Me)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)Zp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Zp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Sn=i;break}Sn=r.return}}function BT(i,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:lr(i,o),u&4&&Ou(5,o);break;case 1:if(lr(i,o),u&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(E){bt(o,o.return,E)}else{var d=to(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(d,r,i.__reactInternalSnapshotBeforeUpdate)}catch(E){bt(o,o.return,E)}}u&64&&MT(o),u&512&&Mu(o,o.return);break;case 3:if(lr(i,o),u&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{S_(i,r)}catch(E){bt(o,o.return,E)}}break;case 27:r===null&&u&4&&jT(o);case 26:case 5:lr(i,o),r===null&&u&4&&kT(o),u&512&&Mu(o,o.return);break;case 12:lr(i,o);break;case 31:lr(i,o),u&4&&HT(i,o);break;case 13:lr(i,o),u&4&&qT(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=yI.bind(null,o),LI(i,o))));break;case 22:if(u=o.memoizedState!==null||ar,!u){r=r!==null&&r.memoizedState!==null||hn,d=ar;var g=hn;ar=u,(hn=r)&&!g?ur(i,o,(o.subtreeFlags&8772)!==0):lr(i,o),ar=d,hn=g}break;case 30:break;default:lr(i,o)}}function zT(i){var r=i.alternate;r!==null&&(i.alternate=null,zT(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Io(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Ut=null,si=!1;function or(i,r,o){for(o=o.child;o!==null;)FT(i,r,o),o=o.sibling}function FT(i,r,o){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(Cn,o)}catch{}switch(o.tag){case 26:hn||Ns(o,r),or(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:hn||Ns(o,r);var u=Ut,d=si;na(o.type)&&(Ut=o.stateNode,si=!1),or(i,r,o),Hu(o.stateNode),Ut=u,si=d;break;case 5:hn||Ns(o,r);case 6:if(u=Ut,d=si,Ut=null,or(i,r,o),Ut=u,si=d,Ut!==null)if(si)try{(Ut.nodeType===9?Ut.body:Ut.nodeName==="HTML"?Ut.ownerDocument.body:Ut).removeChild(o.stateNode)}catch(g){bt(o,r,g)}else try{Ut.removeChild(o.stateNode)}catch(g){bt(o,r,g)}break;case 18:Ut!==null&&(si?(i=Ut,ME(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),dl(i)):ME(Ut,o.stateNode));break;case 4:u=Ut,d=si,Ut=o.stateNode.containerInfo,si=!0,or(i,r,o),Ut=u,si=d;break;case 0:case 11:case 14:case 15:Qr(2,o,r),hn||Qr(4,o,r),or(i,r,o);break;case 1:hn||(Ns(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&PT(o,r,u)),or(i,r,o);break;case 21:or(i,r,o);break;case 22:hn=(u=hn)||o.memoizedState!==null,or(i,r,o),hn=u;break;default:or(i,r,o)}}function HT(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{dl(i)}catch(o){bt(r,r.return,o)}}}function qT(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{dl(i)}catch(o){bt(r,r.return,o)}}function uI(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new UT),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new UT),r;default:throw Error(s(435,i.tag))}}function sf(i,r){var o=uI(i);r.forEach(function(u){if(!o.has(u)){o.add(u);var d=vI.bind(null,i,u);u.then(d,d)}})}function ri(i,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u],g=i,E=r,S=E;e:for(;S!==null;){switch(S.tag){case 27:if(na(S.type)){Ut=S.stateNode,si=!1;break e}break;case 5:Ut=S.stateNode,si=!1;break e;case 3:case 4:Ut=S.stateNode.containerInfo,si=!0;break e}S=S.return}if(Ut===null)throw Error(s(160));FT(g,E,d),Ut=null,si=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)GT(r,i),r=r.sibling}var ss=null;function GT(i,r){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:ri(r,i),ai(i),u&4&&(Qr(3,i,i.return),Ou(3,i),Qr(5,i,i.return));break;case 1:ri(r,i),ai(i),u&512&&(hn||o===null||Ns(o,o.return)),u&64&&ar&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var d=ss;if(ri(r,i),ai(i),u&512&&(hn||o===null||Ns(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){e:{u=i.type,o=i.memoizedProps,d=d.ownerDocument||d;t:switch(u){case"title":g=d.getElementsByTagName("title")[0],(!g||g[gs]||g[Yt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(u),d.head.insertBefore(g,d.querySelector("head > title"))),Vn(g,u,o),g[Yt]=i,an(g),u=g;break e;case"link":var E=GE("link","href",d).get(u+(o.href||""));if(E){for(var S=0;S<E.length;S++)if(g=E[S],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(S,1);break t}}g=d.createElement(u),Vn(g,u,o),d.head.appendChild(g);break;case"meta":if(E=GE("meta","content",d).get(u+(o.content||""))){for(S=0;S<E.length;S++)if(g=E[S],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(S,1);break t}}g=d.createElement(u),Vn(g,u,o),d.head.appendChild(g);break;default:throw Error(s(468,u))}g[Yt]=i,an(g),u=g}i.stateNode=u}else KE(d,i.type,i.stateNode);else i.stateNode=qE(d,u,i.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?KE(d,i.type,i.stateNode):qE(d,u,i.memoizedProps)):u===null&&i.stateNode!==null&&Sp(i,i.memoizedProps,o.memoizedProps)}break;case 27:ri(r,i),ai(i),u&512&&(hn||o===null||Ns(o,o.return)),o!==null&&u&4&&Sp(i,i.memoizedProps,o.memoizedProps);break;case 5:if(ri(r,i),ai(i),u&512&&(hn||o===null||Ns(o,o.return)),i.flags&32){d=i.stateNode;try{ii(d,"")}catch(Se){bt(i,i.return,Se)}}u&4&&i.stateNode!=null&&(d=i.memoizedProps,Sp(i,d,o!==null?o.memoizedProps:d)),u&1024&&(Cp=!0);break;case 6:if(ri(r,i),ai(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(Se){bt(i,i.return,Se)}}break;case 3:if(Tf=null,d=ss,ss=vf(r.containerInfo),ri(r,i),ss=d,ai(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{dl(r.containerInfo)}catch(Se){bt(i,i.return,Se)}Cp&&(Cp=!1,KT(i));break;case 4:u=ss,ss=vf(i.stateNode.containerInfo),ri(r,i),ai(i),ss=u;break;case 12:ri(r,i),ai(i);break;case 31:ri(r,i),ai(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,sf(i,u)));break;case 13:ri(r,i),ai(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(af=de()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,sf(i,u)));break;case 22:d=i.memoizedState!==null;var j=o!==null&&o.memoizedState!==null,W=ar,re=hn;if(ar=W||d,hn=re||j,ri(r,i),hn=re,ar=W,ai(i),u&8192)e:for(r=i.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(o===null||j||ar||hn||no(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){j=o=r;try{if(g=j.stateNode,d)E=g.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{S=j.stateNode;var le=j.memoizedProps.style,Z=le!=null&&le.hasOwnProperty("display")?le.display:null;S.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(Se){bt(j,j.return,Se)}}}else if(r.tag===6){if(o===null){j=r;try{j.stateNode.nodeValue=d?"":j.memoizedProps}catch(Se){bt(j,j.return,Se)}}}else if(r.tag===18){if(o===null){j=r;try{var te=j.stateNode;d?PE(te,!0):PE(j.stateNode,!1)}catch(Se){bt(j,j.return,Se)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,sf(i,o))));break;case 19:ri(r,i),ai(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,sf(i,u)));break;case 30:break;case 21:break;default:ri(r,i),ai(i)}}function ai(i){var r=i.flags;if(r&2){try{for(var o,u=i.return;u!==null;){if(LT(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var d=o.stateNode,g=Ap(i);nf(i,g,d);break;case 5:var E=o.stateNode;o.flags&32&&(ii(E,""),o.flags&=-33);var S=Ap(i);nf(i,S,E);break;case 3:case 4:var j=o.stateNode.containerInfo,W=Ap(i);xp(i,W,j);break;default:throw Error(s(161))}}catch(re){bt(i,i.return,re)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function KT(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;KT(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function lr(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)BT(i,r.alternate,r),r=r.sibling}function no(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Qr(4,r,r.return),no(r);break;case 1:Ns(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&PT(r,r.return,o),no(r);break;case 27:Hu(r.stateNode);case 26:case 5:Ns(r,r.return),no(r);break;case 22:r.memoizedState===null&&no(r);break;case 30:no(r);break;default:no(r)}i=i.sibling}}function ur(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,d=i,g=r,E=g.flags;switch(g.tag){case 0:case 11:case 15:ur(d,g,o),Ou(4,g);break;case 1:if(ur(d,g,o),u=g,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(W){bt(u,u.return,W)}if(u=g,d=u.updateQueue,d!==null){var S=u.stateNode;try{var j=d.shared.hiddenCallbacks;if(j!==null)for(d.shared.hiddenCallbacks=null,d=0;d<j.length;d++)w_(j[d],S)}catch(W){bt(u,u.return,W)}}o&&E&64&&MT(g),Mu(g,g.return);break;case 27:jT(g);case 26:case 5:ur(d,g,o),o&&u===null&&E&4&&kT(g),Mu(g,g.return);break;case 12:ur(d,g,o);break;case 31:ur(d,g,o),o&&E&4&&HT(d,g);break;case 13:ur(d,g,o),o&&E&4&&qT(d,g);break;case 22:g.memoizedState===null&&ur(d,g,o),Mu(g,g.return);break;case 30:break;default:ur(d,g,o)}r=r.sibling}}function Rp(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Tu(o))}function Ip(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Tu(i))}function rs(i,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)YT(i,r,o,u),r=r.sibling}function YT(i,r,o,u){var d=r.flags;switch(r.tag){case 0:case 11:case 15:rs(i,r,o,u),d&2048&&Ou(9,r);break;case 1:rs(i,r,o,u);break;case 3:rs(i,r,o,u),d&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Tu(i)));break;case 12:if(d&2048){rs(i,r,o,u),i=r.stateNode;try{var g=r.memoizedProps,E=g.id,S=g.onPostCommit;typeof S=="function"&&S(E,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(j){bt(r,r.return,j)}}else rs(i,r,o,u);break;case 31:rs(i,r,o,u);break;case 13:rs(i,r,o,u);break;case 23:break;case 22:g=r.stateNode,E=r.alternate,r.memoizedState!==null?g._visibility&2?rs(i,r,o,u):Pu(i,r):g._visibility&2?rs(i,r,o,u):(g._visibility|=2,nl(i,r,o,u,(r.subtreeFlags&10256)!==0||!1)),d&2048&&Rp(E,r);break;case 24:rs(i,r,o,u),d&2048&&Ip(r.alternate,r);break;default:rs(i,r,o,u)}}function nl(i,r,o,u,d){for(d=d&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var g=i,E=r,S=o,j=u,W=E.flags;switch(E.tag){case 0:case 11:case 15:nl(g,E,S,j,d),Ou(8,E);break;case 23:break;case 22:var re=E.stateNode;E.memoizedState!==null?re._visibility&2?nl(g,E,S,j,d):Pu(g,E):(re._visibility|=2,nl(g,E,S,j,d)),d&&W&2048&&Rp(E.alternate,E);break;case 24:nl(g,E,S,j,d),d&&W&2048&&Ip(E.alternate,E);break;default:nl(g,E,S,j,d)}r=r.sibling}}function Pu(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,u=r,d=u.flags;switch(u.tag){case 22:Pu(o,u),d&2048&&Rp(u.alternate,u);break;case 24:Pu(o,u),d&2048&&Ip(u.alternate,u);break;default:Pu(o,u)}r=r.sibling}}var ku=8192;function il(i,r,o){if(i.subtreeFlags&ku)for(i=i.child;i!==null;)$T(i,r,o),i=i.sibling}function $T(i,r,o){switch(i.tag){case 26:il(i,r,o),i.flags&ku&&i.memoizedState!==null&&QI(o,ss,i.memoizedState,i.memoizedProps);break;case 5:il(i,r,o);break;case 3:case 4:var u=ss;ss=vf(i.stateNode.containerInfo),il(i,r,o),ss=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=ku,ku=16777216,il(i,r,o),ku=u):il(i,r,o));break;default:il(i,r,o)}}function QT(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Lu(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Sn=u,WT(u,i)}QT(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)XT(i),i=i.sibling}function XT(i){switch(i.tag){case 0:case 11:case 15:Lu(i),i.flags&2048&&Qr(9,i,i.return);break;case 3:Lu(i);break;case 12:Lu(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,rf(i)):Lu(i);break;default:Lu(i)}}function rf(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Sn=u,WT(u,i)}QT(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Qr(8,r,r.return),rf(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,rf(r));break;default:rf(r)}i=i.sibling}}function WT(i,r){for(;Sn!==null;){var o=Sn;switch(o.tag){case 0:case 11:case 15:Qr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Tu(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Sn=u;else e:for(o=i;Sn!==null;){u=Sn;var d=u.sibling,g=u.return;if(zT(u),u===o){Sn=null;break e}if(d!==null){d.return=g,Sn=d;break e}Sn=g}}}var cI={getCacheForType:function(i){var r=Nn(ln),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return Nn(ln).controller.signal}},hI=typeof WeakMap=="function"?WeakMap:Map,gt=0,It=null,tt=null,st=0,Et=0,bi=null,Xr=!1,sl=!1,Np=!1,cr=0,Qt=0,Wr=0,io=0,Dp=0,wi=0,rl=0,ju=null,oi=null,Vp=!1,af=0,ZT=0,of=1/0,lf=null,Zr=null,_n=0,Jr=null,al=null,hr=0,Op=0,Mp=null,JT=null,Uu=0,Pp=null;function Si(){return(gt&2)!==0&&st!==0?st&-st:Y.T!==null?zp():$s()}function eE(){if(wi===0)if((st&536870912)===0||ut){var i=Ze;Ze<<=1,(Ze&3932160)===0&&(Ze=262144),wi=i}else wi=536870912;return i=Ti.current,i!==null&&(i.flags|=32),wi}function li(i,r,o){(i===It&&(Et===2||Et===9)||i.cancelPendingCommit!==null)&&(ol(i,0),ea(i,st,wi,!1)),Mt(i,o),((gt&2)===0||i!==It)&&(i===It&&((gt&2)===0&&(io|=o),Qt===4&&ea(i,st,wi,!1)),Ds(i))}function tE(i,r,o){if((gt&6)!==0)throw Error(s(327));var u=!o&&(r&127)===0&&(r&i.expiredLanes)===0||Qe(i,r),d=u?mI(i,r):Lp(i,r,!0),g=u;do{if(d===0){sl&&!u&&ea(i,r,0,!1);break}else{if(o=i.current.alternate,g&&!fI(o)){d=Lp(i,r,!1),g=!1;continue}if(d===2){if(g=r,i.errorRecoveryDisabledLanes&g)var E=0;else E=i.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;e:{var S=i;d=ju;var j=S.current.memoizedState.isDehydrated;if(j&&(ol(S,E).flags|=256),E=Lp(S,E,!1),E!==2){if(Np&&!j){S.errorRecoveryDisabledLanes|=g,io|=g,d=4;break e}g=oi,oi=d,g!==null&&(oi===null?oi=g:oi.push.apply(oi,g))}d=E}if(g=!1,d!==2)continue}}if(d===1){ol(i,0),ea(i,r,0,!0);break}e:{switch(u=i,g=d,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:ea(u,r,wi,!Xr);break e;case 2:oi=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(d=af+300-de(),10<d)){if(ea(u,r,wi,!Xr),it(u,0,!0)!==0)break e;hr=r,u.timeoutHandle=VE(nE.bind(null,u,o,oi,lf,Vp,r,wi,io,rl,Xr,g,"Throttled",-0,0),d);break e}nE(u,o,oi,lf,Vp,r,wi,io,rl,Xr,g,null,-0,0)}}break}while(!0);Ds(i)}function nE(i,r,o,u,d,g,E,S,j,W,re,le,Z,te){if(i.timeoutHandle=-1,le=r.subtreeFlags,le&8192||(le&16785408)===16785408){le={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Zi},$T(r,g,le);var Se=(g&62914560)===g?af-de():(g&4194048)===g?ZT-de():0;if(Se=XI(le,Se),Se!==null){hr=g,i.cancelPendingCommit=Se(cE.bind(null,i,r,g,o,u,d,E,S,j,re,le,null,Z,te)),ea(i,g,E,!W);return}}cE(i,r,g,o,u,d,E,S,j)}function fI(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var d=o[u],g=d.getSnapshot;d=d.value;try{if(!vi(g(),d))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ea(i,r,o,u){r&=~Dp,r&=~io,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var d=r;0<d;){var g=31-Rt(d),E=1<<g;u[g]=-1,d&=~E}o!==0&&ei(i,o,r)}function uf(){return(gt&6)===0?(Bu(0),!1):!0}function kp(){if(tt!==null){if(Et===0)var i=tt.return;else i=tt,er=$a=null,Zm(i),Wo=null,bu=0,i=tt;for(;i!==null;)OT(i.alternate,i),i=i.return;tt=null}}function ol(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,VI(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),hr=0,kp(),It=i,tt=o=Zs(i.current,null),st=r,Et=0,bi=null,Xr=!1,sl=Qe(i,r),Np=!1,rl=wi=Dp=io=Wr=Qt=0,oi=ju=null,Vp=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var d=31-Rt(u),g=1<<d;r|=i[d],u&=~g}return cr=r,Ih(),o}function iE(i,r){$e=null,Y.H=Nu,r===Xo||r===Lh?(r=__(),Et=3):r===Bm?(r=__(),Et=4):Et=r===mp?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,bi=r,tt===null&&(Qt=1,Wh(i,ki(r,i.current)))}function sE(){var i=Ti.current;return i===null?!0:(st&4194048)===st?Bi===null:(st&62914560)===st||(st&536870912)!==0?i===Bi:!1}function rE(){var i=Y.H;return Y.H=Nu,i===null?Nu:i}function aE(){var i=Y.A;return Y.A=cI,i}function cf(){Qt=4,Xr||(st&4194048)!==st&&Ti.current!==null||(sl=!0),(Wr&134217727)===0&&(io&134217727)===0||It===null||ea(It,st,wi,!1)}function Lp(i,r,o){var u=gt;gt|=2;var d=rE(),g=aE();(It!==i||st!==r)&&(lf=null,ol(i,r)),r=!1;var E=Qt;e:do try{if(Et!==0&&tt!==null){var S=tt,j=bi;switch(Et){case 8:kp(),E=6;break e;case 3:case 2:case 9:case 6:Ti.current===null&&(r=!0);var W=Et;if(Et=0,bi=null,ll(i,S,j,W),o&&sl){E=0;break e}break;default:W=Et,Et=0,bi=null,ll(i,S,j,W)}}dI(),E=Qt;break}catch(re){iE(i,re)}while(!0);return r&&i.shellSuspendCounter++,er=$a=null,gt=u,Y.H=d,Y.A=g,tt===null&&(It=null,st=0,Ih()),E}function dI(){for(;tt!==null;)oE(tt)}function mI(i,r){var o=gt;gt|=2;var u=rE(),d=aE();It!==i||st!==r?(lf=null,of=de()+500,ol(i,r)):sl=Qe(i,r);e:do try{if(Et!==0&&tt!==null){r=tt;var g=bi;t:switch(Et){case 1:Et=0,bi=null,ll(i,r,g,1);break;case 2:case 9:if(y_(g)){Et=0,bi=null,lE(r);break}r=function(){Et!==2&&Et!==9||It!==i||(Et=7),Ds(i)},g.then(r,r);break e;case 3:Et=7;break e;case 4:Et=5;break e;case 7:y_(g)?(Et=0,bi=null,lE(r)):(Et=0,bi=null,ll(i,r,g,7));break;case 5:var E=null;switch(tt.tag){case 26:E=tt.memoizedState;case 5:case 27:var S=tt;if(E?YE(E):S.stateNode.complete){Et=0,bi=null;var j=S.sibling;if(j!==null)tt=j;else{var W=S.return;W!==null?(tt=W,hf(W)):tt=null}break t}}Et=0,bi=null,ll(i,r,g,5);break;case 6:Et=0,bi=null,ll(i,r,g,6);break;case 8:kp(),Qt=6;break e;default:throw Error(s(462))}}pI();break}catch(re){iE(i,re)}while(!0);return er=$a=null,Y.H=u,Y.A=d,gt=o,tt!==null?0:(It=null,st=0,Ih(),Qt)}function pI(){for(;tt!==null&&!se();)oE(tt)}function oE(i){var r=DT(i.alternate,i,cr);i.memoizedProps=i.pendingProps,r===null?hf(i):tt=r}function lE(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=AT(o,r,r.pendingProps,r.type,void 0,st);break;case 11:r=AT(o,r,r.pendingProps,r.type.render,r.ref,st);break;case 5:Zm(r);default:OT(o,r),r=tt=a_(r,cr),r=DT(o,r,cr)}i.memoizedProps=i.pendingProps,r===null?hf(i):tt=r}function ll(i,r,o,u){er=$a=null,Zm(r),Wo=null,bu=0;var d=r.return;try{if(iI(i,d,r,o,st)){Qt=1,Wh(i,ki(o,i.current)),tt=null;return}}catch(g){if(d!==null)throw tt=d,g;Qt=1,Wh(i,ki(o,i.current)),tt=null;return}r.flags&32768?(ut||u===1?i=!0:sl||(st&536870912)!==0?i=!1:(Xr=i=!0,(u===2||u===9||u===3||u===6)&&(u=Ti.current,u!==null&&u.tag===13&&(u.flags|=16384))),uE(r,i)):hf(r)}function hf(i){var r=i;do{if((r.flags&32768)!==0){uE(r,Xr);return}i=r.return;var o=aI(r.alternate,r,cr);if(o!==null){tt=o;return}if(r=r.sibling,r!==null){tt=r;return}tt=r=i}while(r!==null);Qt===0&&(Qt=5)}function uE(i,r){do{var o=oI(i.alternate,i);if(o!==null){o.flags&=32767,tt=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){tt=i;return}tt=i=o}while(i!==null);Qt=6,tt=null}function cE(i,r,o,u,d,g,E,S,j){i.cancelPendingCommit=null;do ff();while(_n!==0);if((gt&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(g=r.lanes|r.childLanes,g|=Am,Ii(i,o,g,E,S,j),i===It&&(tt=It=null,st=0),al=r,Jr=i,hr=o,Op=g,Mp=d,JT=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,_I(qe,function(){return pE(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=Y.T,Y.T=null,d=ie.p,ie.p=2,E=gt,gt|=4;try{lI(i,r,o)}finally{gt=E,ie.p=d,Y.T=u}}_n=1,hE(),fE(),dE()}}function hE(){if(_n===1){_n=0;var i=Jr,r=al,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=Y.T,Y.T=null;var u=ie.p;ie.p=2;var d=gt;gt|=4;try{GT(r,i);var g=Qp,E=W0(i.containerInfo),S=g.focusedElem,j=g.selectionRange;if(E!==S&&S&&S.ownerDocument&&X0(S.ownerDocument.documentElement,S)){if(j!==null&&Tm(S)){var W=j.start,re=j.end;if(re===void 0&&(re=W),"selectionStart"in S)S.selectionStart=W,S.selectionEnd=Math.min(re,S.value.length);else{var le=S.ownerDocument||document,Z=le&&le.defaultView||window;if(Z.getSelection){var te=Z.getSelection(),Se=S.textContent.length,Me=Math.min(j.start,Se),xt=j.end===void 0?Me:Math.min(j.end,Se);!te.extend&&Me>xt&&(E=xt,xt=Me,Me=E);var K=Q0(S,Me),z=Q0(S,xt);if(K&&z&&(te.rangeCount!==1||te.anchorNode!==K.node||te.anchorOffset!==K.offset||te.focusNode!==z.node||te.focusOffset!==z.offset)){var X=le.createRange();X.setStart(K.node,K.offset),te.removeAllRanges(),Me>xt?(te.addRange(X),te.extend(z.node,z.offset)):(X.setEnd(z.node,z.offset),te.addRange(X))}}}}for(le=[],te=S;te=te.parentNode;)te.nodeType===1&&le.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<le.length;S++){var oe=le[S];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}Sf=!!$p,Qp=$p=null}finally{gt=d,ie.p=u,Y.T=o}}i.current=r,_n=2}}function fE(){if(_n===2){_n=0;var i=Jr,r=al,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=Y.T,Y.T=null;var u=ie.p;ie.p=2;var d=gt;gt|=4;try{BT(i,r.alternate,r)}finally{gt=d,ie.p=u,Y.T=o}}_n=3}}function dE(){if(_n===4||_n===3){_n=0,_e();var i=Jr,r=al,o=hr,u=JT;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?_n=5:(_n=0,al=Jr=null,mE(i,i.pendingLanes));var d=i.pendingLanes;if(d===0&&(Zr=null),ti(o),r=r.stateNode,Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(Cn,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=Y.T,d=ie.p,ie.p=2,Y.T=null;try{for(var g=i.onRecoverableError,E=0;E<u.length;E++){var S=u[E];g(S.value,{componentStack:S.stack})}}finally{Y.T=r,ie.p=d}}(hr&3)!==0&&ff(),Ds(i),d=i.pendingLanes,(o&261930)!==0&&(d&42)!==0?i===Pp?Uu++:(Uu=0,Pp=i):Uu=0,Bu(0)}}function mE(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Tu(r)))}function ff(){return hE(),fE(),dE(),pE()}function pE(){if(_n!==5)return!1;var i=Jr,r=Op;Op=0;var o=ti(hr),u=Y.T,d=ie.p;try{ie.p=32>o?32:o,Y.T=null,o=Mp,Mp=null;var g=Jr,E=hr;if(_n=0,al=Jr=null,hr=0,(gt&6)!==0)throw Error(s(331));var S=gt;if(gt|=4,XT(g.current),YT(g,g.current,E,o),gt=S,Bu(0,!1),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(Cn,g)}catch{}return!0}finally{ie.p=d,Y.T=u,mE(i,r)}}function gE(i,r,o){r=ki(o,r),r=dp(i.stateNode,r,2),i=Kr(i,r,2),i!==null&&(Mt(i,2),Ds(i))}function bt(i,r,o){if(i.tag===3)gE(i,i,o);else for(;r!==null;){if(r.tag===3){gE(r,i,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Zr===null||!Zr.has(u))){i=ki(o,i),o=yT(2),u=Kr(r,o,2),u!==null&&(vT(o,u,r,i),Mt(u,2),Ds(u));break}}r=r.return}}function jp(i,r,o){var u=i.pingCache;if(u===null){u=i.pingCache=new hI;var d=new Set;u.set(r,d)}else d=u.get(r),d===void 0&&(d=new Set,u.set(r,d));d.has(o)||(Np=!0,d.add(o),i=gI.bind(null,i,r,o),r.then(i,i))}function gI(i,r,o){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,It===i&&(st&o)===o&&(Qt===4||Qt===3&&(st&62914560)===st&&300>de()-af?(gt&2)===0&&ol(i,0):Dp|=o,rl===st&&(rl=0)),Ds(i)}function yE(i,r){r===0&&(r=Ge()),i=Ga(i,r),i!==null&&(Mt(i,r),Ds(i))}function yI(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),yE(i,o)}function vI(i,r){var o=0;switch(i.tag){case 31:case 13:var u=i.stateNode,d=i.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),yE(i,o)}function _I(i,r){return P(i,r)}var df=null,ul=null,Up=!1,mf=!1,Bp=!1,ta=0;function Ds(i){i!==ul&&i.next===null&&(ul===null?df=ul=i:ul=ul.next=i),mf=!0,Up||(Up=!0,EI())}function Bu(i,r){if(!Bp&&mf){Bp=!0;do for(var o=!1,u=df;u!==null;){if(i!==0){var d=u.pendingLanes;if(d===0)var g=0;else{var E=u.suspendedLanes,S=u.pingedLanes;g=(1<<31-Rt(42|i)+1)-1,g&=d&~(E&~S),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,EE(u,g))}else g=st,g=it(u,u===It?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||Qe(u,g)||(o=!0,EE(u,g));u=u.next}while(o);Bp=!1}}function TI(){vE()}function vE(){mf=Up=!1;var i=0;ta!==0&&DI()&&(i=ta);for(var r=de(),o=null,u=df;u!==null;){var d=u.next,g=_E(u,r);g===0?(u.next=null,o===null?df=d:o.next=d,d===null&&(ul=o)):(o=u,(i!==0||(g&3)!==0)&&(mf=!0)),u=d}_n!==0&&_n!==5||Bu(i),ta!==0&&(ta=0)}function _E(i,r){for(var o=i.suspendedLanes,u=i.pingedLanes,d=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var E=31-Rt(g),S=1<<E,j=d[E];j===-1?((S&o)===0||(S&u)!==0)&&(d[E]=et(S,r)):j<=r&&(i.expiredLanes|=S),g&=~S}if(r=It,o=st,o=it(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===r&&(Et===2||Et===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&$(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Qe(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(u!==null&&$(u),ti(o)){case 2:case 8:o=Je;break;case 32:o=qe;break;case 268435456:o=Ri;break;default:o=qe}return u=TE.bind(null,i),o=P(o,u),i.callbackPriority=r,i.callbackNode=o,r}return u!==null&&u!==null&&$(u),i.callbackPriority=2,i.callbackNode=null,2}function TE(i,r){if(_n!==0&&_n!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(ff()&&i.callbackNode!==o)return null;var u=st;return u=it(i,i===It?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(tE(i,u,r),_E(i,de()),i.callbackNode!=null&&i.callbackNode===o?TE.bind(null,i):null)}function EE(i,r){if(ff())return null;tE(i,r,!0)}function EI(){OI(function(){(gt&6)!==0?P(Ae,TI):vE()})}function zp(){if(ta===0){var i=$o;i===0&&(i=we,we<<=1,(we&261888)===0&&(we=256)),ta=i}return ta}function bE(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Oo(""+i)}function wE(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function bI(i,r,o,u,d){if(r==="submit"&&o&&o.stateNode===d){var g=bE((d[bn]||null).action),E=u.submitter;E&&(r=(r=E[bn]||null)?bE(r.formAction):E.getAttribute("formAction"),r!==null&&(g=r,E=null));var S=new Ss("action","action",null,u,d);i.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ta!==0){var j=E?wE(d,E):new FormData(d);op(o,{pending:!0,data:j,method:d.method,action:g},null,j)}}else typeof g=="function"&&(S.preventDefault(),j=E?wE(d,E):new FormData(d),op(o,{pending:!0,data:j,method:d.method,action:g},g,j))},currentTarget:d}]})}}for(var Fp=0;Fp<Sm.length;Fp++){var Hp=Sm[Fp],wI=Hp.toLowerCase(),SI=Hp[0].toUpperCase()+Hp.slice(1);is(wI,"on"+SI)}is(e_,"onAnimationEnd"),is(t_,"onAnimationIteration"),is(n_,"onAnimationStart"),is("dblclick","onDoubleClick"),is("focusin","onFocus"),is("focusout","onBlur"),is(B2,"onTransitionRun"),is(z2,"onTransitionStart"),is(F2,"onTransitionCancel"),is(i_,"onTransitionEnd"),Ts("onMouseEnter",["mouseout","mouseover"]),Ts("onMouseLeave",["mouseout","mouseover"]),Ts("onPointerEnter",["pointerout","pointerover"]),Ts("onPointerLeave",["pointerout","pointerover"]),_s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_s("onBeforeInput",["compositionend","keypress","textInput","paste"]),_s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zu));function SE(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],d=u.event;u=u.listeners;e:{var g=void 0;if(r)for(var E=u.length-1;0<=E;E--){var S=u[E],j=S.instance,W=S.currentTarget;if(S=S.listener,j!==g&&d.isPropagationStopped())break e;g=S,d.currentTarget=W;try{g(d)}catch(re){Rh(re)}d.currentTarget=null,g=j}else for(E=0;E<u.length;E++){if(S=u[E],j=S.instance,W=S.currentTarget,S=S.listener,j!==g&&d.isPropagationStopped())break e;g=S,d.currentTarget=W;try{g(d)}catch(re){Rh(re)}d.currentTarget=null,g=j}}}}function nt(i,r){var o=r[Ro];o===void 0&&(o=r[Ro]=new Set);var u=i+"__bubble";o.has(u)||(AE(r,i,2,!1),o.add(u))}function qp(i,r,o){var u=0;r&&(u|=4),AE(o,i,u,r)}var pf="_reactListening"+Math.random().toString(36).slice(2);function Gp(i){if(!i[pf]){i[pf]=!0,Jl.forEach(function(o){o!=="selectionchange"&&(AI.has(o)||qp(o,!1,i),qp(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[pf]||(r[pf]=!0,qp("selectionchange",!1,r))}}function AE(i,r,o,u){switch(eb(r)){case 2:var d=JI;break;case 8:d=eN;break;default:d=ag}o=d.bind(null,r,o,i),d=void 0,!La||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),u?d!==void 0?i.addEventListener(r,o,{capture:!0,passive:d}):i.addEventListener(r,o,!0):d!==void 0?i.addEventListener(r,o,{passive:d}):i.addEventListener(r,o,!1)}function Kp(i,r,o,u,d){var g=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var S=u.stateNode.containerInfo;if(S===d)break;if(E===4)for(E=u.return;E!==null;){var j=E.tag;if((j===3||j===4)&&E.stateNode.containerInfo===d)return;E=E.return}for(;S!==null;){if(E=ys(S),E===null)return;if(j=E.tag,j===5||j===6||j===26||j===27){u=g=E;continue e}S=S.parentNode}}u=u.return}kr(function(){var W=g,re=Vi(o),le=[];e:{var Z=s_.get(i);if(Z!==void 0){var te=Ss,Se=i;switch(i){case"keypress":if(Ua(o)===0)break e;case"keydown":case"keyup":te=Ah;break;case"focusin":Se="focus",te=za;break;case"focusout":Se="blur",te=za;break;case"beforeblur":case"afterblur":te=za;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=fu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=gh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=_;break;case e_:case t_:case n_:te=vh;break;case i_:te=x;break;case"scroll":case"scrollend":te=hu;break;case"wheel":te=ee;break;case"copy":case"cut":case"paste":te=_h;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=Ws;break;case"toggle":case"beforetoggle":te=Ye}var Me=(r&4)!==0,xt=!Me&&(i==="scroll"||i==="scrollend"),K=Me?Z!==null?Z+"Capture":null:Z;Me=[];for(var z=W,X;z!==null;){var oe=z;if(X=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||X===null||K===null||(oe=Ji(z,K),oe!=null&&Me.push(Fu(z,oe,X))),xt)break;z=z.return}0<Me.length&&(Z=new te(Z,Se,null,o,re),le.push({event:Z,listeners:Me}))}}if((r&7)===0){e:{if(Z=i==="mouseover"||i==="pointerover",te=i==="mouseout"||i==="pointerout",Z&&o!==lu&&(Se=o.relatedTarget||o.fromElement)&&(ys(Se)||Se[ps]))break e;if((te||Z)&&(Z=re.window===re?re:(Z=re.ownerDocument)?Z.defaultView||Z.parentWindow:window,te?(Se=o.relatedTarget||o.toElement,te=W,Se=Se?ys(Se):null,Se!==null&&(xt=l(Se),Me=Se.tag,Se!==xt||Me!==5&&Me!==27&&Me!==6)&&(Se=null)):(te=null,Se=W),te!==Se)){if(Me=fu,oe="onMouseLeave",K="onMouseEnter",z="mouse",(i==="pointerout"||i==="pointerover")&&(Me=Ws,oe="onPointerLeave",K="onPointerEnter",z="pointer"),xt=te==null?Z:gi(te),X=Se==null?Z:gi(Se),Z=new Me(oe,z+"leave",te,o,re),Z.target=xt,Z.relatedTarget=X,oe=null,ys(re)===W&&(Me=new Me(K,z+"enter",Se,o,re),Me.target=X,Me.relatedTarget=xt,oe=Me),xt=oe,te&&Se)t:{for(Me=xI,K=te,z=Se,X=0,oe=K;oe;oe=Me(oe))X++;oe=0;for(var Ne=z;Ne;Ne=Me(Ne))oe++;for(;0<X-oe;)K=Me(K),X--;for(;0<oe-X;)z=Me(z),oe--;for(;X--;){if(K===z||z!==null&&K===z.alternate){Me=K;break t}K=Me(K),z=Me(z)}Me=null}else Me=null;te!==null&&xE(le,Z,te,Me,!1),Se!==null&&xt!==null&&xE(le,xt,Se,Me,!0)}}e:{if(Z=W?gi(W):window,te=Z.nodeName&&Z.nodeName.toLowerCase(),te==="select"||te==="input"&&Z.type==="file")var dt=H0;else if(z0(Z))if(q0)dt=L2;else{dt=P2;var xe=M2}else te=Z.nodeName,!te||te.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?W&&Vo(W.elementType)&&(dt=H0):dt=k2;if(dt&&(dt=dt(i,W))){F0(le,dt,o,re);break e}xe&&xe(i,Z,W),i==="focusout"&&W&&Z.type==="number"&&W.memoizedProps.value!=null&&ru(Z,"number",Z.value)}switch(xe=W?gi(W):window,i){case"focusin":(z0(xe)||xe.contentEditable==="true")&&(Bo=xe,Em=W,yu=null);break;case"focusout":yu=Em=Bo=null;break;case"mousedown":bm=!0;break;case"contextmenu":case"mouseup":case"dragend":bm=!1,Z0(le,o,re);break;case"selectionchange":if(U2)break;case"keydown":case"keyup":Z0(le,o,re)}var Xe;if(pt)e:{switch(i){case"compositionstart":var rt="onCompositionStart";break e;case"compositionend":rt="onCompositionEnd";break e;case"compositionupdate":rt="onCompositionUpdate";break e}rt=void 0}else Uo?Fa(i,o)&&(rt="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(rt="onCompositionStart");rt&&(Cs&&o.locale!=="ko"&&(Uo||rt!=="onCompositionStart"?rt==="onCompositionEnd"&&Uo&&(Xe=cu()):(ws=re,uu="value"in ws?ws.value:ws.textContent,Uo=!0)),xe=gf(W,rt),0<xe.length&&(rt=new xs(rt,i,null,o,re),le.push({event:rt,listeners:xe}),Xe?rt.data=Xe:(Xe=jo(o),Xe!==null&&(rt.data=Xe)))),(Xe=Mi?N2(i,o):D2(i,o))&&(rt=gf(W,"onBeforeInput"),0<rt.length&&(xe=new xs("onBeforeInput","beforeinput",null,o,re),le.push({event:xe,listeners:rt}),xe.data=Xe)),bI(le,i,W,o,re)}SE(le,r)})}function Fu(i,r,o){return{instance:i,listener:r,currentTarget:o}}function gf(i,r){for(var o=r+"Capture",u=[];i!==null;){var d=i,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=Ji(i,o),d!=null&&u.unshift(Fu(i,d,g)),d=Ji(i,r),d!=null&&u.push(Fu(i,d,g))),i.tag===3)return u;i=i.return}return[]}function xI(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function xE(i,r,o,u,d){for(var g=r._reactName,E=[];o!==null&&o!==u;){var S=o,j=S.alternate,W=S.stateNode;if(S=S.tag,j!==null&&j===u)break;S!==5&&S!==26&&S!==27||W===null||(j=W,d?(W=Ji(o,g),W!=null&&E.unshift(Fu(o,W,j))):d||(W=Ji(o,g),W!=null&&E.push(Fu(o,W,j)))),o=o.return}E.length!==0&&i.push({event:r,listeners:E})}var CI=/\r\n?/g,RI=/\u0000|\uFFFD/g;function CE(i){return(typeof i=="string"?i:""+i).replace(CI,`
`).replace(RI,"")}function RE(i,r){return r=CE(r),CE(i)===r}function At(i,r,o,u,d,g){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||ii(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&ii(i,""+u);break;case"className":yi(i,"class",u);break;case"tabIndex":yi(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":yi(i,o,u);break;case"style":ou(i,u,g);break;case"data":if(r!=="object"){yi(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Oo(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&At(i,r,"name",d.name,d,null),At(i,r,"formEncType",d.formEncType,d,null),At(i,r,"formMethod",d.formMethod,d,null),At(i,r,"formTarget",d.formTarget,d,null)):(At(i,r,"encType",d.encType,d,null),At(i,r,"method",d.method,d,null),At(i,r,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Oo(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=Zi);break;case"onScroll":u!=null&&nt("scroll",i);break;case"onScrollEnd":u!=null&&nt("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=Oo(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":nt("beforetoggle",i),nt("toggle",i),No(i,"popover",u);break;case"xlinkActuate":on(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":on(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":on(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":on(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":on(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":on(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":on(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":on(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":on(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":No(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=ph.get(o)||o,No(i,o,u))}}function Yp(i,r,o,u,d,g){switch(o){case"style":ou(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?ii(i,u):(typeof u=="number"||typeof u=="bigint")&&ii(i,""+u);break;case"onScroll":u!=null&&nt("scroll",i);break;case"onScrollEnd":u!=null&&nt("scrollend",i);break;case"onClick":u!=null&&(i.onclick=Zi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!eu.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),r=o.slice(2,d?o.length-7:void 0),g=i[bn]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(r,g,d),typeof u=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,u,d);break e}o in i?i[o]=u:u===!0?i.setAttribute(o,""):No(i,o,u)}}}function Vn(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":nt("error",i),nt("load",i);var u=!1,d=!1,g;for(g in o)if(o.hasOwnProperty(g)){var E=o[g];if(E!=null)switch(g){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:At(i,r,g,E,o,null)}}d&&At(i,r,"srcSet",o.srcSet,o,null),u&&At(i,r,"src",o.src,o,null);return;case"input":nt("invalid",i);var S=g=E=d=null,j=null,W=null;for(u in o)if(o.hasOwnProperty(u)){var re=o[u];if(re!=null)switch(u){case"name":d=re;break;case"type":E=re;break;case"checked":j=re;break;case"defaultChecked":W=re;break;case"value":g=re;break;case"defaultValue":S=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(s(137,r));break;default:At(i,r,u,re,o,null)}}fh(i,g,S,j,W,E,d,!1);return;case"select":nt("invalid",i),u=E=g=null;for(d in o)if(o.hasOwnProperty(d)&&(S=o[d],S!=null))switch(d){case"value":g=S;break;case"defaultValue":E=S;break;case"multiple":u=S;default:At(i,r,d,S,o,null)}r=g,o=E,i.multiple=!!u,r!=null?Vr(i,!!u,r,!1):o!=null&&Vr(i,!!u,o,!0);return;case"textarea":nt("invalid",i),g=d=u=null;for(E in o)if(o.hasOwnProperty(E)&&(S=o[E],S!=null))switch(E){case"value":u=S;break;case"defaultValue":d=S;break;case"children":g=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:At(i,r,E,S,o,null)}Or(i,u,d,g);return;case"option":for(j in o)if(o.hasOwnProperty(j)&&(u=o[j],u!=null))switch(j){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:At(i,r,j,u,o,null)}return;case"dialog":nt("beforetoggle",i),nt("toggle",i),nt("cancel",i),nt("close",i);break;case"iframe":case"object":nt("load",i);break;case"video":case"audio":for(u=0;u<zu.length;u++)nt(zu[u],i);break;case"image":nt("error",i),nt("load",i);break;case"details":nt("toggle",i);break;case"embed":case"source":case"link":nt("error",i),nt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in o)if(o.hasOwnProperty(W)&&(u=o[W],u!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:At(i,r,W,u,o,null)}return;default:if(Vo(r)){for(re in o)o.hasOwnProperty(re)&&(u=o[re],u!==void 0&&Yp(i,r,re,u,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(u=o[S],u!=null&&At(i,r,S,u,o,null))}function II(i,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,E=null,S=null,j=null,W=null,re=null;for(te in o){var le=o[te];if(o.hasOwnProperty(te)&&le!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":j=le;default:u.hasOwnProperty(te)||At(i,r,te,null,u,le)}}for(var Z in u){var te=u[Z];if(le=o[Z],u.hasOwnProperty(Z)&&(te!=null||le!=null))switch(Z){case"type":g=te;break;case"name":d=te;break;case"checked":W=te;break;case"defaultChecked":re=te;break;case"value":E=te;break;case"defaultValue":S=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(s(137,r));break;default:te!==le&&At(i,r,Z,te,u,le)}}Do(i,E,S,j,W,re,g,d);return;case"select":te=E=S=Z=null;for(g in o)if(j=o[g],o.hasOwnProperty(g)&&j!=null)switch(g){case"value":break;case"multiple":te=j;default:u.hasOwnProperty(g)||At(i,r,g,null,u,j)}for(d in u)if(g=u[d],j=o[d],u.hasOwnProperty(d)&&(g!=null||j!=null))switch(d){case"value":Z=g;break;case"defaultValue":S=g;break;case"multiple":E=g;default:g!==j&&At(i,r,d,g,u,j)}r=S,o=E,u=te,Z!=null?Vr(i,!!o,Z,!1):!!u!=!!o&&(r!=null?Vr(i,!!o,r,!0):Vr(i,!!o,o?[]:"",!1));return;case"textarea":te=Z=null;for(S in o)if(d=o[S],o.hasOwnProperty(S)&&d!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:At(i,r,S,null,u,d)}for(E in u)if(d=u[E],g=o[E],u.hasOwnProperty(E)&&(d!=null||g!=null))switch(E){case"value":Z=d;break;case"defaultValue":te=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==g&&At(i,r,E,d,u,g)}dh(i,Z,te);return;case"option":for(var Se in o)if(Z=o[Se],o.hasOwnProperty(Se)&&Z!=null&&!u.hasOwnProperty(Se))switch(Se){case"selected":i.selected=!1;break;default:At(i,r,Se,null,u,Z)}for(j in u)if(Z=u[j],te=o[j],u.hasOwnProperty(j)&&Z!==te&&(Z!=null||te!=null))switch(j){case"selected":i.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:At(i,r,j,Z,u,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Me in o)Z=o[Me],o.hasOwnProperty(Me)&&Z!=null&&!u.hasOwnProperty(Me)&&At(i,r,Me,null,u,Z);for(W in u)if(Z=u[W],te=o[W],u.hasOwnProperty(W)&&Z!==te&&(Z!=null||te!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,r));break;default:At(i,r,W,Z,u,te)}return;default:if(Vo(r)){for(var xt in o)Z=o[xt],o.hasOwnProperty(xt)&&Z!==void 0&&!u.hasOwnProperty(xt)&&Yp(i,r,xt,void 0,u,Z);for(re in u)Z=u[re],te=o[re],!u.hasOwnProperty(re)||Z===te||Z===void 0&&te===void 0||Yp(i,r,re,Z,u,te);return}}for(var K in o)Z=o[K],o.hasOwnProperty(K)&&Z!=null&&!u.hasOwnProperty(K)&&At(i,r,K,null,u,Z);for(le in u)Z=u[le],te=o[le],!u.hasOwnProperty(le)||Z===te||Z==null&&te==null||At(i,r,le,Z,u,te)}function IE(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function NI(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var d=o[u],g=d.transferSize,E=d.initiatorType,S=d.duration;if(g&&S&&IE(E)){for(E=0,S=d.responseEnd,u+=1;u<o.length;u++){var j=o[u],W=j.startTime;if(W>S)break;var re=j.transferSize,le=j.initiatorType;re&&IE(le)&&(j=j.responseEnd,E+=re*(j<S?1:(S-W)/(j-W)))}if(--u,r+=8*(g+E)/(d.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var $p=null,Qp=null;function yf(i){return i.nodeType===9?i:i.ownerDocument}function NE(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function DE(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Xp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Wp=null;function DI(){var i=window.event;return i&&i.type==="popstate"?i===Wp?!1:(Wp=i,!0):(Wp=null,!1)}var VE=typeof setTimeout=="function"?setTimeout:void 0,VI=typeof clearTimeout=="function"?clearTimeout:void 0,OE=typeof Promise=="function"?Promise:void 0,OI=typeof queueMicrotask=="function"?queueMicrotask:typeof OE<"u"?function(i){return OE.resolve(null).then(i).catch(MI)}:VE;function MI(i){setTimeout(function(){throw i})}function na(i){return i==="head"}function ME(i,r){var o=r,u=0;do{var d=o.nextSibling;if(i.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"||o==="/&"){if(u===0){i.removeChild(d),dl(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")Hu(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,Hu(o);for(var g=o.firstChild;g;){var E=g.nextSibling,S=g.nodeName;g[gs]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=E}}else o==="body"&&Hu(i.ownerDocument.body);o=d}while(o);dl(r)}function PE(i,r){var o=i;i=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=u}while(o)}function Zp(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Zp(o),Io(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function PI(i,r,o,u){for(;i.nodeType===1;){var d=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[gs])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==d.rel||i.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||i.getAttribute("title")!==(d.title==null?null:d.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(d.src==null?null:d.src)||i.getAttribute("type")!==(d.type==null?null:d.type)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=zi(i.nextSibling),i===null)break}return null}function kI(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=zi(i.nextSibling),i===null))return null;return i}function kE(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=zi(i.nextSibling),i===null))return null;return i}function Jp(i){return i.data==="$?"||i.data==="$~"}function eg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function LI(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function zi(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var tg=null;function LE(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return zi(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function jE(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function UE(i,r,o){switch(r=yf(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Hu(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Io(i)}var Fi=new Map,BE=new Set;function vf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var fr=ie.d;ie.d={f:jI,r:UI,D:BI,C:zI,L:FI,m:HI,X:GI,S:qI,M:KI};function jI(){var i=fr.f(),r=uf();return i||r}function UI(i){var r=Di(i);r!==null&&r.tag===5&&r.type==="form"?iT(r):fr.r(i)}var cl=typeof document>"u"?null:document;function zE(i,r,o){var u=cl;if(u&&typeof r=="string"&&r){var d=ni(r);d='link[rel="'+i+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),BE.has(d)||(BE.add(d),i={rel:i,crossOrigin:o,href:r},u.querySelector(d)===null&&(r=u.createElement("link"),Vn(r,"link",i),an(r),u.head.appendChild(r)))}}function BI(i){fr.D(i),zE("dns-prefetch",i,null)}function zI(i,r){fr.C(i,r),zE("preconnect",i,r)}function FI(i,r,o){fr.L(i,r,o);var u=cl;if(u&&i&&r){var d='link[rel="preload"][as="'+ni(r)+'"]';r==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+ni(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+ni(o.imageSizes)+'"]')):d+='[href="'+ni(i)+'"]';var g=d;switch(r){case"style":g=hl(i);break;case"script":g=fl(i)}Fi.has(g)||(i=v({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),Fi.set(g,i),u.querySelector(d)!==null||r==="style"&&u.querySelector(qu(g))||r==="script"&&u.querySelector(Gu(g))||(r=u.createElement("link"),Vn(r,"link",i),an(r),u.head.appendChild(r)))}}function HI(i,r){fr.m(i,r);var o=cl;if(o&&i){var u=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+ni(u)+'"][href="'+ni(i)+'"]',g=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=fl(i)}if(!Fi.has(g)&&(i=v({rel:"modulepreload",href:i},r),Fi.set(g,i),o.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Gu(g)))return}u=o.createElement("link"),Vn(u,"link",i),an(u),o.head.appendChild(u)}}}function qI(i,r,o){fr.S(i,r,o);var u=cl;if(u&&i){var d=vs(u).hoistableStyles,g=hl(i);r=r||"default";var E=d.get(g);if(!E){var S={loading:0,preload:null};if(E=u.querySelector(qu(g)))S.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":r},o),(o=Fi.get(g))&&ng(i,o);var j=E=u.createElement("link");an(j),Vn(j,"link",i),j._p=new Promise(function(W,re){j.onload=W,j.onerror=re}),j.addEventListener("load",function(){S.loading|=1}),j.addEventListener("error",function(){S.loading|=2}),S.loading|=4,_f(E,r,u)}E={type:"stylesheet",instance:E,count:1,state:S},d.set(g,E)}}}function GI(i,r){fr.X(i,r);var o=cl;if(o&&i){var u=vs(o).hoistableScripts,d=fl(i),g=u.get(d);g||(g=o.querySelector(Gu(d)),g||(i=v({src:i,async:!0},r),(r=Fi.get(d))&&ig(i,r),g=o.createElement("script"),an(g),Vn(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function KI(i,r){fr.M(i,r);var o=cl;if(o&&i){var u=vs(o).hoistableScripts,d=fl(i),g=u.get(d);g||(g=o.querySelector(Gu(d)),g||(i=v({src:i,async:!0,type:"module"},r),(r=Fi.get(d))&&ig(i,r),g=o.createElement("script"),an(g),Vn(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function FE(i,r,o,u){var d=(d=je.current)?vf(d):null;if(!d)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=hl(o.href),o=vs(d).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=hl(o.href);var g=vs(d).hoistableStyles,E=g.get(i);if(E||(d=d.ownerDocument||d,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,E),(g=d.querySelector(qu(i)))&&!g._p&&(E.instance=g,E.state.loading=5),Fi.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Fi.set(i,o),g||YI(d,i,o,E.state))),r&&u===null)throw Error(s(528,""));return E}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=fl(o),o=vs(d).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function hl(i){return'href="'+ni(i)+'"'}function qu(i){return'link[rel="stylesheet"]['+i+"]"}function HE(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function YI(i,r,o,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Vn(r,"link",o),an(r),i.head.appendChild(r))}function fl(i){return'[src="'+ni(i)+'"]'}function Gu(i){return"script[async]"+i}function qE(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+ni(o.href)+'"]');if(u)return r.instance=u,an(u),u;var d=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),an(u),Vn(u,"style",d),_f(u,o.precedence,i),r.instance=u;case"stylesheet":d=hl(o.href);var g=i.querySelector(qu(d));if(g)return r.state.loading|=4,r.instance=g,an(g),g;u=HE(o),(d=Fi.get(d))&&ng(u,d),g=(i.ownerDocument||i).createElement("link"),an(g);var E=g;return E._p=new Promise(function(S,j){E.onload=S,E.onerror=j}),Vn(g,"link",u),r.state.loading|=4,_f(g,o.precedence,i),r.instance=g;case"script":return g=fl(o.src),(d=i.querySelector(Gu(g)))?(r.instance=d,an(d),d):(u=o,(d=Fi.get(g))&&(u=v({},o),ig(u,d)),i=i.ownerDocument||i,d=i.createElement("script"),an(d),Vn(d,"link",u),i.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,_f(u,o.precedence,i));return r.instance}function _f(i,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,g=d,E=0;E<u.length;E++){var S=u[E];if(S.dataset.precedence===r)g=S;else if(g!==d)break}g?g.parentNode.insertBefore(i,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function ng(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function ig(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Tf=null;function GE(i,r,o){if(Tf===null){var u=new Map,d=Tf=new Map;d.set(o,u)}else d=Tf,u=d.get(o),u||(u=new Map,d.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),d=0;d<o.length;d++){var g=o[d];if(!(g[gs]||g[Yt]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var E=g.getAttribute(r)||"";E=i+E;var S=u.get(E);S?S.push(g):u.set(E,[g])}}return u}function KE(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function $I(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function YE(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function QI(i,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var d=hl(u.href),g=r.querySelector(qu(d));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=Ef.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=g,an(g);return}g=r.ownerDocument||r,u=HE(u),(d=Fi.get(d))&&ng(u,d),g=g.createElement("link"),an(g);var E=g;E._p=new Promise(function(S,j){E.onload=S,E.onerror=j}),Vn(g,"link",u),o.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=Ef.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var sg=0;function XI(i,r){return i.stylesheets&&i.count===0&&wf(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var u=setTimeout(function(){if(i.stylesheets&&wf(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+r);0<i.imgBytes&&sg===0&&(sg=62500*NI());var d=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&wf(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>sg?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(d)}}:null}function Ef(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)wf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var bf=null;function wf(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,bf=new Map,r.forEach(WI,i),bf=null,Ef.call(i))}function WI(i,r){if(!(r.state.loading&4)){var o=bf.get(i);if(o)var u=o.get(null);else{o=new Map,bf.set(i,o);for(var d=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var E=d[g];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}d=r.instance,E=d.getAttribute("data-precedence"),g=o.get(E)||u,g===u&&o.set(null,d),o.set(E,d),this.count++,u=Ef.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),g?g.parentNode.insertBefore(d,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(d,i.firstChild)),r.state.loading|=4}}var Ku={$$typeof:H,Provider:null,Consumer:null,_currentValue:ve,_currentValue2:ve,_threadCount:0};function ZI(i,r,o,u,d,g,E,S,j){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Kt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kt(0),this.hiddenUpdates=Kt(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function $E(i,r,o,u,d,g,E,S,j,W,re,le){return i=new ZI(i,r,o,E,j,W,re,le,S),r=1,g===!0&&(r|=24),g=_i(3,null,null,r),i.current=g,g.stateNode=i,r=Lm(),r.refCount++,i.pooledCache=r,r.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:r},zm(g),i}function QE(i){return i?(i=Ho,i):Ho}function XE(i,r,o,u,d,g){d=QE(d),u.context===null?u.context=d:u.pendingContext=d,u=Gr(r),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=Kr(i,u,r),o!==null&&(li(o,i,r),Su(o,i,r))}function WE(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function rg(i,r){WE(i,r),(i=i.alternate)&&WE(i,r)}function ZE(i){if(i.tag===13||i.tag===31){var r=Ga(i,67108864);r!==null&&li(r,i,67108864),rg(i,67108864)}}function JE(i){if(i.tag===13||i.tag===31){var r=Si();r=Ni(r);var o=Ga(i,r);o!==null&&li(o,i,r),rg(i,r)}}var Sf=!0;function JI(i,r,o,u){var d=Y.T;Y.T=null;var g=ie.p;try{ie.p=2,ag(i,r,o,u)}finally{ie.p=g,Y.T=d}}function eN(i,r,o,u){var d=Y.T;Y.T=null;var g=ie.p;try{ie.p=8,ag(i,r,o,u)}finally{ie.p=g,Y.T=d}}function ag(i,r,o,u){if(Sf){var d=og(u);if(d===null)Kp(i,r,u,Af,o),tb(i,u);else if(nN(d,i,r,o,u))u.stopPropagation();else if(tb(i,u),r&4&&-1<tN.indexOf(i)){for(;d!==null;){var g=Di(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var E=Ke(g.pendingLanes);if(E!==0){var S=g;for(S.pendingLanes|=2,S.entangledLanes|=2;E;){var j=1<<31-Rt(E);S.entanglements[1]|=j,E&=~j}Ds(g),(gt&6)===0&&(of=de()+500,Bu(0))}}break;case 31:case 13:S=Ga(g,2),S!==null&&li(S,g,2),uf(),rg(g,2)}if(g=og(u),g===null&&Kp(i,r,u,Af,o),g===d)break;d=g}d!==null&&u.stopPropagation()}else Kp(i,r,u,null,o)}}function og(i){return i=Vi(i),lg(i)}var Af=null;function lg(i){if(Af=null,i=ys(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===31){if(i=f(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Af=i,null}function eb(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(me()){case Ae:return 2;case Je:return 8;case qe:case Wt:return 32;case Ri:return 268435456;default:return 32}default:return 32}}var ug=!1,ia=null,sa=null,ra=null,Yu=new Map,$u=new Map,aa=[],tN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function tb(i,r){switch(i){case"focusin":case"focusout":ia=null;break;case"dragenter":case"dragleave":sa=null;break;case"mouseover":case"mouseout":ra=null;break;case"pointerover":case"pointerout":Yu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":$u.delete(r.pointerId)}}function Qu(i,r,o,u,d,g){return i===null||i.nativeEvent!==g?(i={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[d]},r!==null&&(r=Di(r),r!==null&&ZE(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),i)}function nN(i,r,o,u,d){switch(r){case"focusin":return ia=Qu(ia,i,r,o,u,d),!0;case"dragenter":return sa=Qu(sa,i,r,o,u,d),!0;case"mouseover":return ra=Qu(ra,i,r,o,u,d),!0;case"pointerover":var g=d.pointerId;return Yu.set(g,Qu(Yu.get(g)||null,i,r,o,u,d)),!0;case"gotpointercapture":return g=d.pointerId,$u.set(g,Qu($u.get(g)||null,i,r,o,u,d)),!0}return!1}function nb(i){var r=ys(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,Un(i.priority,function(){JE(o)});return}}else if(r===31){if(r=f(o),r!==null){i.blockedOn=r,Un(i.priority,function(){JE(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function xf(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=og(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);lu=u,o.target.dispatchEvent(u),lu=null}else return r=Di(o),r!==null&&ZE(r),i.blockedOn=o,!1;r.shift()}return!0}function ib(i,r,o){xf(i)&&o.delete(r)}function iN(){ug=!1,ia!==null&&xf(ia)&&(ia=null),sa!==null&&xf(sa)&&(sa=null),ra!==null&&xf(ra)&&(ra=null),Yu.forEach(ib),$u.forEach(ib)}function Cf(i,r){i.blockedOn===r&&(i.blockedOn=null,ug||(ug=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,iN)))}var Rf=null;function sb(i){Rf!==i&&(Rf=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Rf===i&&(Rf=null);for(var r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],d=i[r+2];if(typeof u!="function"){if(lg(u||o)===null)continue;break}var g=Di(o);g!==null&&(i.splice(r,3),r-=3,op(g,{pending:!0,data:d,method:o.method,action:u},u,d))}}))}function dl(i){function r(j){return Cf(j,i)}ia!==null&&Cf(ia,i),sa!==null&&Cf(sa,i),ra!==null&&Cf(ra,i),Yu.forEach(r),$u.forEach(r);for(var o=0;o<aa.length;o++){var u=aa[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<aa.length&&(o=aa[0],o.blockedOn===null);)nb(o),o.blockedOn===null&&aa.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var d=o[u],g=o[u+1],E=d[bn]||null;if(typeof g=="function")E||sb(o);else if(E){var S=null;if(g&&g.hasAttribute("formAction")){if(d=g,E=g[bn]||null)S=E.formAction;else if(lg(d)!==null)continue}else S=E.action;typeof S=="function"?o[u+1]=S:(o.splice(u,3),u-=3),sb(o)}}}function rb(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(E){return d=E})},focusReset:"manual",scroll:"manual"})}function r(){d!==null&&(d(),d=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,d=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),d!==null&&(d(),d=null)}}}function cg(i){this._internalRoot=i}If.prototype.render=cg.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=Si();XE(o,u,i,r,null,null)},If.prototype.unmount=cg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;XE(i.current,2,null,i,null,null),uf(),r[ps]=null}};function If(i){this._internalRoot=i}If.prototype.unstable_scheduleHydration=function(i){if(i){var r=$s();i={blockedOn:null,target:i,priority:r};for(var o=0;o<aa.length&&r!==0&&r<aa[o].priority;o++);aa.splice(o,0,i),o===0&&nb(i)}};var ab=e.version;if(ab!=="19.2.0")throw Error(s(527,ab,"19.2.0"));ie.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=p(r),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var sN={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nf.isDisabled&&Nf.supportsFiber)try{Cn=Nf.inject(sN),Nt=Nf}catch{}}return Wu.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,u="",d=dT,g=mT,E=pT;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError)),r=$E(i,1,!1,null,null,o,u,null,d,g,E,rb),i[ps]=r.current,Gp(i),new cg(r)},Wu.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var u=!1,d="",g=dT,E=mT,S=pT,j=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.formState!==void 0&&(j=o.formState)),r=$E(i,1,!0,r,o??null,u,d,j,g,E,S,rb),r.context=QE(null),o=r.current,u=Si(),u=Ni(u),d=Gr(u),d.callback=null,Kr(o,d,u),o=u,r.current.lanes=o,Mt(r,o),Ds(r),i[ps]=r.current,Gp(i),new If(r)},Wu.version="19.2.0",Wu}var gb;function pN(){if(gb)return dg.exports;gb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),dg.exports=mN(),dg.exports}var gN=pN();/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var yb="popstate";function yN(t={}){function e(s,a){let{pathname:l,search:c,hash:f}=s.location;return Qg("",{pathname:l,search:c,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Sc(a)}return _N(e,n,null,t)}function Ht(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function $i(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function vN(){return Math.random().toString(36).substring(2,10)}function vb(t,e){return{usr:t.state,key:t.key,idx:e}}function Qg(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Bl(e):e,state:n,key:e&&e.key||s||vN()}}function Sc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Bl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function _N(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,f="POP",m=null,p=y();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function y(){return(c.state||{idx:null}).idx}function v(){f="POP";let M=y(),F=M==null?null:M-p;p=M,m&&m({action:f,location:V.location,delta:F})}function b(M,F){f="PUSH";let q=Qg(V.location,M,F);p=y()+1;let H=vb(q,p),ne=V.createHref(q);try{c.pushState(H,"",ne)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;a.location.assign(ne)}l&&m&&m({action:f,location:V.location,delta:1})}function A(M,F){f="REPLACE";let q=Qg(V.location,M,F);p=y();let H=vb(q,p),ne=V.createHref(q);c.replaceState(H,"",ne),l&&m&&m({action:f,location:V.location,delta:0})}function D(M){return TN(M)}let V={get action(){return f},get location(){return t(a,c)},listen(M){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(yb,v),m=M,()=>{a.removeEventListener(yb,v),m=null}},createHref(M){return e(a,M)},createURL:D,encodeLocation(M){let F=D(M);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:b,replace:A,go(M){return c.go(M)}};return V}function TN(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ht(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:Sc(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function F1(t,e,n="/"){return EN(t,e,n,!1)}function EN(t,e,n,s){let a=typeof e=="string"?Bl(e):e,l=Er(a.pathname||"/",n);if(l==null)return null;let c=H1(t);bN(c);let f=null;for(let m=0;f==null&&m<c.length;++m){let p=ON(l);f=DN(c[m],p,s)}return f}function H1(t,e=[],n=[],s="",a=!1){let l=(c,f,m=a,p)=>{let y={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&m)return;Ht(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let v=vr([s,y.relativePath]),b=n.concat(y);c.children&&c.children.length>0&&(Ht(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),H1(c.children,e,b,v,m)),!(c.path==null&&!c.index)&&e.push({path:v,score:IN(v,c.index),routesMeta:b})};return t.forEach((c,f)=>{var m;if(c.path===""||!((m=c.path)!=null&&m.includes("?")))l(c,f);else for(let p of q1(c.path))l(c,f,!0,p)}),e}function q1(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=q1(s.join("/")),f=[];return f.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&f.push(...c),f.map(m=>t.startsWith("/")&&m===""?"/":m)}function bN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:NN(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var wN=/^:[\w-]+$/,SN=3,AN=2,xN=1,CN=10,RN=-2,_b=t=>t==="*";function IN(t,e){let n=t.split("/"),s=n.length;return n.some(_b)&&(s+=RN),e&&(s+=AN),n.filter(a=>!_b(a)).reduce((a,l)=>a+(wN.test(l)?SN:l===""?xN:CN),s)}function NN(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function DN(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",c=[];for(let f=0;f<s.length;++f){let m=s[f],p=f===s.length-1,y=l==="/"?e:e.slice(l.length)||"/",v=ld({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),b=m.route;if(!v&&p&&n&&!s[s.length-1].route.index&&(v=ld({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!v)return null;Object.assign(a,v.params),c.push({params:a,pathname:vr([l,v.pathname]),pathnameBase:jN(vr([l,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(l=vr([l,v.pathnameBase]))}return c}function ld(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=VN(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:s.reduce((p,{paramName:y,isOptional:v},b)=>{if(y==="*"){let D=f[b]||"";c=l.slice(0,l.length-D.length).replace(/(.)\/+$/,"$1")}const A=f[b];return v&&!A?p[y]=void 0:p[y]=(A||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:t}}function VN(t,e=!1,n=!0){$i(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,m)=>(s.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function ON(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $i(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Er(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}var MN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,PN=t=>MN.test(t);function kN(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?Bl(t):t,l;if(n)if(PN(n))l=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),$i(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?l=Tb(n.substring(1),"/"):l=Tb(n,e)}else l=e;return{pathname:l,search:UN(s),hash:BN(a)}}function Tb(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function yg(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function LN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function $y(t){let e=LN(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Qy(t,e,n,s=!1){let a;typeof t=="string"?a=Bl(t):(a={...t},Ht(!a.pathname||!a.pathname.includes("?"),yg("?","pathname","search",a)),Ht(!a.pathname||!a.pathname.includes("#"),yg("#","pathname","hash",a)),Ht(!a.search||!a.search.includes("#"),yg("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,f;if(c==null)f=n;else{let v=e.length-1;if(!s&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),v-=1;a.pathname=b.join("/")}f=v>=0?e[v]:"/"}let m=kN(a,f),p=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var vr=t=>t.join("/").replace(/\/\/+/g,"/"),jN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),UN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,BN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function zN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var G1=["POST","PUT","PATCH","DELETE"];new Set(G1);var FN=["GET",...G1];new Set(FN);var zl=O.createContext(null);zl.displayName="DataRouter";var Bd=O.createContext(null);Bd.displayName="DataRouterState";O.createContext(!1);var K1=O.createContext({isTransitioning:!1});K1.displayName="ViewTransition";var HN=O.createContext(new Map);HN.displayName="Fetchers";var qN=O.createContext(null);qN.displayName="Await";var ms=O.createContext(null);ms.displayName="Navigation";var zc=O.createContext(null);zc.displayName="Location";var Gs=O.createContext({outlet:null,matches:[],isDataRoute:!1});Gs.displayName="Route";var Xy=O.createContext(null);Xy.displayName="RouteError";function GN(t,{relative:e}={}){Ht(Fl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=O.useContext(ms),{hash:a,pathname:l,search:c}=Fc(t,{relative:e}),f=l;return n!=="/"&&(f=l==="/"?n:vr([n,l])),s.createHref({pathname:f,search:c,hash:a})}function Fl(){return O.useContext(zc)!=null}function Rr(){return Ht(Fl(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(zc).location}var Y1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $1(t){O.useContext(ms).static||O.useLayoutEffect(t)}function Wy(){let{isDataRoute:t}=O.useContext(Gs);return t?sD():KN()}function KN(){Ht(Fl(),"useNavigate() may be used only in the context of a <Router> component.");let t=O.useContext(zl),{basename:e,navigator:n}=O.useContext(ms),{matches:s}=O.useContext(Gs),{pathname:a}=Rr(),l=JSON.stringify($y(s)),c=O.useRef(!1);return $1(()=>{c.current=!0}),O.useCallback((m,p={})=>{if($i(c.current,Y1),!c.current)return;if(typeof m=="number"){n.go(m);return}let y=Qy(m,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:vr([e,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[e,n,l,a,t])}O.createContext(null);function Fc(t,{relative:e}={}){let{matches:n}=O.useContext(Gs),{pathname:s}=Rr(),a=JSON.stringify($y(n));return O.useMemo(()=>Qy(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function YN(t,e){return Q1(t,e)}function Q1(t,e,n,s,a){var q;Ht(Fl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=O.useContext(ms),{matches:c}=O.useContext(Gs),f=c[c.length-1],m=f?f.params:{},p=f?f.pathname:"/",y=f?f.pathnameBase:"/",v=f&&f.route;{let H=v&&v.path||"";X1(p,!v||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let b=Rr(),A;if(e){let H=typeof e=="string"?Bl(e):e;Ht(y==="/"||((q=H.pathname)==null?void 0:q.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${H.pathname}" was given in the \`location\` prop.`),A=H}else A=b;let D=A.pathname||"/",V=D;if(y!=="/"){let H=y.replace(/^\//,"").split("/");V="/"+D.replace(/^\//,"").split("/").slice(H.length).join("/")}let M=F1(t,{pathname:V});$i(v||M!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),$i(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=ZN(M&&M.map(H=>Object.assign({},H,{params:Object.assign({},m,H.params),pathname:vr([y,l.encodeLocation?l.encodeLocation(H.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?y:vr([y,l.encodeLocation?l.encodeLocation(H.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathnameBase])})),c,n,s,a);return e&&F?O.createElement(zc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},F):F}function $N(){let t=iD(),e=zN(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:l},"ErrorBoundary")," or"," ",O.createElement("code",{style:l},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:a},n):null,c)}var QN=O.createElement($N,null),XN=class extends O.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?O.createElement(Gs.Provider,{value:this.props.routeContext},O.createElement(Xy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function WN({routeContext:t,match:e,children:n}){let s=O.useContext(zl);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(Gs.Provider,{value:t},n)}function ZN(t,e=[],n=null,s=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n==null?void 0:n.errors;if(c!=null){let y=l.findIndex(v=>v.route.id&&(c==null?void 0:c[v.route.id])!==void 0);Ht(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let f=!1,m=-1;if(n)for(let y=0;y<l.length;y++){let v=l[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(m=y),v.route.id){let{loaderData:b,errors:A}=n,D=v.route.loader&&!b.hasOwnProperty(v.route.id)&&(!A||A[v.route.id]===void 0);if(v.route.lazy||D){f=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let p=n&&s?(y,v)=>{var b,A;s(y,{location:n.location,params:((A=(b=n.matches)==null?void 0:b[0])==null?void 0:A.params)??{},errorInfo:v})}:void 0;return l.reduceRight((y,v,b)=>{let A,D=!1,V=null,M=null;n&&(A=c&&v.route.id?c[v.route.id]:void 0,V=v.route.errorElement||QN,f&&(m<0&&b===0?(X1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,M=null):m===b&&(D=!0,M=v.route.hydrateFallbackElement||null)));let F=e.concat(l.slice(0,b+1)),q=()=>{let H;return A?H=V:D?H=M:v.route.Component?H=O.createElement(v.route.Component,null):v.route.element?H=v.route.element:H=y,O.createElement(WN,{match:v,routeContext:{outlet:y,matches:F,isDataRoute:n!=null},children:H})};return n&&(v.route.ErrorBoundary||v.route.errorElement||b===0)?O.createElement(XN,{location:n.location,revalidation:n.revalidation,component:V,error:A,children:q(),routeContext:{outlet:null,matches:F,isDataRoute:!0},onError:p}):q()},null)}function Zy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function JN(t){let e=O.useContext(zl);return Ht(e,Zy(t)),e}function eD(t){let e=O.useContext(Bd);return Ht(e,Zy(t)),e}function tD(t){let e=O.useContext(Gs);return Ht(e,Zy(t)),e}function Jy(t){let e=tD(t),n=e.matches[e.matches.length-1];return Ht(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function nD(){return Jy("useRouteId")}function iD(){var s;let t=O.useContext(Xy),e=eD("useRouteError"),n=Jy("useRouteError");return t!==void 0?t:(s=e.errors)==null?void 0:s[n]}function sD(){let{router:t}=JN("useNavigate"),e=Jy("useNavigate"),n=O.useRef(!1);return $1(()=>{n.current=!0}),O.useCallback(async(a,l={})=>{$i(n.current,Y1),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var Eb={};function X1(t,e,n){!e&&!Eb[t]&&(Eb[t]=!0,$i(!1,n))}O.memo(rD);function rD({routes:t,future:e,state:n,unstable_onError:s}){return Q1(t,void 0,n,s,e)}function Df({to:t,replace:e,state:n,relative:s}){Ht(Fl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=O.useContext(ms);$i(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=O.useContext(Gs),{pathname:c}=Rr(),f=Wy(),m=Qy(t,$y(l),c,s==="path"),p=JSON.stringify(m);return O.useEffect(()=>{f(JSON.parse(p),{replace:e,state:n,relative:s})},[f,p,s,e,n]),null}function nc(t){Ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function aD({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1}){Ht(!Fl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),f=O.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof n=="string"&&(n=Bl(n));let{pathname:m="/",search:p="",hash:y="",state:v=null,key:b="default"}=n,A=O.useMemo(()=>{let D=Er(m,c);return D==null?null:{location:{pathname:D,search:p,hash:y,state:v,key:b},navigationType:s}},[c,m,p,y,v,b,s]);return $i(A!=null,`<Router basename="${c}"> is not able to match the URL "${m}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:O.createElement(ms.Provider,{value:f},O.createElement(zc.Provider,{children:e,value:A}))}function oD({children:t,location:e}){return YN(Xg(t),e)}function Xg(t,e=[]){let n=[];return O.Children.forEach(t,(s,a)=>{if(!O.isValidElement(s))return;let l=[...e,a];if(s.type===O.Fragment){n.push.apply(n,Xg(s.props.children,l));return}Ht(s.type===nc,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ht(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Xg(s.props.children,l)),n.push(c)}),n}var Gf="get",Kf="application/x-www-form-urlencoded";function zd(t){return t!=null&&typeof t.tagName=="string"}function lD(t){return zd(t)&&t.tagName.toLowerCase()==="button"}function uD(t){return zd(t)&&t.tagName.toLowerCase()==="form"}function cD(t){return zd(t)&&t.tagName.toLowerCase()==="input"}function hD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function fD(t,e){return t.button===0&&(!e||e==="_self")&&!hD(t)}var Vf=null;function dD(){if(Vf===null)try{new FormData(document.createElement("form"),0),Vf=!1}catch{Vf=!0}return Vf}var mD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vg(t){return t!=null&&!mD.has(t)?($i(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Kf}"`),null):t}function pD(t,e){let n,s,a,l,c;if(uD(t)){let f=t.getAttribute("action");s=f?Er(f,e):null,n=t.getAttribute("method")||Gf,a=vg(t.getAttribute("enctype"))||Kf,l=new FormData(t)}else if(lD(t)||cD(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||f.getAttribute("action");if(s=m?Er(m,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||Gf,a=vg(t.getAttribute("formenctype"))||vg(f.getAttribute("enctype"))||Kf,l=new FormData(f,t),!dD()){let{name:p,type:y,value:v}=t;if(y==="image"){let b=p?`${p}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else p&&l.append(p,v)}}else{if(zd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Gf,s=null,a=Kf,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ev(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function gD(t,e,n){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Er(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function yD(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vD(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function _D(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await yD(l,n);return c.links?c.links():[]}return[]}));return wD(s.flat(1).filter(vD).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function bb(t,e,n,s,a,l){let c=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,f=(m,p)=>{var y;return n[p].pathname!==m.pathname||((y=n[p].route.path)==null?void 0:y.endsWith("*"))&&n[p].params["*"]!==m.params["*"]};return l==="assets"?e.filter((m,p)=>c(m,p)||f(m,p)):l==="data"?e.filter((m,p)=>{var v;let y=s.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(c(m,p)||f(m,p))return!0;if(m.route.shouldRevalidate){let b=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((v=n[0])==null?void 0:v.params)||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function TD(t,e,{includeHydrateFallback:n}={}){return ED(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function ED(t){return[...new Set(t)]}function bD(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function wD(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(bD(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function W1(){let t=O.useContext(zl);return ev(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function SD(){let t=O.useContext(Bd);return ev(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var tv=O.createContext(void 0);tv.displayName="FrameworkContext";function Z1(){let t=O.useContext(tv);return ev(t,"You must render this element inside a <HydratedRouter> element"),t}function AD(t,e){let n=O.useContext(tv),[s,a]=O.useState(!1),[l,c]=O.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:v}=e,b=O.useRef(null);O.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let V=F=>{F.forEach(q=>{c(q.isIntersecting)})},M=new IntersectionObserver(V,{threshold:.5});return b.current&&M.observe(b.current),()=>{M.disconnect()}}},[t]),O.useEffect(()=>{if(s){let V=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(V)}}},[s]);let A=()=>{a(!0)},D=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,b,{}]:[l,b,{onFocus:Zu(f,A),onBlur:Zu(m,D),onMouseEnter:Zu(p,A),onMouseLeave:Zu(y,D),onTouchStart:Zu(v,A)}]:[!1,b,{}]}function Zu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function xD({page:t,...e}){let{router:n}=W1(),s=O.useMemo(()=>F1(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?O.createElement(RD,{page:t,matches:s,...e}):null}function CD(t){let{manifest:e,routeModules:n}=Z1(),[s,a]=O.useState([]);return O.useEffect(()=>{let l=!1;return _D(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),s}function RD({page:t,matches:e,...n}){let s=Rr(),{manifest:a,routeModules:l}=Z1(),{basename:c}=W1(),{loaderData:f,matches:m}=SD(),p=O.useMemo(()=>bb(t,e,m,a,s,"data"),[t,e,m,a,s]),y=O.useMemo(()=>bb(t,e,m,a,s,"assets"),[t,e,m,a,s]),v=O.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let D=new Set,V=!1;if(e.forEach(F=>{var H;let q=a.routes[F.route.id];!q||!q.hasLoader||(!p.some(ne=>ne.route.id===F.route.id)&&F.route.id in f&&((H=l[F.route.id])!=null&&H.shouldRevalidate)||q.hasClientLoader?V=!0:D.add(F.route.id))}),D.size===0)return[];let M=gD(t,c,"data");return V&&D.size>0&&M.searchParams.set("_routes",e.filter(F=>D.has(F.route.id)).map(F=>F.route.id).join(",")),[M.pathname+M.search]},[c,f,s,a,p,e,t,l]),b=O.useMemo(()=>TD(y,a),[y,a]),A=CD(y);return O.createElement(O.Fragment,null,v.map(D=>O.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...n})),b.map(D=>O.createElement("link",{key:D,rel:"modulepreload",href:D,...n})),A.map(({key:D,link:V})=>O.createElement("link",{key:D,nonce:n.nonce,...V})))}function ID(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var J1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{J1&&(window.__reactRouterVersion="7.9.6")}catch{}function ND({basename:t,children:e,window:n}){let s=O.useRef();s.current==null&&(s.current=yN({window:n,v5Compat:!0}));let a=s.current,[l,c]=O.useState({action:a.action,location:a.location}),f=O.useCallback(m=>{O.startTransition(()=>c(m))},[c]);return O.useLayoutEffect(()=>a.listen(f),[a,f]),O.createElement(aD,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a})}var eA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Al=O.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:f,target:m,to:p,preventScrollReset:y,viewTransition:v,...b},A){let{basename:D}=O.useContext(ms),V=typeof p=="string"&&eA.test(p),M,F=!1;if(typeof p=="string"&&V&&(M=p,J1))try{let R=new URL(window.location.href),L=p.startsWith("//")?new URL(R.protocol+p):new URL(p),k=Er(L.pathname,D);L.origin===R.origin&&k!=null?p=k+L.search+L.hash:F=!0}catch{$i(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let q=GN(p,{relative:a}),[H,ne,J]=AD(s,b),he=MD(p,{replace:c,state:f,target:m,preventScrollReset:y,relative:a,viewTransition:v});function I(R){e&&e(R),R.defaultPrevented||he(R)}let C=O.createElement("a",{...b,...J,href:M||q,onClick:F||l?e:I,ref:ID(A,ne),target:m,"data-discover":!V&&n==="render"?"true":void 0});return H&&!V?O.createElement(O.Fragment,null,C,O.createElement(xD,{page:q})):C});Al.displayName="Link";var DD=O.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:f,children:m,...p},y){let v=Fc(c,{relative:p.relative}),b=Rr(),A=O.useContext(Bd),{navigator:D,basename:V}=O.useContext(ms),M=A!=null&&UD(v)&&f===!0,F=D.encodeLocation?D.encodeLocation(v).pathname:v.pathname,q=b.pathname,H=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;n||(q=q.toLowerCase(),H=H?H.toLowerCase():null,F=F.toLowerCase()),H&&V&&(H=Er(H,V)||H);const ne=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let J=q===F||!a&&q.startsWith(F)&&q.charAt(ne)==="/",he=H!=null&&(H===F||!a&&H.startsWith(F)&&H.charAt(F.length)==="/"),I={isActive:J,isPending:he,isTransitioning:M},C=J?e:void 0,R;typeof s=="function"?R=s(I):R=[s,J?"active":null,he?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let L=typeof l=="function"?l(I):l;return O.createElement(Al,{...p,"aria-current":C,className:R,ref:y,style:L,to:c,viewTransition:f},typeof m=="function"?m(I):m)});DD.displayName="NavLink";var VD=O.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:c=Gf,action:f,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:v,...b},A)=>{let D=LD(),V=jD(f,{relative:p}),M=c.toLowerCase()==="get"?"get":"post",F=typeof f=="string"&&eA.test(f),q=H=>{if(m&&m(H),H.defaultPrevented)return;H.preventDefault();let ne=H.nativeEvent.submitter,J=(ne==null?void 0:ne.getAttribute("formmethod"))||c;D(ne||H.currentTarget,{fetcherKey:e,method:J,navigate:n,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:v})};return O.createElement("form",{ref:A,method:M,action:V,onSubmit:s?m:q,...b,"data-discover":!F&&t==="render"?"true":void 0})});VD.displayName="Form";function OD(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tA(t){let e=O.useContext(zl);return Ht(e,OD(t)),e}function MD(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:c}={}){let f=Wy(),m=Rr(),p=Fc(t,{relative:l});return O.useCallback(y=>{if(fD(y,e)){y.preventDefault();let v=n!==void 0?n:Sc(m)===Sc(p);f(t,{replace:v,state:s,preventScrollReset:a,relative:l,viewTransition:c})}},[m,f,p,n,s,e,t,a,l,c])}var PD=0,kD=()=>`__${String(++PD)}__`;function LD(){let{router:t}=tA("useSubmit"),{basename:e}=O.useContext(ms),n=nD();return O.useCallback(async(s,a={})=>{let{action:l,method:c,encType:f,formData:m,body:p}=pD(s,e);if(a.navigate===!1){let y=a.fetcherKey||kD();await t.fetch(y,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||f,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||f,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function jD(t,{relative:e}={}){let{basename:n}=O.useContext(ms),s=O.useContext(Gs);Ht(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...Fc(t||".",{relative:e})},c=Rr();if(t==null){l.search=c.search;let f=new URLSearchParams(l.search),m=f.getAll("index");if(m.some(y=>y==="")){f.delete("index"),m.filter(v=>v).forEach(v=>f.append("index",v));let y=f.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:vr([n,l.pathname])),Sc(l)}function UD(t,{relative:e}={}){let n=O.useContext(K1);Ht(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=tA("useViewTransitionState"),a=Fc(t,{relative:e});if(!n.isTransitioning)return!1;let l=Er(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=Er(n.nextLocation.pathname,s)||n.nextLocation.pathname;return ld(a.pathname,c)!=null||ld(a.pathname,l)!=null}const BD=()=>{};var wb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},zD=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],f=t[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],c=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},iA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,f=c?t[a+1]:0,m=a+2<t.length,p=m?t[a+2]:0,y=l>>2,v=(l&3)<<4|f>>4;let b=(f&15)<<2|p>>6,A=p&63;m||(A=64,c||(b=64)),s.push(n[y],n[v],n[b],n[A])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(nA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):zD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],f=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const v=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||f==null||p==null||v==null)throw new FD;const b=l<<2|f>>4;if(s.push(b),p!==64){const A=f<<4&240|p>>2;if(s.push(A),v!==64){const D=p<<6&192|v;s.push(D)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class FD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const HD=function(t){const e=nA(t);return iA.encodeByteArray(e,!0)},ud=function(t){return HD(t).replace(/\./g,"")},sA=function(t){try{return iA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD=()=>qD().__FIREBASE_DEFAULTS__,KD=()=>{if(typeof process>"u"||typeof wb>"u")return;const t=wb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},YD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&sA(t[1]);return e&&JSON.parse(e)},Fd=()=>{try{return BD()||GD()||KD()||YD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},rA=t=>{var e,n;return(n=(e=Fd())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},aA=t=>{const e=rA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},oA=()=>{var t;return(t=Fd())==null?void 0:t.config},lA=t=>{var e;return(e=Fd())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function nv(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[ud(JSON.stringify(n)),ud(JSON.stringify(c)),""].join(".")}const hc={};function QD(){const t={prod:[],emulator:[]};for(const e of Object.keys(hc))hc[e]?t.emulator.push(e):t.prod.push(e);return t}function XD(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Sb=!1;function iv(t,e){if(typeof window>"u"||typeof document>"u"||!wo(window.location.host)||hc[t]===e||hc[t]||Sb)return;hc[t]=e;function n(b){return`__firebase__banner__${b}`}const s="__firebase__banner",l=QD().prod.length>0;function c(){const b=document.getElementById(s);b&&b.remove()}function f(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function m(b,A){b.setAttribute("width","24"),b.setAttribute("id",A),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function p(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{Sb=!0,c()},b}function y(b,A){b.setAttribute("id",A),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function v(){const b=XD(s),A=n("text"),D=document.getElementById(A)||document.createElement("span"),V=n("learnmore"),M=document.getElementById(V)||document.createElement("a"),F=n("preprendIcon"),q=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const H=b.element;f(H),y(M,V);const ne=p();m(q,F),H.append(q,D,M,ne),document.body.appendChild(H)}l?(D.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function WD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kn())}function ZD(){var e;const t=(e=Fd())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function JD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function eV(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function tV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nV(){const t=Kn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function iV(){return!ZD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sV(){try{return typeof indexedDB=="object"}catch{return!1}}function rV(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;e(((l=a.error)==null?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aV="FirebaseError";class Ks extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=aV,Object.setPrototypeOf(this,Ks.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hc.prototype.create)}}class Hc{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?oV(l,s):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new Ks(a,f,s)}}function oV(t,e){return t.replace(lV,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const lV=/\{\$([^}]+)}/g;function uV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function yo(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],c=e[a];if(Ab(l)&&Ab(c)){if(!yo(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function Ab(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qc(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function ic(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function sc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function cV(t,e){const n=new hV(t,e);return n.subscribe.bind(n)}class hV{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");fV(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=_g),a.error===void 0&&(a.error=_g),a.complete===void 0&&(a.complete=_g);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fV(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function _g(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(t){return t&&t._delegate?t._delegate:t}class _a{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new $D;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pV(e))try{this.getOrInitializeService({instanceIdentifier:ro})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=ro){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ro){return this.instances.has(e)}getOptions(e=ro){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);s===f&&c.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:mV(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ro){return this.component?this.component.multipleInstances?e:ro:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mV(t){return t===ro?void 0:t}function pV(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new dV(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(at||(at={}));const yV={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},vV=at.INFO,_V={[at.DEBUG]:"log",[at.VERBOSE]:"log",[at.INFO]:"info",[at.WARN]:"warn",[at.ERROR]:"error"},TV=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=_V[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sv{constructor(e){this.name=e,this._logLevel=vV,this._logHandler=TV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in at))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,at.DEBUG,...e),this._logHandler(this,at.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,at.VERBOSE,...e),this._logHandler(this,at.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,at.INFO,...e),this._logHandler(this,at.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,at.WARN,...e),this._logHandler(this,at.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,at.ERROR,...e),this._logHandler(this,at.ERROR,...e)}}const EV=(t,e)=>e.some(n=>t instanceof n);let xb,Cb;function bV(){return xb||(xb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wV(){return Cb||(Cb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cA=new WeakMap,Wg=new WeakMap,hA=new WeakMap,Tg=new WeakMap,rv=new WeakMap;function SV(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(pa(t.result)),a()},c=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&cA.set(n,t)}).catch(()=>{}),rv.set(e,t),e}function AV(t){if(Wg.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});Wg.set(t,e)}let Zg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Wg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||hA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return pa(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function xV(t){Zg=t(Zg)}function CV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Eg(this),e,...n);return hA.set(s,e.sort?e.sort():[e]),pa(s)}:wV().includes(t)?function(...e){return t.apply(Eg(this),e),pa(cA.get(this))}:function(...e){return pa(t.apply(Eg(this),e))}}function RV(t){return typeof t=="function"?CV(t):(t instanceof IDBTransaction&&AV(t),EV(t,bV())?new Proxy(t,Zg):t)}function pa(t){if(t instanceof IDBRequest)return SV(t);if(Tg.has(t))return Tg.get(t);const e=RV(t);return e!==t&&(Tg.set(t,e),rv.set(e,t)),e}const Eg=t=>rv.get(t);function IV(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),f=pa(c);return s&&c.addEventListener("upgradeneeded",m=>{s(pa(c.result),m.oldVersion,m.newVersion,pa(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const NV=["get","getKey","getAll","getAllKeys","count"],DV=["put","add","delete","clear"],bg=new Map;function Rb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(bg.get(e))return bg.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=DV.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||NV.includes(n)))return;const l=async function(c,...f){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return s&&(p=p.index(f.shift())),(await Promise.all([p[n](...f),a&&m.done]))[0]};return bg.set(e,l),l}xV(t=>({...t,get:(e,n,s)=>Rb(e,n)||t.get(e,n,s),has:(e,n)=>!!Rb(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(OV(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function OV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Jg="@firebase/app",Ib="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br=new sv("@firebase/app"),MV="@firebase/app-compat",PV="@firebase/analytics-compat",kV="@firebase/analytics",LV="@firebase/app-check-compat",jV="@firebase/app-check",UV="@firebase/auth",BV="@firebase/auth-compat",zV="@firebase/database",FV="@firebase/data-connect",HV="@firebase/database-compat",qV="@firebase/functions",GV="@firebase/functions-compat",KV="@firebase/installations",YV="@firebase/installations-compat",$V="@firebase/messaging",QV="@firebase/messaging-compat",XV="@firebase/performance",WV="@firebase/performance-compat",ZV="@firebase/remote-config",JV="@firebase/remote-config-compat",eO="@firebase/storage",tO="@firebase/storage-compat",nO="@firebase/firestore",iO="@firebase/ai",sO="@firebase/firestore-compat",rO="firebase",aO="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ey="[DEFAULT]",oO={[Jg]:"fire-core",[MV]:"fire-core-compat",[kV]:"fire-analytics",[PV]:"fire-analytics-compat",[jV]:"fire-app-check",[LV]:"fire-app-check-compat",[UV]:"fire-auth",[BV]:"fire-auth-compat",[zV]:"fire-rtdb",[FV]:"fire-data-connect",[HV]:"fire-rtdb-compat",[qV]:"fire-fn",[GV]:"fire-fn-compat",[KV]:"fire-iid",[YV]:"fire-iid-compat",[$V]:"fire-fcm",[QV]:"fire-fcm-compat",[XV]:"fire-perf",[WV]:"fire-perf-compat",[ZV]:"fire-rc",[JV]:"fire-rc-compat",[eO]:"fire-gcs",[tO]:"fire-gcs-compat",[nO]:"fire-fst",[sO]:"fire-fst-compat",[iO]:"fire-vertex","fire-js":"fire-js",[rO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cd=new Map,lO=new Map,ty=new Map;function Nb(t,e){try{t.container.addComponent(e)}catch(n){br.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function vo(t){const e=t.name;if(ty.has(e))return br.debug(`There were multiple attempts to register component ${e}.`),!1;ty.set(e,t);for(const n of cd.values())Nb(n,t);for(const n of lO.values())Nb(n,t);return!0}function Hd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function hi(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ga=new Hc("app","Firebase",uO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new _a("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ga.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So=aO;function fA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:ey,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw ga.create("bad-app-name",{appName:String(a)});if(n||(n=oA()),!n)throw ga.create("no-options");const l=cd.get(a);if(l){if(yo(n,l.options)&&yo(s,l.config))return l;throw ga.create("duplicate-app",{appName:a})}const c=new gV(a);for(const m of ty.values())c.addComponent(m);const f=new cO(n,s,c);return cd.set(a,f),f}function av(t=ey){const e=cd.get(t);if(!e&&t===ey&&oA())return fA();if(!e)throw ga.create("no-app",{appName:t});return e}function Ms(t,e,n){let s=oO[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${e}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),br.warn(c.join(" "));return}vo(new _a(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO="firebase-heartbeat-database",fO=1,Ac="firebase-heartbeat-store";let wg=null;function dA(){return wg||(wg=IV(hO,fO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ac)}catch(n){console.warn(n)}}}}).catch(t=>{throw ga.create("idb-open",{originalErrorMessage:t.message})})),wg}async function dO(t){try{const n=(await dA()).transaction(Ac),s=await n.objectStore(Ac).get(mA(t));return await n.done,s}catch(e){if(e instanceof Ks)br.warn(e.message);else{const n=ga.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});br.warn(n.message)}}}async function Db(t,e){try{const s=(await dA()).transaction(Ac,"readwrite");await s.objectStore(Ac).put(e,mA(t)),await s.done}catch(n){if(n instanceof Ks)br.warn(n.message);else{const s=ga.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});br.warn(s.message)}}}function mA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO=1024,pO=30;class gO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new vO(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Vb();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>pO){const c=_O(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){br.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Vb(),{heartbeatsToSend:s,unsentEntries:a}=yO(this._heartbeatsCache.heartbeats),l=ud(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return br.warn(n),""}}}function Vb(){return new Date().toISOString().substring(0,10)}function yO(t,e=mO){const n=[];let s=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),Ob(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Ob(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class vO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sV()?rV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await dO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Db(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Db(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Ob(t){return ud(JSON.stringify({version:2,heartbeats:t})).length}function _O(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TO(t){vo(new _a("platform-logger",e=>new VV(e),"PRIVATE")),vo(new _a("heartbeat",e=>new gO(e),"PRIVATE")),Ms(Jg,Ib,t),Ms(Jg,Ib,"esm2020"),Ms("fire-js","")}TO("");function pA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const EO=pA,gA=new Hc("auth","Firebase",pA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hd=new sv("@firebase/auth");function bO(t,...e){hd.logLevel<=at.WARN&&hd.warn(`Auth (${So}): ${t}`,...e)}function Yf(t,...e){hd.logLevel<=at.ERROR&&hd.error(`Auth (${So}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(t,...e){throw lv(t,...e)}function hs(t,...e){return lv(t,...e)}function ov(t,e,n){const s={...EO(),[e]:n};return new Hc("auth","Firebase",s).create(e,{appName:t.name})}function _r(t){return ov(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wO(t,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Qi(t,"argument-error"),ov(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function lv(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return gA.create(t,...e)}function Pe(t,e,...n){if(!t)throw lv(e,...n)}function pr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Yf(e),new Error(e)}function wr(t,e){t||pr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ny(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function SO(){return Mb()==="http:"||Mb()==="https:"}function Mb(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(SO()||eV()||"connection"in navigator)?navigator.onLine:!0}function xO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,n){this.shortDelay=e,this.longDelay=n,wr(n>e,"Short delay should be less than long delay!"),this.isMobile=WD()||tV()}get(){return AO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uv(t,e){wr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;pr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;pr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;pr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],IO=new Gc(3e4,6e4);function Ra(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ia(t,e,n,s,a={}){return vA(t,a,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const f=qc({key:t.config.apiKey,...c}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:m,...l};return JD()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&wo(t.emulatorConfig.host)&&(p.credentials="include"),yA.fetch()(await _A(t,t.config.apiHost,n,f),p)})}async function vA(t,e,n){t._canInitEmulator=!1;const s={...CO,...e};try{const a=new DO(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Of(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[m,p]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Of(t,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Of(t,"email-already-in-use",c);if(m==="USER_DISABLED")throw Of(t,"user-disabled",c);const y=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw ov(t,y,p);Qi(t,y)}}catch(a){if(a instanceof Ks)throw a;Qi(t,"network-request-failed",{message:String(a)})}}async function Kc(t,e,n,s,a={}){const l=await Ia(t,e,n,s,a);return"mfaPendingCredential"in l&&Qi(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function _A(t,e,n,s){const a=`${e}${n}?${s}`,l=t,c=l.config.emulator?uv(t.config,a):`${t.config.apiScheme}://${a}`;return RO.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function NO(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class DO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(hs(this.auth,"network-request-failed")),IO.get())})}}function Of(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=hs(t,e,s);return a.customData._tokenResponse=n,a}function Pb(t){return t!==void 0&&t.enterprise!==void 0}class VO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return NO(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function OO(t,e){return Ia(t,"GET","/v2/recaptchaConfig",Ra(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MO(t,e){return Ia(t,"POST","/v1/accounts:delete",e)}async function fd(t,e){return Ia(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function PO(t,e=!1){const n=En(t),s=await n.getIdToken(e),a=cv(s);Pe(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:s,authTime:fc(Sg(a.auth_time)),issuedAtTime:fc(Sg(a.iat)),expirationTime:fc(Sg(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Sg(t){return Number(t)*1e3}function cv(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Yf("JWT malformed, contained fewer than 3 sections"),null;try{const a=sA(n);return a?JSON.parse(a):(Yf("Failed to decode base64 JWT payload"),null)}catch(a){return Yf("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function kb(t){const e=cv(t);return Pe(e,"internal-error"),Pe(typeof e.exp<"u","internal-error"),Pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xc(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Ks&&kO(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function kO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=fc(this.lastLoginAt),this.creationTime=fc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dd(t){var v;const e=t.auth,n=await t.getIdToken(),s=await xc(t,fd(e,{idToken:n}));Pe(s==null?void 0:s.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=(v=a.providerUserInfo)!=null&&v.length?TA(a.providerUserInfo):[],c=UO(t.providerData,l),f=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!(c!=null&&c.length),p=f?m:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new iy(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,y)}async function jO(t){const e=En(t);await dd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function UO(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function TA(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BO(t,e){const n=await vA(t,{},async()=>{const s=qc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await _A(t,a,"/v1/token",`key=${l}`),f=await t._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:f,body:s};return t.emulatorConfig&&wo(t.emulatorConfig.host)&&(m.credentials="include"),yA.fetch()(c,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function zO(t,e){return Ia(t,"POST","/v2/accounts:revokeToken",Ra(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pe(e.idToken,"internal-error"),Pe(typeof e.idToken<"u","internal-error"),Pe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):kb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Pe(e.length!==0,"internal-error");const n=kb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await BO(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,c=new xl;return s&&(Pe(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),a&&(Pe(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Pe(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xl,this.toJSON())}_performRefresh(){return pr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function la(t,e){Pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class us{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new LO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new iy(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await xc(this,this.stsTokenManager.getToken(this.auth,e));return Pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return PO(this,e)}reload(){return jO(this)}_assign(e){this!==e&&(Pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new us({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await dd(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hi(this.auth.app))return Promise.reject(_r(this.auth));const e=await this.getIdToken();return await xc(this,MO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,f=n.tenantId??void 0,m=n._redirectEventId??void 0,p=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:v,emailVerified:b,isAnonymous:A,providerData:D,stsTokenManager:V}=n;Pe(v&&V,e,"internal-error");const M=xl.fromJSON(this.name,V);Pe(typeof v=="string",e,"internal-error"),la(s,e.name),la(a,e.name),Pe(typeof b=="boolean",e,"internal-error"),Pe(typeof A=="boolean",e,"internal-error"),la(l,e.name),la(c,e.name),la(f,e.name),la(m,e.name),la(p,e.name),la(y,e.name);const F=new us({uid:v,auth:e,email:a,emailVerified:b,displayName:s,isAnonymous:A,photoURL:c,phoneNumber:l,tenantId:f,stsTokenManager:M,createdAt:p,lastLoginAt:y});return D&&Array.isArray(D)&&(F.providerData=D.map(q=>({...q}))),m&&(F._redirectEventId=m),F}static async _fromIdTokenResponse(e,n,s=!1){const a=new xl;a.updateFromServerResponse(n);const l=new us({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await dd(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];Pe(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?TA(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),f=new xl;f.updateFromIdToken(s);const m=new us({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new iy(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb=new Map;function gr(t){wr(t instanceof Function,"Expected a class definition");let e=Lb.get(t);return e?(wr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Lb.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}EA.type="NONE";const jb=EA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $f(t,e,n){return`firebase:${t}:${e}:${n}`}class Cl{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=$f(this.userKey,a.apiKey,l),this.fullPersistenceKey=$f("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await fd(this.auth,{idToken:e}).catch(()=>{});return n?us._fromGetAccountInfoResponse(this.auth,n,e):null}return us._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Cl(gr(jb),e,s);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||gr(jb);const c=$f(s,e.config.apiKey,e.name);let f=null;for(const p of n)try{const y=await p._get(c);if(y){let v;if(typeof y=="string"){const b=await fd(e,{idToken:y}).catch(()=>{});if(!b)break;v=await us._fromGetAccountInfoResponse(e,b,y)}else v=us._fromJSON(e,y);p!==l&&(f=v),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Cl(l,e,s):(l=m[0],f&&await l._set(c,f.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new Cl(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ub(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(AA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(CA(e))return"Blackberry";if(RA(e))return"Webos";if(wA(e))return"Safari";if((e.includes("chrome/")||SA(e))&&!e.includes("edge/"))return"Chrome";if(xA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function bA(t=Kn()){return/firefox\//i.test(t)}function wA(t=Kn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function SA(t=Kn()){return/crios\//i.test(t)}function AA(t=Kn()){return/iemobile/i.test(t)}function xA(t=Kn()){return/android/i.test(t)}function CA(t=Kn()){return/blackberry/i.test(t)}function RA(t=Kn()){return/webos/i.test(t)}function hv(t=Kn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function FO(t=Kn()){var e;return hv(t)&&!!((e=window.navigator)!=null&&e.standalone)}function HO(){return nV()&&document.documentMode===10}function IA(t=Kn()){return hv(t)||xA(t)||RA(t)||CA(t)||/windows phone/i.test(t)||AA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(t,e=[]){let n;switch(t){case"Browser":n=Ub(Kn());break;case"Worker":n=`${Ub(Kn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${So}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((c,f)=>{try{const m=e(l);c(m)}catch(m){f(m)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GO(t,e={}){return Ia(t,"GET","/v2/passwordPolicy",Ra(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO=6;class YO{constructor(e){var s;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??KO,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bb(this),this.idTokenSubscription=new Bb(this),this.beforeStateQueue=new qO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=gr(n)),this._initializationPromise=this.queue(async()=>{var s,a,l;if(!this._deleted&&(this.persistenceManager=await Cl.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)==null?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await fd(this,{idToken:e}),s=await us._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var l;if(hi(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(l=this.redirectUser)==null?void 0:l._redirectEventId,f=s==null?void 0:s._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===f)&&(m!=null&&m.user)&&(s=m.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await dd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=xO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(hi(this.app))return Promise.reject(_r(this));const n=e?En(e):null;return n&&Pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return hi(this.app)?Promise.reject(_r(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return hi(this.app)?Promise.reject(_r(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await GO(this),n=new YO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Hc("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await zO(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&gr(e)||this._popupRedirectResolver;Pe(n,this,"argument-error"),this.redirectPersistenceManager=await Cl.create(this,[gr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pe(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,a);return()=>{c=!0,m()}}else{const m=e.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=NA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var n;if(hi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&bO(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Na(t){return En(t)}class Bb{constructor(e){this.auth=e,this.observer=null,this.addObserver=cV(n=>this.observer=n)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function QO(t){qd=t}function DA(t){return qd.loadJS(t)}function XO(){return qd.recaptchaEnterpriseScript}function WO(){return qd.gapiScript}function ZO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class JO{constructor(){this.enterprise=new eM}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class eM{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const tM="recaptcha-enterprise",VA="NO_RECAPTCHA";class nM{constructor(e){this.type=tM,this.auth=Na(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,f)=>{OO(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const p=new VO(m);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(m=>{f(m)})})}function a(l,c,f){const m=window.grecaptcha;Pb(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(p=>{c(p)}).catch(()=>{c(VA)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new JO().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(f=>{if(!n&&Pb(window.grecaptcha))a(f,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=XO();m.length!==0&&(m+=f),DA(m).then(()=>{a(f,l,c)}).catch(p=>{c(p)})}}).catch(f=>{c(f)})})}}async function zb(t,e,n,s=!1,a=!1){const l=new nM(t);let c;if(a)c=VA;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const f={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const m=f.phoneEnrollmentInfo.phoneNumber,p=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const m=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return s?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function sy(t,e,n,s,a){var l;if((l=t._getRecaptchaConfig())!=null&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await zb(t,e,n,n==="getOobCode");return s(t,c)}else return s(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await zb(t,e,n,n==="getOobCode");return s(t,f)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iM(t,e){const n=Hd(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(yo(l,e??{}))return a;Qi(a,"already-initialized")}return n.initialize({options:e})}function sM(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(gr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function rM(t,e,n){const s=Na(t);Pe(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=OA(e),{host:c,port:f}=aM(e),m=f===null?"":`:${f}`,p={url:`${l}//${c}${m}/`},y=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Pe(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Pe(yo(p,s.config.emulator)&&yo(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,wo(c)?(nv(`${l}//${c}${m}`),iv("Auth",!0)):oM()}function OA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function aM(t){const e=OA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:Fb(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:Fb(c)}}}function Fb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function oM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return pr("not implemented")}_getIdTokenResponse(e){return pr("not implemented")}_linkToIdToken(e,n){return pr("not implemented")}_getReauthenticationResolver(e){return pr("not implemented")}}async function lM(t,e){return Ia(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uM(t,e){return Kc(t,"POST","/v1/accounts:signInWithPassword",Ra(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cM(t,e){return Kc(t,"POST","/v1/accounts:signInWithEmailLink",Ra(t,e))}async function hM(t,e){return Kc(t,"POST","/v1/accounts:signInWithEmailLink",Ra(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc extends fv{constructor(e,n,s,a=null){super("password",s),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Cc(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Cc(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sy(e,n,"signInWithPassword",uM);case"emailLink":return cM(e,{email:this._email,oobCode:this._password});default:Qi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sy(e,s,"signUpPassword",lM);case"emailLink":return hM(e,{idToken:n,email:this._email,oobCode:this._password});default:Qi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rl(t,e){return Kc(t,"POST","/v1/accounts:signInWithIdp",Ra(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM="http://localhost";class _o extends fv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new _o(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const c=new _o(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Rl(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Rl(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Rl(e,n)}buildRequest(){const e={requestUri:fM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=qc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dM(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function mM(t){const e=ic(sc(t)).link,n=e?ic(sc(e)).deep_link_id:null,s=ic(sc(t)).deep_link_id;return(s?ic(sc(s)).link:null)||s||n||e||t}class dv{constructor(e){const n=ic(sc(e)),s=n.apiKey??null,a=n.oobCode??null,l=dM(n.mode??null);Pe(s&&a&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=mM(e);try{return new dv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(){this.providerId=Hl.PROVIDER_ID}static credential(e,n){return Cc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=dv.parseLink(n);return Pe(s,"argument-error"),Cc._fromEmailAndCode(e,s.code,s.tenantId)}}Hl.PROVIDER_ID="password";Hl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Hl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc extends mv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca extends Yc{constructor(){super("facebook.com")}static credential(e){return _o._fromParams({providerId:ca.PROVIDER_ID,signInMethod:ca.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ca.credentialFromTaggedObject(e)}static credentialFromError(e){return ca.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ca.credential(e.oauthAccessToken)}catch{return null}}}ca.FACEBOOK_SIGN_IN_METHOD="facebook.com";ca.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr extends Yc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return _o._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return mr.credentialFromTaggedObject(e)}static credentialFromError(e){return mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return mr.credential(n,s)}catch{return null}}}mr.GOOGLE_SIGN_IN_METHOD="google.com";mr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha extends Yc{constructor(){super("github.com")}static credential(e){return _o._fromParams({providerId:ha.PROVIDER_ID,signInMethod:ha.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ha.credentialFromTaggedObject(e)}static credentialFromError(e){return ha.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ha.credential(e.oauthAccessToken)}catch{return null}}}ha.GITHUB_SIGN_IN_METHOD="github.com";ha.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa extends Yc{constructor(){super("twitter.com")}static credential(e,n){return _o._fromParams({providerId:fa.PROVIDER_ID,signInMethod:fa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return fa.credentialFromTaggedObject(e)}static credentialFromError(e){return fa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return fa.credential(n,s)}catch{return null}}}fa.TWITTER_SIGN_IN_METHOD="twitter.com";fa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pM(t,e){return Kc(t,"POST","/v1/accounts:signUp",Ra(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await us._fromIdTokenResponse(e,s,a),c=Hb(s);return new To({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=Hb(s);return new To({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function Hb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md extends Ks{constructor(e,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,md.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new md(e,n,s,a)}}function MA(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?md._fromErrorAndOperation(t,l,e,s):l})}async function gM(t,e,n=!1){const s=await xc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return To._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yM(t,e,n=!1){const{auth:s}=t;if(hi(s.app))return Promise.reject(_r(s));const a="reauthenticate";try{const l=await xc(t,MA(s,a,e,t),n);Pe(l.idToken,s,"internal-error");const c=cv(l.idToken);Pe(c,s,"internal-error");const{sub:f}=c;return Pe(t.uid===f,s,"user-mismatch"),To._forOperation(t,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Qi(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PA(t,e,n=!1){if(hi(t.app))return Promise.reject(_r(t));const s="signIn",a=await MA(t,s,e),l=await To._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}async function vM(t,e){return PA(Na(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kA(t){const e=Na(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function _M(t,e,n){if(hi(t.app))return Promise.reject(_r(t));const s=Na(t),c=await sy(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",pM).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&kA(t),m}),f=await To._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(f.user),f}function TM(t,e,n){return hi(t.app)?Promise.reject(_r(t)):vM(En(t),Hl.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&kA(t),s})}function EM(t,e,n,s){return En(t).onIdTokenChanged(e,n,s)}function bM(t,e,n){return En(t).beforeAuthStateChanged(e,n)}function wM(t,e,n,s){return En(t).onAuthStateChanged(e,n,s)}function SM(t){return En(t).signOut()}const pd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(pd,"1"),this.storage.removeItem(pd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AM=1e3,xM=10;class jA extends LA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=IA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,f,m)=>{this.notifyListeners(c,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);HO()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,xM):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},AM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}jA.type="LOCAL";const CM=jA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA extends LA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}UA.type="SESSION";const BA=UA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new Gd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const f=Array.from(c).map(async p=>p(n.origin,l)),m=await RM(f);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,m)=>{const p=pv("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(v){const b=v;if(b.data.eventId===p)switch(b.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(b.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ps(){return window}function NM(t){Ps().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(){return typeof Ps().WorkerGlobalScope<"u"&&typeof Ps().importScripts=="function"}async function DM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function VM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function OM(){return zA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA="firebaseLocalStorageDb",MM=1,gd="firebaseLocalStorage",HA="fbase_key";class $c{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Kd(t,e){return t.transaction([gd],e?"readwrite":"readonly").objectStore(gd)}function PM(){const t=indexedDB.deleteDatabase(FA);return new $c(t).toPromise()}function ry(){const t=indexedDB.open(FA,MM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(gd,{keyPath:HA})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(gd)?e(s):(s.close(),await PM(),e(await ry()))})})}async function qb(t,e,n){const s=Kd(t,!0).put({[HA]:e,value:n});return new $c(s).toPromise()}async function kM(t,e){const n=Kd(t,!1).get(e),s=await new $c(n).toPromise();return s===void 0?null:s.value}function Gb(t,e){const n=Kd(t,!0).delete(e);return new $c(n).toPromise()}const LM=800,jM=3;class qA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ry(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>jM)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gd._getInstance(OM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await DM(),!this.activeServiceWorker)return;this.sender=new IM(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||VM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ry();return await qb(e,pd,"1"),await Gb(e,pd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>qb(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>kM(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Gb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Kd(a,!1).getAll();return new $c(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),LM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qA.type="LOCAL";const UM=qA;new Gc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(t,e){return e?gr(e):(Pe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv extends fv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Rl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Rl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Rl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function BM(t){return PA(t.auth,new gv(t),t.bypassAuthState)}function zM(t){const{auth:e,user:n}=t;return Pe(n,e,"internal-error"),yM(n,new gv(t),t.bypassAuthState)}async function FM(t){const{auth:e,user:n}=t;return Pe(n,e,"internal-error"),gM(n,new gv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:c,type:f}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return BM;case"linkViaPopup":case"linkViaRedirect":return FM;case"reauthViaPopup":case"reauthViaRedirect":return zM;default:Qi(this.auth,"internal-error")}}resolve(e){wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HM=new Gc(2e3,1e4);async function qM(t,e,n){if(hi(t.app))return Promise.reject(hs(t,"operation-not-supported-in-this-environment"));const s=Na(t);wO(t,e,mv);const a=GA(s,n);return new lo(s,"signInViaPopup",e,a).executeNotNull()}class lo extends KA{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,lo.currentPopupAction&&lo.currentPopupAction.cancel(),lo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pe(e,this.auth,"internal-error"),e}async onExecution(){wr(this.filter.length===1,"Popup operations only handle one event");const e=pv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(hs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(hs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,lo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,HM.get())};e()}}lo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GM="pendingRedirect",Qf=new Map;class KM extends KA{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Qf.get(this.auth._key());if(!e){try{const s=await YM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Qf.set(this.auth._key(),e)}return this.bypassAuthState||Qf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function YM(t,e){const n=XM(e),s=QM(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function $M(t,e){Qf.set(t._key(),e)}function QM(t){return gr(t._redirectPersistence)}function XM(t){return $f(GM,t.config.apiKey,t.name)}async function WM(t,e,n=!1){if(hi(t.app))return Promise.reject(_r(t));const s=Na(t),a=GA(s,e),c=await new KM(s,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZM=600*1e3;class JM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!eP(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!YA(e)){const a=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(hs(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ZM&&this.cachedEventUids.clear(),this.cachedEventUids.has(Kb(e))}saveEventToCache(e){this.cachedEventUids.add(Kb(e)),this.lastProcessedEventTime=Date.now()}}function Kb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function YA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function eP(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return YA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tP(t,e={}){return Ia(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,iP=/^https?/;async function sP(t){if(t.config.emulator)return;const{authorizedDomains:e}=await tP(t);for(const n of e)try{if(rP(n))return}catch{}Qi(t,"unauthorized-domain")}function rP(t){const e=ny(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!iP.test(n))return!1;if(nP.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP=new Gc(3e4,6e4);function Yb(){const t=Ps().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function oP(t){return new Promise((e,n)=>{var a,l,c;function s(){Yb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Yb(),n(hs(t,"network-request-failed"))},timeout:aP.get()})}if((l=(a=Ps().gapi)==null?void 0:a.iframes)!=null&&l.Iframe)e(gapi.iframes.getContext());else if((c=Ps().gapi)!=null&&c.load)s();else{const f=ZO("iframefcb");return Ps()[f]=()=>{gapi.load?s():n(hs(t,"network-request-failed"))},DA(`${WO()}?onload=${f}`).catch(m=>n(m))}}).catch(e=>{throw Xf=null,e})}let Xf=null;function lP(t){return Xf=Xf||oP(t),Xf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP=new Gc(5e3,15e3),cP="__/auth/iframe",hP="emulator/auth/iframe",fP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mP(t){const e=t.config;Pe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?uv(e,hP):`https://${t.config.authDomain}/${cP}`,s={apiKey:e.apiKey,appName:t.name,v:So},a=dP.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${qc(s).slice(1)}`}async function pP(t){const e=await lP(t),n=Ps().gapi;return Pe(n,t,"internal-error"),e.open({where:document.body,url:mP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fP,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=hs(t,"network-request-failed"),f=Ps().setTimeout(()=>{l(c)},uP.get());function m(){Ps().clearTimeout(f),a(s)}s.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yP=500,vP=600,_P="_blank",TP="http://localhost";class $b{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function EP(t,e,n,s=yP,a=vP){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const m={...gP,width:s.toString(),height:a.toString(),top:l,left:c},p=Kn().toLowerCase();n&&(f=SA(p)?_P:n),bA(p)&&(e=e||TP,m.scrollbars="yes");const y=Object.entries(m).reduce((b,[A,D])=>`${b}${A}=${D},`,"");if(FO(p)&&f!=="_self")return bP(e||"",f),new $b(null);const v=window.open(e||"",f,y);Pe(v,t,"popup-blocked");try{v.focus()}catch{}return new $b(v)}function bP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP="__/auth/handler",SP="emulator/auth/handler",AP=encodeURIComponent("fac");async function Qb(t,e,n,s,a,l){Pe(t.config.authDomain,t,"auth-domain-config-required"),Pe(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:So,eventId:a};if(e instanceof mv){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",uV(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,v]of Object.entries({}))c[y]=v}if(e instanceof Yc){const y=e.getScopes().filter(v=>v!=="");y.length>0&&(c.scopes=y.join(","))}t.tenantId&&(c.tid=t.tenantId);const f=c;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const m=await t._getAppCheckToken(),p=m?`#${AP}=${encodeURIComponent(m)}`:"";return`${xP(t)}?${qc(f).slice(1)}${p}`}function xP({config:t}){return t.emulator?uv(t,SP):`https://${t.authDomain}/${wP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag="webStorageSupport";class CP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=BA,this._completeRedirectFn=WM,this._overrideRedirectResult=$M}async _openPopup(e,n,s,a){var c;wr((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const l=await Qb(e,n,s,ny(),a);return EP(e,l,pv())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await Qb(e,n,s,ny(),a);return NM(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(wr(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await pP(e),s=new JM(e);return n.register("authEvent",a=>(Pe(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ag,{type:Ag},a=>{var c;const l=(c=a==null?void 0:a[0])==null?void 0:c[Ag];l!==void 0&&n(!!l),Qi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=sP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return IA()||wA()||hv()}}const RP=CP;var Xb="@firebase/auth",Wb="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function DP(t){vo(new _a("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=s.options;Pe(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:c,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:NA(t)},p=new $O(s,a,l,m);return sM(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),vo(new _a("auth-internal",e=>{const n=Na(e.getProvider("auth").getImmediate());return(s=>new IP(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ms(Xb,Wb,NP(t)),Ms(Xb,Wb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP=300,OP=lA("authIdTokenMaxAge")||VP;let Zb=null;const MP=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>OP)return;const a=n==null?void 0:n.token;Zb!==a&&(Zb=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function PP(t=av()){const e=Hd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=iM(t,{popupRedirectResolver:RP,persistence:[UM,CM,BA]}),s=lA("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=MP(l.toString());bM(n,c,()=>c(n.currentUser)),EM(n,f=>c(f))}}const a=rA("auth");return a&&rM(n,`http://${a}`),n}function kP(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}QO({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=hs("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",kP().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});DP("Browser");var LP="firebase",jP="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ms(LP,jP,"app");var Jb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ya,$A;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,C){function R(){}R.prototype=C.prototype,I.F=C.prototype,I.prototype=new R,I.prototype.constructor=I,I.D=function(L,k,U){for(var N=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)N[Re-2]=arguments[Re];return C.prototype[k].apply(L,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(I,C,R){R||(R=0);const L=Array(16);if(typeof C=="string")for(var k=0;k<16;++k)L[k]=C.charCodeAt(R++)|C.charCodeAt(R++)<<8|C.charCodeAt(R++)<<16|C.charCodeAt(R++)<<24;else for(k=0;k<16;++k)L[k]=C[R++]|C[R++]<<8|C[R++]<<16|C[R++]<<24;C=I.g[0],R=I.g[1],k=I.g[2];let U=I.g[3],N;N=C+(U^R&(k^U))+L[0]+3614090360&4294967295,C=R+(N<<7&4294967295|N>>>25),N=U+(k^C&(R^k))+L[1]+3905402710&4294967295,U=C+(N<<12&4294967295|N>>>20),N=k+(R^U&(C^R))+L[2]+606105819&4294967295,k=U+(N<<17&4294967295|N>>>15),N=R+(C^k&(U^C))+L[3]+3250441966&4294967295,R=k+(N<<22&4294967295|N>>>10),N=C+(U^R&(k^U))+L[4]+4118548399&4294967295,C=R+(N<<7&4294967295|N>>>25),N=U+(k^C&(R^k))+L[5]+1200080426&4294967295,U=C+(N<<12&4294967295|N>>>20),N=k+(R^U&(C^R))+L[6]+2821735955&4294967295,k=U+(N<<17&4294967295|N>>>15),N=R+(C^k&(U^C))+L[7]+4249261313&4294967295,R=k+(N<<22&4294967295|N>>>10),N=C+(U^R&(k^U))+L[8]+1770035416&4294967295,C=R+(N<<7&4294967295|N>>>25),N=U+(k^C&(R^k))+L[9]+2336552879&4294967295,U=C+(N<<12&4294967295|N>>>20),N=k+(R^U&(C^R))+L[10]+4294925233&4294967295,k=U+(N<<17&4294967295|N>>>15),N=R+(C^k&(U^C))+L[11]+2304563134&4294967295,R=k+(N<<22&4294967295|N>>>10),N=C+(U^R&(k^U))+L[12]+1804603682&4294967295,C=R+(N<<7&4294967295|N>>>25),N=U+(k^C&(R^k))+L[13]+4254626195&4294967295,U=C+(N<<12&4294967295|N>>>20),N=k+(R^U&(C^R))+L[14]+2792965006&4294967295,k=U+(N<<17&4294967295|N>>>15),N=R+(C^k&(U^C))+L[15]+1236535329&4294967295,R=k+(N<<22&4294967295|N>>>10),N=C+(k^U&(R^k))+L[1]+4129170786&4294967295,C=R+(N<<5&4294967295|N>>>27),N=U+(R^k&(C^R))+L[6]+3225465664&4294967295,U=C+(N<<9&4294967295|N>>>23),N=k+(C^R&(U^C))+L[11]+643717713&4294967295,k=U+(N<<14&4294967295|N>>>18),N=R+(U^C&(k^U))+L[0]+3921069994&4294967295,R=k+(N<<20&4294967295|N>>>12),N=C+(k^U&(R^k))+L[5]+3593408605&4294967295,C=R+(N<<5&4294967295|N>>>27),N=U+(R^k&(C^R))+L[10]+38016083&4294967295,U=C+(N<<9&4294967295|N>>>23),N=k+(C^R&(U^C))+L[15]+3634488961&4294967295,k=U+(N<<14&4294967295|N>>>18),N=R+(U^C&(k^U))+L[4]+3889429448&4294967295,R=k+(N<<20&4294967295|N>>>12),N=C+(k^U&(R^k))+L[9]+568446438&4294967295,C=R+(N<<5&4294967295|N>>>27),N=U+(R^k&(C^R))+L[14]+3275163606&4294967295,U=C+(N<<9&4294967295|N>>>23),N=k+(C^R&(U^C))+L[3]+4107603335&4294967295,k=U+(N<<14&4294967295|N>>>18),N=R+(U^C&(k^U))+L[8]+1163531501&4294967295,R=k+(N<<20&4294967295|N>>>12),N=C+(k^U&(R^k))+L[13]+2850285829&4294967295,C=R+(N<<5&4294967295|N>>>27),N=U+(R^k&(C^R))+L[2]+4243563512&4294967295,U=C+(N<<9&4294967295|N>>>23),N=k+(C^R&(U^C))+L[7]+1735328473&4294967295,k=U+(N<<14&4294967295|N>>>18),N=R+(U^C&(k^U))+L[12]+2368359562&4294967295,R=k+(N<<20&4294967295|N>>>12),N=C+(R^k^U)+L[5]+4294588738&4294967295,C=R+(N<<4&4294967295|N>>>28),N=U+(C^R^k)+L[8]+2272392833&4294967295,U=C+(N<<11&4294967295|N>>>21),N=k+(U^C^R)+L[11]+1839030562&4294967295,k=U+(N<<16&4294967295|N>>>16),N=R+(k^U^C)+L[14]+4259657740&4294967295,R=k+(N<<23&4294967295|N>>>9),N=C+(R^k^U)+L[1]+2763975236&4294967295,C=R+(N<<4&4294967295|N>>>28),N=U+(C^R^k)+L[4]+1272893353&4294967295,U=C+(N<<11&4294967295|N>>>21),N=k+(U^C^R)+L[7]+4139469664&4294967295,k=U+(N<<16&4294967295|N>>>16),N=R+(k^U^C)+L[10]+3200236656&4294967295,R=k+(N<<23&4294967295|N>>>9),N=C+(R^k^U)+L[13]+681279174&4294967295,C=R+(N<<4&4294967295|N>>>28),N=U+(C^R^k)+L[0]+3936430074&4294967295,U=C+(N<<11&4294967295|N>>>21),N=k+(U^C^R)+L[3]+3572445317&4294967295,k=U+(N<<16&4294967295|N>>>16),N=R+(k^U^C)+L[6]+76029189&4294967295,R=k+(N<<23&4294967295|N>>>9),N=C+(R^k^U)+L[9]+3654602809&4294967295,C=R+(N<<4&4294967295|N>>>28),N=U+(C^R^k)+L[12]+3873151461&4294967295,U=C+(N<<11&4294967295|N>>>21),N=k+(U^C^R)+L[15]+530742520&4294967295,k=U+(N<<16&4294967295|N>>>16),N=R+(k^U^C)+L[2]+3299628645&4294967295,R=k+(N<<23&4294967295|N>>>9),N=C+(k^(R|~U))+L[0]+4096336452&4294967295,C=R+(N<<6&4294967295|N>>>26),N=U+(R^(C|~k))+L[7]+1126891415&4294967295,U=C+(N<<10&4294967295|N>>>22),N=k+(C^(U|~R))+L[14]+2878612391&4294967295,k=U+(N<<15&4294967295|N>>>17),N=R+(U^(k|~C))+L[5]+4237533241&4294967295,R=k+(N<<21&4294967295|N>>>11),N=C+(k^(R|~U))+L[12]+1700485571&4294967295,C=R+(N<<6&4294967295|N>>>26),N=U+(R^(C|~k))+L[3]+2399980690&4294967295,U=C+(N<<10&4294967295|N>>>22),N=k+(C^(U|~R))+L[10]+4293915773&4294967295,k=U+(N<<15&4294967295|N>>>17),N=R+(U^(k|~C))+L[1]+2240044497&4294967295,R=k+(N<<21&4294967295|N>>>11),N=C+(k^(R|~U))+L[8]+1873313359&4294967295,C=R+(N<<6&4294967295|N>>>26),N=U+(R^(C|~k))+L[15]+4264355552&4294967295,U=C+(N<<10&4294967295|N>>>22),N=k+(C^(U|~R))+L[6]+2734768916&4294967295,k=U+(N<<15&4294967295|N>>>17),N=R+(U^(k|~C))+L[13]+1309151649&4294967295,R=k+(N<<21&4294967295|N>>>11),N=C+(k^(R|~U))+L[4]+4149444226&4294967295,C=R+(N<<6&4294967295|N>>>26),N=U+(R^(C|~k))+L[11]+3174756917&4294967295,U=C+(N<<10&4294967295|N>>>22),N=k+(C^(U|~R))+L[2]+718787259&4294967295,k=U+(N<<15&4294967295|N>>>17),N=R+(U^(k|~C))+L[9]+3951481745&4294967295,I.g[0]=I.g[0]+C&4294967295,I.g[1]=I.g[1]+(k+(N<<21&4294967295|N>>>11))&4294967295,I.g[2]=I.g[2]+k&4294967295,I.g[3]=I.g[3]+U&4294967295}s.prototype.v=function(I,C){C===void 0&&(C=I.length);const R=C-this.blockSize,L=this.C;let k=this.h,U=0;for(;U<C;){if(k==0)for(;U<=R;)a(this,I,U),U+=this.blockSize;if(typeof I=="string"){for(;U<C;)if(L[k++]=I.charCodeAt(U++),k==this.blockSize){a(this,L),k=0;break}}else for(;U<C;)if(L[k++]=I[U++],k==this.blockSize){a(this,L),k=0;break}}this.h=k,this.o+=C},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var C=1;C<I.length-8;++C)I[C]=0;C=this.o*8;for(var R=I.length-8;R<I.length;++R)I[R]=C&255,C/=256;for(this.v(I),I=Array(16),C=0,R=0;R<4;++R)for(let L=0;L<32;L+=8)I[C++]=this.g[R]>>>L&255;return I};function l(I,C){var R=f;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=C(I)}function c(I,C){this.h=C;const R=[];let L=!0;for(let k=I.length-1;k>=0;k--){const U=I[k]|0;L&&U==C||(R[k]=U,L=!1)}this.g=R}var f={};function m(I){return-128<=I&&I<128?l(I,function(C){return new c([C|0],C<0?-1:0)}):new c([I|0],I<0?-1:0)}function p(I){if(isNaN(I)||!isFinite(I))return v;if(I<0)return M(p(-I));const C=[];let R=1;for(let L=0;I>=R;L++)C[L]=I/R|0,R*=4294967296;return new c(C,0)}function y(I,C){if(I.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(I.charAt(0)=="-")return M(y(I.substring(1),C));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=p(Math.pow(C,8));let L=v;for(let U=0;U<I.length;U+=8){var k=Math.min(8,I.length-U);const N=parseInt(I.substring(U,U+k),C);k<8?(k=p(Math.pow(C,k)),L=L.j(k).add(p(N))):(L=L.j(R),L=L.add(p(N)))}return L}var v=m(0),b=m(1),A=m(16777216);t=c.prototype,t.m=function(){if(V(this))return-M(this).m();let I=0,C=1;for(let R=0;R<this.g.length;R++){const L=this.i(R);I+=(L>=0?L:4294967296+L)*C,C*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(D(this))return"0";if(V(this))return"-"+M(this).toString(I);const C=p(Math.pow(I,6));var R=this;let L="";for(;;){const k=ne(R,C).g;R=F(R,k.j(C));let U=((R.g.length>0?R.g[0]:R.h)>>>0).toString(I);if(R=k,D(R))return U+L;for(;U.length<6;)U="0"+U;L=U+L}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function D(I){if(I.h!=0)return!1;for(let C=0;C<I.g.length;C++)if(I.g[C]!=0)return!1;return!0}function V(I){return I.h==-1}t.l=function(I){return I=F(this,I),V(I)?-1:D(I)?0:1};function M(I){const C=I.g.length,R=[];for(let L=0;L<C;L++)R[L]=~I.g[L];return new c(R,~I.h).add(b)}t.abs=function(){return V(this)?M(this):this},t.add=function(I){const C=Math.max(this.g.length,I.g.length),R=[];let L=0;for(let k=0;k<=C;k++){let U=L+(this.i(k)&65535)+(I.i(k)&65535),N=(U>>>16)+(this.i(k)>>>16)+(I.i(k)>>>16);L=N>>>16,U&=65535,N&=65535,R[k]=N<<16|U}return new c(R,R[R.length-1]&-2147483648?-1:0)};function F(I,C){return I.add(M(C))}t.j=function(I){if(D(this)||D(I))return v;if(V(this))return V(I)?M(this).j(M(I)):M(M(this).j(I));if(V(I))return M(this.j(M(I)));if(this.l(A)<0&&I.l(A)<0)return p(this.m()*I.m());const C=this.g.length+I.g.length,R=[];for(var L=0;L<2*C;L++)R[L]=0;for(L=0;L<this.g.length;L++)for(let k=0;k<I.g.length;k++){const U=this.i(L)>>>16,N=this.i(L)&65535,Re=I.i(k)>>>16,Fe=I.i(k)&65535;R[2*L+2*k]+=N*Fe,q(R,2*L+2*k),R[2*L+2*k+1]+=U*Fe,q(R,2*L+2*k+1),R[2*L+2*k+1]+=N*Re,q(R,2*L+2*k+1),R[2*L+2*k+2]+=U*Re,q(R,2*L+2*k+2)}for(I=0;I<C;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=C;I<2*C;I++)R[I]=0;return new c(R,0)};function q(I,C){for(;(I[C]&65535)!=I[C];)I[C+1]+=I[C]>>>16,I[C]&=65535,C++}function H(I,C){this.g=I,this.h=C}function ne(I,C){if(D(C))throw Error("division by zero");if(D(I))return new H(v,v);if(V(I))return C=ne(M(I),C),new H(M(C.g),M(C.h));if(V(C))return C=ne(I,M(C)),new H(M(C.g),C.h);if(I.g.length>30){if(V(I)||V(C))throw Error("slowDivide_ only works with positive integers.");for(var R=b,L=C;L.l(I)<=0;)R=J(R),L=J(L);var k=he(R,1),U=he(L,1);for(L=he(L,2),R=he(R,2);!D(L);){var N=U.add(L);N.l(I)<=0&&(k=k.add(R),U=N),L=he(L,1),R=he(R,1)}return C=F(I,k.j(C)),new H(k,C)}for(k=v;I.l(C)>=0;){for(R=Math.max(1,Math.floor(I.m()/C.m())),L=Math.ceil(Math.log(R)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),U=p(R),N=U.j(C);V(N)||N.l(I)>0;)R-=L,U=p(R),N=U.j(C);D(U)&&(U=b),k=k.add(U),I=F(I,N)}return new H(k,I)}t.B=function(I){return ne(this,I).h},t.and=function(I){const C=Math.max(this.g.length,I.g.length),R=[];for(let L=0;L<C;L++)R[L]=this.i(L)&I.i(L);return new c(R,this.h&I.h)},t.or=function(I){const C=Math.max(this.g.length,I.g.length),R=[];for(let L=0;L<C;L++)R[L]=this.i(L)|I.i(L);return new c(R,this.h|I.h)},t.xor=function(I){const C=Math.max(this.g.length,I.g.length),R=[];for(let L=0;L<C;L++)R[L]=this.i(L)^I.i(L);return new c(R,this.h^I.h)};function J(I){const C=I.g.length+1,R=[];for(let L=0;L<C;L++)R[L]=I.i(L)<<1|I.i(L-1)>>>31;return new c(R,I.h)}function he(I,C){const R=C>>5;C%=32;const L=I.g.length-R,k=[];for(let U=0;U<L;U++)k[U]=C>0?I.i(U+R)>>>C|I.i(U+R+1)<<32-C:I.i(U+R);return new c(k,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,$A=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,ya=c}).apply(typeof Jb<"u"?Jb:typeof self<"u"?self:typeof window<"u"?window:{});var Mf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var QA,rc,XA,Wf,ay,WA,ZA,JA;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mf=="object"&&Mf];for(var _=0;_<h.length;++_){var w=h[_];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var s=n(this);function a(h,_){if(_)e:{var w=s;h=h.split(".");for(var x=0;x<h.length-1;x++){var Q=h[x];if(!(Q in w))break e;w=w[Q]}h=h[h.length-1],x=w[h],_=_(x),_!=x&&_!=null&&e(w,h,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(_){var w=[],x;for(x in _)Object.prototype.hasOwnProperty.call(_,x)&&w.push([x,_[x]]);return w}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function f(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function m(h,_,w){return h.call.apply(h.bind,arguments)}function p(h,_,w){return p=m,p.apply(null,arguments)}function y(h,_){var w=Array.prototype.slice.call(arguments,1);return function(){var x=w.slice();return x.push.apply(x,arguments),h.apply(this,x)}}function v(h,_){function w(){}w.prototype=_.prototype,h.Z=_.prototype,h.prototype=new w,h.prototype.constructor=h,h.Ob=function(x,Q,ee){for(var ge=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)ge[Ye-2]=arguments[Ye];return _.prototype[Q].apply(x,ge)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function A(h){const _=h.length;if(_>0){const w=Array(_);for(let x=0;x<_;x++)w[x]=h[x];return w}return[]}function D(h,_){for(let x=1;x<arguments.length;x++){const Q=arguments[x];var w=typeof Q;if(w=w!="object"?w:Q?Array.isArray(Q)?"array":w:"null",w=="array"||w=="object"&&typeof Q.length=="number"){w=h.length||0;const ee=Q.length||0;h.length=w+ee;for(let ge=0;ge<ee;ge++)h[w+ge]=Q[ge]}else h.push(Q)}}class V{constructor(_,w){this.i=_,this.j=w,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function M(h){c.setTimeout(()=>{throw h},0)}function F(){var h=I;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class q{constructor(){this.h=this.g=null}add(_,w){const x=H.get();x.set(_,w),this.h?this.h.next=x:this.g=x,this.h=x}}var H=new V(()=>new ne,h=>h.reset());class ne{constructor(){this.next=this.g=this.h=null}set(_,w){this.h=_,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let J,he=!1,I=new q,C=()=>{const h=Promise.resolve(void 0);J=()=>{h.then(R)}};function R(){for(var h;h=F();){try{h.h.call(h.g)}catch(w){M(w)}var _=H;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}he=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const w=()=>{};c.addEventListener("test",w,_),c.removeEventListener("test",w,_)}catch{}return h})();function N(h){return/^[\s\xa0]*$/.test(h)}function Re(h,_){k.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}v(Re,k),Re.prototype.init=function(h,_){const w=this.type=h.type,x=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(w=="mouseover"?_=h.fromElement:w=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Re.Z.h.call(this)},Re.prototype.h=function(){Re.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Fe="closure_listenable_"+(Math.random()*1e6|0),Y=0;function ie(h,_,w,x,Q){this.listener=h,this.proxy=null,this.src=_,this.type=w,this.capture=!!x,this.ha=Q,this.key=++Y,this.da=this.fa=!1}function ve(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Oe(h,_,w){for(const x in h)_.call(w,h[x],x,h)}function He(h,_){for(const w in h)_.call(void 0,h[w],w,h)}function B(h){const _={};for(const w in h)_[w]=h[w];return _}const ae="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ye(h,_){let w,x;for(let Q=1;Q<arguments.length;Q++){x=arguments[Q];for(w in x)h[w]=x[w];for(let ee=0;ee<ae.length;ee++)w=ae[ee],Object.prototype.hasOwnProperty.call(x,w)&&(h[w]=x[w])}}function Te(h){this.src=h,this.g={},this.h=0}Te.prototype.add=function(h,_,w,x,Q){const ee=h.toString();h=this.g[ee],h||(h=this.g[ee]=[],this.h++);const ge=je(h,_,x,Q);return ge>-1?(_=h[ge],w||(_.fa=!1)):(_=new ie(_,this.src,ee,!!x,Q),_.fa=w,h.push(_)),_};function Ve(h,_){const w=_.type;if(w in h.g){var x=h.g[w],Q=Array.prototype.indexOf.call(x,_,void 0),ee;(ee=Q>=0)&&Array.prototype.splice.call(x,Q,1),ee&&(ve(_),h.g[w].length==0&&(delete h.g[w],h.h--))}}function je(h,_,w,x){for(let Q=0;Q<h.length;++Q){const ee=h[Q];if(!ee.da&&ee.listener==_&&ee.capture==!!w&&ee.ha==x)return Q}return-1}var We="closure_lm_"+(Math.random()*1e6|0),yt={};function ft(h,_,w,x,Q){if(Array.isArray(_)){for(let ee=0;ee<_.length;ee++)ft(h,_[ee],w,x,Q);return null}return w=Ir(w),h&&h[Fe]?h.J(_,w,f(x)?!!x.capture:!1,Q):Yn(h,_,w,!1,x,Q)}function Yn(h,_,w,x,Q,ee){if(!_)throw Error("Invalid event type");const ge=f(Q)?!!Q.capture:!!Q;let Ye=Wi(h);if(Ye||(h[We]=Ye=new Te(h)),w=Ye.add(_,w,x,ge,ee),w.proxy)return w;if(x=Ln(),w.proxy=x,x.src=h,x.listener=w,h.addEventListener)U||(Q=ge),Q===void 0&&(Q=!1),h.addEventListener(_.toString(),x,Q);else if(h.attachEvent)h.attachEvent(jn(_.toString()),x);else if(h.addListener&&h.removeListener)h.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Ln(){function h(w){return _.call(h.src,h.listener,w)}const _=Xi;return h}function Vt(h,_,w,x,Q){if(Array.isArray(_))for(var ee=0;ee<_.length;ee++)Vt(h,_[ee],w,x,Q);else x=f(x)?!!x.capture:!!x,w=Ir(w),h&&h[Fe]?(h=h.i,ee=String(_).toString(),ee in h.g&&(_=h.g[ee],w=je(_,w,x,Q),w>-1&&(ve(_[w]),Array.prototype.splice.call(_,w,1),_.length==0&&(delete h.g[ee],h.h--)))):h&&(h=Wi(h))&&(_=h.g[_.toString()],h=-1,_&&(h=je(_,w,x,Q)),(w=h>-1?_[h]:null)&&Ci(w))}function Ci(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[Fe])Ve(_.i,h);else{var w=h.type,x=h.proxy;_.removeEventListener?_.removeEventListener(w,x,h.capture):_.detachEvent?_.detachEvent(jn(w),x):_.addListener&&_.removeListener&&_.removeListener(x),(w=Wi(_))?(Ve(w,h),w.h==0&&(w.src=null,_[We]=null)):ve(h)}}}function jn(h){return h in yt?yt[h]:yt[h]="on"+h}function Xi(h,_){if(h.da)h=!0;else{_=new Re(_,this);const w=h.listener,x=h.ha||h.src;h.fa&&Ci(h),h=w.call(x,_)}return h}function Wi(h){return h=h[We],h instanceof Te?h:null}var Zn="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ir(h){return typeof h=="function"?h:(h[Zn]||(h[Zn]=function(_){return h.handleEvent(_)}),h[Zn])}function Ct(){L.call(this),this.i=new Te(this),this.M=this,this.G=null}v(Ct,L),Ct.prototype[Fe]=!0,Ct.prototype.removeEventListener=function(h,_,w,x){Vt(this,h,_,w,x)};function P(h,_){var w,x=h.G;if(x)for(w=[];x;x=x.G)w.push(x);if(h=h.M,x=_.type||_,typeof _=="string")_=new k(_,h);else if(_ instanceof k)_.target=_.target||h;else{var Q=_;_=new k(x,h),ye(_,Q)}Q=!0;let ee,ge;if(w)for(ge=w.length-1;ge>=0;ge--)ee=_.g=w[ge],Q=$(ee,x,!0,_)&&Q;if(ee=_.g=h,Q=$(ee,x,!0,_)&&Q,Q=$(ee,x,!1,_)&&Q,w)for(ge=0;ge<w.length;ge++)ee=_.g=w[ge],Q=$(ee,x,!1,_)&&Q}Ct.prototype.N=function(){if(Ct.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const w=h.g[_];for(let x=0;x<w.length;x++)ve(w[x]);delete h.g[_],h.h--}}this.G=null},Ct.prototype.J=function(h,_,w,x){return this.i.add(String(h),_,!1,w,x)},Ct.prototype.K=function(h,_,w,x){return this.i.add(String(h),_,!0,w,x)};function $(h,_,w,x){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let Q=!0;for(let ee=0;ee<_.length;++ee){const ge=_[ee];if(ge&&!ge.da&&ge.capture==w){const Ye=ge.listener,Zt=ge.ha||ge.src;ge.fa&&Ve(h.i,ge),Q=Ye.call(Zt,x)!==!1&&Q}}return Q&&!x.defaultPrevented}function se(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:c.setTimeout(h,_||0)}function _e(h){h.g=se(()=>{h.g=null,h.i&&(h.i=!1,_e(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class de extends L{constructor(_,w){super(),this.m=_,this.l=w,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:_e(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function me(h){L.call(this),this.h=h,this.g={}}v(me,L);var Ae=[];function Je(h){Oe(h.g,function(_,w){this.g.hasOwnProperty(w)&&Ci(_)},h),h.g={}}me.prototype.N=function(){me.Z.N.call(this),Je(this)},me.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qe=c.JSON.stringify,Wt=c.JSON.parse,Ri=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Jn(){}function Nr(){}var Cn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Nt(){k.call(this,"d")}v(Nt,k);function Ot(){k.call(this,"c")}v(Ot,k);var Rt={},G=null;function fe(){return G=G||new Ct}Rt.Ia="serverreachability";function pe(h){k.call(this,Rt.Ia,h)}v(pe,k);function we(h){const _=fe();P(_,new pe(_))}Rt.STAT_EVENT="statevent";function Ze(h,_){k.call(this,Rt.STAT_EVENT,h),this.stat=_}v(Ze,k);function Ie(h){const _=fe();P(_,new Ze(_,h))}Rt.Ja="timingevent";function Ke(h,_){k.call(this,Rt.Ja,h),this.size=_}v(Ke,k);function it(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},_)}function Qe(){this.g=!0}Qe.prototype.ua=function(){this.g=!1};function et(h,_,w,x,Q,ee){h.info(function(){if(h.g)if(ee){var ge="",Ye=ee.split("&");for(let pt=0;pt<Ye.length;pt++){var Zt=Ye[pt].split("=");if(Zt.length>1){const jt=Zt[0];Zt=Zt[1];const Mi=jt.split("_");ge=Mi.length>=2&&Mi[1]=="type"?ge+(jt+"="+Zt+"&"):ge+(jt+"=redacted&")}}}else ge=null;else ge=ee;return"XMLHTTP REQ ("+x+") [attempt "+Q+"]: "+_+`
`+w+`
`+ge})}function Ge(h,_,w,x,Q,ee,ge){h.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+Q+"]: "+_+`
`+w+`
`+ee+" "+ge})}function Kt(h,_,w,x){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+Ii(h,w)+(x?" "+x:"")})}function Mt(h,_){h.info(function(){return"TIMEOUT: "+_})}Qe.prototype.info=function(){};function Ii(h,_){if(!h.g)return _;if(!_)return null;try{const ee=JSON.parse(_);if(ee){for(h=0;h<ee.length;h++)if(Array.isArray(ee[h])){var w=ee[h];if(!(w.length<2)){var x=w[1];if(Array.isArray(x)&&!(x.length<1)){var Q=x[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(let ge=1;ge<x.length;ge++)x[ge]=""}}}}return qe(ee)}catch{return _}}var ei={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},mi={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},pi;function Ni(){}v(Ni,Jn),Ni.prototype.g=function(){return new XMLHttpRequest},pi=new Ni;function ti(h){return encodeURIComponent(String(h))}function $s(h){var _=1;h=h.split(":");const w=[];for(;_>0&&h.length;)w.push(h.shift()),_--;return h.length&&w.push(h.join(":")),w}function Un(h,_,w,x){this.j=h,this.i=_,this.l=w,this.S=x||1,this.V=new me(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Bn}function Bn(){this.i=null,this.g="",this.h=!1}var Yt={},bn={};function ps(h,_,w){h.M=1,h.A=Ma(on(_)),h.u=w,h.R=!0,Ro(h,null)}function Ro(h,_){h.F=Date.now(),gs(h),h.B=on(h.A);var w=h.B,x=h.S;Array.isArray(x)||(x=[String(x)]),Vo(w.i,"t",x),h.C=0,w=h.j.L,h.h=new Bn,h.g=wh(h.j,w?_:null,!h.u),h.P>0&&(h.O=new de(p(h.Y,h,h.g),h.P)),_=h.V,w=h.g,x=h.ba;var Q="readystatechange";Array.isArray(Q)||(Q&&(Ae[0]=Q.toString()),Q=Ae);for(let ee=0;ee<Q.length;ee++){const ge=ft(w,Q[ee],x||_.handleEvent,!1,_.h||_);if(!ge)break;_.g[ge.key]=ge}_=h.J?B(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),we(),et(h.i,h.v,h.B,h.l,h.S,h.u)}Un.prototype.ba=function(h){h=h.target;const _=this.O;_&&es(h)==3?_.j():this.Y(h)},Un.prototype.Y=function(h){try{if(h==this.g)e:{const Ye=es(this.g),Zt=this.g.ya(),pt=this.g.ca();if(!(Ye<3)&&(Ye!=3||this.g&&(this.h.h||this.g.la()||Rn(this.g)))){this.K||Ye!=4||Zt==7||(Zt==8||pt<=0?we(3):we(2)),ys(this);var _=this.g.ca();this.X=_;var w=ym(this);if(this.o=_==200,Ge(this.i,this.v,this.B,this.l,this.S,Ye,_),this.o){if(this.U&&!this.L){t:{if(this.g){var x,Q=this.g;if((x=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(x)){var ee=x;break t}}ee=null}if(h=ee)Kt(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,vs(this,h);else{this.o=!1,this.m=3,Ie(12),gi(this),Di(this);break e}}if(this.R){h=!0;let jt;for(;!this.K&&this.C<w.length;)if(jt=ch(this,w),jt==bn){Ye==4&&(this.m=4,Ie(14),h=!1),Kt(this.i,this.l,null,"[Incomplete Response]");break}else if(jt==Yt){this.m=4,Ie(15),Kt(this.i,this.l,w,"[Invalid Chunk]"),h=!1;break}else Kt(this.i,this.l,jt,null),vs(this,jt);if(uh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ye!=4||w.length!=0||this.h.h||(this.m=1,Ie(16),h=!1),this.o=this.o&&h,!h)Kt(this.i,this.l,w,"[Invalid Chunked Response]"),gi(this),Di(this);else if(w.length>0&&!this.W){this.W=!0;var ge=this.j;ge.g==this&&ge.aa&&!ge.P&&(ge.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),du(ge),ge.P=!0,Ie(11))}}else Kt(this.i,this.l,w,null),vs(this,w);Ye==4&&gi(this),this.o&&!this.K&&(Ye==4?_h(this.j,this):(this.o=!1,gs(this)))}else Xs(this.g),_==400&&w.indexOf("Unknown SID")>0?(this.m=3,Ie(12)):(this.m=0,Ie(13)),gi(this),Di(this)}}}catch{}finally{}};function ym(h){if(!uh(h))return h.g.la();const _=Rn(h.g);if(_==="")return"";let w="";const x=_.length,Q=es(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return gi(h),Di(h),"";h.h.i=new c.TextDecoder}for(let ee=0;ee<x;ee++)h.h.h=!0,w+=h.h.i.decode(_[ee],{stream:!(Q&&ee==x-1)});return _.length=0,h.h.g+=w,h.C=0,h.h.g}function uh(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function ch(h,_){var w=h.C,x=_.indexOf(`
`,w);return x==-1?bn:(w=Number(_.substring(w,x)),isNaN(w)?Yt:(x+=1,x+w>_.length?bn:(_=_.slice(x,x+w),h.C=x+w,_)))}Un.prototype.cancel=function(){this.K=!0,gi(this)};function gs(h){h.T=Date.now()+h.H,Io(h,h.H)}function Io(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=it(p(h.aa,h),_)}function ys(h){h.D&&(c.clearTimeout(h.D),h.D=null)}Un.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Mt(this.i,this.B),this.M!=2&&(we(),Ie(17)),gi(this),this.m=2,Di(this)):Io(this,this.T-h)};function Di(h){h.j.I==0||h.K||_h(h.j,h)}function gi(h){ys(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,Je(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function vs(h,_){try{var w=h.j;if(w.I!=0&&(w.g==h||Ts(w.h,h))){if(!h.L&&Ts(w.h,h)&&w.I==3){try{var x=w.Ba.g.parse(_)}catch{x=null}if(Array.isArray(x)&&x.length==3){var Q=x;if(Q[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<h.F)Lo(w),jr(w);else break e;za(w),Ie(18)}}else w.xa=Q[1],0<w.xa-w.K&&Q[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=it(p(w.Va,w),6e3));_s(w.h)<=1&&w.ta&&(w.ta=void 0)}else xs(w,11)}else if((h.L||w.g==h)&&Lo(w),!N(_))for(Q=w.Ba.g.parse(_),_=0;_<Q.length;_++){let pt=Q[_];const jt=pt[0];if(!(jt<=w.K))if(w.K=jt,pt=pt[1],w.I==2)if(pt[0]=="c"){w.M=pt[1],w.ba=pt[2];const Mi=pt[3];Mi!=null&&(w.ka=Mi,w.j.info("VER="+w.ka));const Cs=pt[4];Cs!=null&&(w.za=Cs,w.j.info("SVER="+w.za));const ts=pt[5];ts!=null&&typeof ts=="number"&&ts>0&&(x=1.5*ts,w.O=x,w.j.info("backChannelRequestTimeoutMs_="+x)),x=w;const ns=h.g;if(ns){const Fa=ns.g?ns.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fa){var ee=x.h;ee.g||Fa.indexOf("spdy")==-1&&Fa.indexOf("quic")==-1&&Fa.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(tu(ee,ee.h),ee.h=null))}if(x.G){const jo=ns.g?ns.g.getResponseHeader("X-HTTP-Session-Id"):null;jo&&(x.wa=jo,Tt(x.J,x.G,jo))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-h.F,w.j.info("Handshake RTT: "+w.T+"ms")),x=w;var ge=h;if(x.na=bh(x,x.L?x.ba:null,x.W),ge.L){nu(x.h,ge);var Ye=ge,Zt=x.O;Zt&&(Ye.H=Zt),Ye.D&&(ys(Ye),gs(Ye)),x.g=ge}else yh(x);w.i.length>0&&As(w)}else pt[0]!="stop"&&pt[0]!="close"||xs(w,7);else w.I==3&&(pt[0]=="stop"||pt[0]=="close"?pt[0]=="stop"?xs(w,7):hu(w):pt[0]!="noop"&&w.l&&w.l.qa(pt),w.A=0)}}we(4)}catch{}}var an=class{constructor(h,_){this.g=h,this.map=_}};function Jl(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function eu(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function _s(h){return h.h?1:h.g?h.g.size:0}function Ts(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function tu(h,_){h.g?h.g.add(_):h.h=_}function nu(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}Jl.prototype.cancel=function(){if(this.i=iu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function iu(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const w of h.g.values())_=_.concat(w.G);return _}return A(h.i)}var hh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function No(h,_){if(h){h=h.split("&");for(let w=0;w<h.length;w++){const x=h[w].indexOf("=");let Q,ee=null;x>=0?(Q=h[w].substring(0,x),ee=h[w].substring(x+1)):Q=h[w],_(Q,ee?decodeURIComponent(ee.replace(/\+/g," ")):"")}}}function yi(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof yi?(this.l=h.l,wn(this,h.j),this.o=h.o,this.g=h.g,Dr(this,h.u),this.h=h.h,su(this,ph(h.i)),this.m=h.m):h&&(_=String(h).match(hh))?(this.l=!1,wn(this,_[1]||"",!0),this.o=Es(_[2]||""),this.g=Es(_[3]||"",!0),Dr(this,_[4]),this.h=Es(_[5]||"",!0),su(this,_[6]||"",!0),this.m=Es(_[7]||"")):(this.l=!1,this.i=new Or(null,this.l))}yi.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(Pa(_,Do,!0),":");var w=this.g;return(w||_=="file")&&(h.push("//"),(_=this.o)&&h.push(Pa(_,Do,!0),"@"),h.push(ti(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&h.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&h.push("/"),h.push(Pa(w,w.charAt(0)=="/"?ru:fh,!0))),(w=this.i.toString())&&h.push("?",w),(w=this.m)&&h.push("#",Pa(w,dh)),h.join("")},yi.prototype.resolve=function(h){const _=on(this);let w=!!h.j;w?wn(_,h.j):w=!!h.o,w?_.o=h.o:w=!!h.g,w?_.g=h.g:w=h.u!=null;var x=h.h;if(w)Dr(_,h.u);else if(w=!!h.h){if(x.charAt(0)!="/")if(this.g&&!this.h)x="/"+x;else{var Q=_.h.lastIndexOf("/");Q!=-1&&(x=_.h.slice(0,Q+1)+x)}if(Q=x,Q==".."||Q==".")x="";else if(Q.indexOf("./")!=-1||Q.indexOf("/.")!=-1){x=Q.lastIndexOf("/",0)==0,Q=Q.split("/");const ee=[];for(let ge=0;ge<Q.length;){const Ye=Q[ge++];Ye=="."?x&&ge==Q.length&&ee.push(""):Ye==".."?((ee.length>1||ee.length==1&&ee[0]!="")&&ee.pop(),x&&ge==Q.length&&ee.push("")):(ee.push(Ye),x=!0)}x=ee.join("/")}else x=Q}return w?_.h=x:w=h.i.toString()!=="",w?su(_,ph(h.i)):w=!!h.m,w&&(_.m=h.m),_};function on(h){return new yi(h)}function wn(h,_,w){h.j=w?Es(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function Dr(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function su(h,_,w){_ instanceof Or?(h.i=_,Oo(h.i,h.l)):(w||(_=Pa(_,Vr)),h.i=new Or(_,h.l))}function Tt(h,_,w){h.i.set(_,w)}function Ma(h){return Tt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Es(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Pa(h,_,w){return typeof h=="string"?(h=encodeURI(h).replace(_,ni),w&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function ni(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Do=/[#\/\?@]/g,fh=/[#\?:]/g,ru=/[#\?]/g,Vr=/[#\?@]/g,dh=/#/g;function Or(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function ii(h){h.g||(h.g=new Map,h.h=0,h.i&&No(h.i,function(_,w){h.add(decodeURIComponent(_.replace(/\+/g," ")),w)}))}t=Or.prototype,t.add=function(h,_){ii(this),this.i=null,h=Mr(this,h);let w=this.g.get(h);return w||this.g.set(h,w=[]),w.push(_),this.h+=1,this};function mh(h,_){ii(h),_=Mr(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function au(h,_){return ii(h),_=Mr(h,_),h.g.has(_)}t.forEach=function(h,_){ii(this),this.g.forEach(function(w,x){w.forEach(function(Q){h.call(_,Q,x,this)},this)},this)};function ou(h,_){ii(h);let w=[];if(typeof _=="string")au(h,_)&&(w=w.concat(h.g.get(Mr(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)w=w.concat(h[_]);return w}t.set=function(h,_){return ii(this),this.i=null,h=Mr(this,h),au(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},t.get=function(h,_){return h?(h=ou(this,h),h.length>0?String(h[0]):_):_};function Vo(h,_,w){mh(h,_),w.length>0&&(h.i=null,h.g.set(Mr(h,_),A(w)),h.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let x=0;x<_.length;x++){var w=_[x];const Q=ti(w);w=ou(this,w);for(let ee=0;ee<w.length;ee++){let ge=Q;w[ee]!==""&&(ge+="="+ti(w[ee])),h.push(ge)}}return this.i=h.join("&")};function ph(h){const _=new Or;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function Mr(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function Oo(h,_){_&&!h.j&&(ii(h),h.i=null,h.g.forEach(function(w,x){const Q=x.toLowerCase();x!=Q&&(mh(this,x),Vo(this,Q,w))},h)),h.j=_}function Zi(h,_){const w=new Qe;if(c.Image){const x=new Image;x.onload=y(Vi,w,"TestLoadImage: loaded",!0,_,x),x.onerror=y(Vi,w,"TestLoadImage: error",!1,_,x),x.onabort=y(Vi,w,"TestLoadImage: abort",!1,_,x),x.ontimeout=y(Vi,w,"TestLoadImage: timeout",!1,_,x),c.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=h}else _(!1)}function lu(h,_){const w=new Qe,x=new AbortController,Q=setTimeout(()=>{x.abort(),Vi(w,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:x.signal}).then(ee=>{clearTimeout(Q),ee.ok?Vi(w,"TestPingServer: ok",!0,_):Vi(w,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(Q),Vi(w,"TestPingServer: error",!1,_)})}function Vi(h,_,w,x,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),x(w)}catch{}}function Pr(){this.g=new Ri}function bs(h){this.i=h.Sb||null,this.h=h.ab||!1}v(bs,Jn),bs.prototype.g=function(){return new ka(this.i,this.h)};function ka(h,_){Ct.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(ka,Ct),t=ka.prototype,t.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,Ji(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||c).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,kr(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Ji(this)),this.g&&(this.readyState=3,Ji(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Mo(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Mo(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?kr(this):Ji(this),this.readyState==3&&Mo(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,kr(this))},t.Na=function(h){this.g&&(this.response=h,kr(this))},t.ga=function(){this.g&&kr(this)};function kr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Ji(h)}t.setRequestHeader=function(h,_){this.A.append(h,_)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var w=_.next();!w.done;)w=w.value,h.push(w[0]+": "+w[1]),w=_.next();return h.join(`\r
`)};function Ji(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ka.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Oi(h){let _="";return Oe(h,function(w,x){_+=x,_+=":",_+=w,_+=`\r
`}),_}function La(h,_,w){e:{for(x in w){var x=!1;break e}x=!0}x||(w=Oi(w),typeof h=="string"?w!=null&&ti(w):Tt(h,_,w))}function wt(h){Ct.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(wt,Ct);var ws=/^https?$/i,uu=["POST","PUT"];t=wt.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,_,w,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():pi.g(),this.g.onreadystatechange=b(p(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(ee){ja(this,ee);return}if(h=w||"",w=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var Q in x)w.set(Q,x[Q]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const ee of x.keys())w.set(ee,x.get(ee));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(w.keys()).find(ee=>ee.toLowerCase()=="content-type"),Q=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(uu,_,void 0)>=0)||x||Q||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,ge]of w)this.g.setRequestHeader(ee,ge);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(ee){ja(this,ee)}};function ja(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,cu(h),Qs(h)}function cu(h){h.A||(h.A=!0,P(h,"complete"),P(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,P(this,"complete"),P(this,"abort"),Qs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qs(this,!0)),wt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Ua(this):this.Xa())},t.Xa=function(){Ua(this)};function Ua(h){if(h.h&&typeof l<"u"){if(h.v&&es(h)==4)setTimeout(h.Ca.bind(h),0);else if(P(h,"readystatechange"),es(h)==4){h.h=!1;try{const ee=h.ca();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var w;if(!(w=_)){var x;if(x=ee===0){let ge=String(h.D).match(hh)[1]||null;!ge&&c.self&&c.self.location&&(ge=c.self.location.protocol.slice(0,-1)),x=!ws.test(ge?ge.toLowerCase():"")}w=x}if(w)P(h,"complete"),P(h,"success");else{h.o=6;try{var Q=es(h)>2?h.g.statusText:""}catch{Q=""}h.l=Q+" ["+h.ca()+"]",cu(h)}}finally{Qs(h)}}}}function Qs(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const w=h.g;h.g=null,_||P(h,"ready");try{w.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function es(h){return h.g?h.g.readyState:0}t.ca=function(){try{return es(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),Wt(_)}};function Rn(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Xs(h){const _={};h=(h.g&&es(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<h.length;x++){if(N(h[x]))continue;var w=$s(h[x]);const Q=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const ee=_[Q]||[];_[Q]=ee,ee.push(w)}He(_,function(x){return x.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ss(h,_,w){return w&&w.internalChannelParams&&w.internalChannelParams[h]||_}function Lr(h){this.za=0,this.i=[],this.j=new Qe,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ss("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ss("baseRetryDelayMs",5e3,h),this.Za=Ss("retryDelaySeedMs",1e4,h),this.Ta=Ss("forwardChannelMaxRetries",2,h),this.va=Ss("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Jl(h&&h.concurrentRequestLimit),this.Ba=new Pr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Lr.prototype,t.ka=8,t.I=1,t.connect=function(h,_,w,x){Ie(0),this.W=h,this.H=_||{},w&&x!==void 0&&(this.H.OSID=w,this.H.OAID=x),this.F=this.X,this.J=bh(this,null,this.W),As(this)};function hu(h){if(Po(h),h.I==3){var _=h.V++,w=on(h.J);if(Tt(w,"SID",h.M),Tt(w,"RID",_),Tt(w,"TYPE","terminate"),Ba(h,w),_=new Un(h,h.j,_),_.M=2,_.A=Ma(on(w)),w=!1,c.navigator&&c.navigator.sendBeacon)try{w=c.navigator.sendBeacon(_.A.toString(),"")}catch{}!w&&c.Image&&(new Image().src=_.A,w=!0),w||(_.g=wh(_.j,null),_.g.ea(_.A)),_.F=Date.now(),gs(_)}Eh(h)}function jr(h){h.g&&(du(h),h.g.cancel(),h.g=null)}function Po(h){jr(h),h.v&&(c.clearTimeout(h.v),h.v=null),Lo(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function As(h){if(!eu(h.h)&&!h.m){h.m=!0;var _=h.Ea;J||C(),he||(J(),he=!0),I.add(_,h),h.D=0}}function ko(h,_){return _s(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=it(p(h.Ea,h,_),Th(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const Q=new Un(this,this.j,h);let ee=this.o;if(this.U&&(ee?(ee=B(ee),ye(ee,this.U)):ee=this.U),this.u!==null||this.R||(Q.J=ee,ee=null),this.S)e:{for(var _=0,w=0;w<this.i.length;w++){t:{var x=this.i[w];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(_+=x,_>4096){_=w;break e}if(_===4096||w===this.i.length-1){_=w+1;break e}}_=1e3}else _=1e3;_=gh(this,Q,_),w=on(this.J),Tt(w,"RID",h),Tt(w,"CVER",22),this.G&&Tt(w,"X-HTTP-Session-Id",this.G),Ba(this,w),ee&&(this.R?_="headers="+ti(Oi(ee))+"&"+_:this.u&&La(w,this.u,ee)),tu(this.h,Q),this.Ra&&Tt(w,"TYPE","init"),this.S?(Tt(w,"$req",_),Tt(w,"SID","null"),Q.U=!0,ps(Q,w,null)):ps(Q,w,_),this.I=2}}else this.I==3&&(h?fu(this,h):this.i.length==0||eu(this.h)||fu(this))};function fu(h,_){var w;_?w=_.l:w=h.V++;const x=on(h.J);Tt(x,"SID",h.M),Tt(x,"RID",w),Tt(x,"AID",h.K),Ba(h,x),h.u&&h.o&&La(x,h.u,h.o),w=new Un(h,h.j,w,h.D+1),h.u===null&&(w.J=h.o),_&&(h.i=_.G.concat(h.i)),_=gh(h,w,1e3),w.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),tu(h.h,w),ps(w,x,_)}function Ba(h,_){h.H&&Oe(h.H,function(w,x){Tt(_,x,w)}),h.l&&Oe({},function(w,x){Tt(_,x,w)})}function gh(h,_,w){w=Math.min(h.i.length,w);const x=h.l?p(h.l.Ka,h.l,h):null;e:{var Q=h.i;let Ye=-1;for(;;){const Zt=["count="+w];Ye==-1?w>0?(Ye=Q[0].g,Zt.push("ofs="+Ye)):Ye=0:Zt.push("ofs="+Ye);let pt=!0;for(let jt=0;jt<w;jt++){var ee=Q[jt].g;const Mi=Q[jt].map;if(ee-=Ye,ee<0)Ye=Math.max(0,Q[jt].g-100),pt=!1;else try{ee="req"+ee+"_"||"";try{var ge=Mi instanceof Map?Mi:Object.entries(Mi);for(const[Cs,ts]of ge){let ns=ts;f(ts)&&(ns=qe(ts)),Zt.push(ee+Cs+"="+encodeURIComponent(ns))}}catch(Cs){throw Zt.push(ee+"type="+encodeURIComponent("_badmap")),Cs}}catch{x&&x(Mi)}}if(pt){ge=Zt.join("&");break e}}ge=void 0}return h=h.i.splice(0,w),_.G=h,ge}function yh(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;J||C(),he||(J(),he=!0),I.add(_,h),h.A=0}}function za(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=it(p(h.Da,h),Th(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,vh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=it(p(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ie(10),jr(this),vh(this))};function du(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function vh(h){h.g=new Un(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=on(h.na);Tt(_,"RID","rpc"),Tt(_,"SID",h.M),Tt(_,"AID",h.K),Tt(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&Tt(_,"TO",h.ia),Tt(_,"TYPE","xmlhttp"),Ba(h,_),h.u&&h.o&&La(_,h.u,h.o),h.O&&(h.g.H=h.O);var w=h.g;h=h.ba,w.M=1,w.A=Ma(on(_)),w.u=null,w.R=!0,Ro(w,h)}t.Va=function(){this.C!=null&&(this.C=null,jr(this),za(this),Ie(19))};function Lo(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function _h(h,_){var w=null;if(h.g==_){Lo(h),du(h),h.g=null;var x=2}else if(Ts(h.h,_))w=_.G,nu(h.h,_),x=1;else return;if(h.I!=0){if(_.o)if(x==1){w=_.u?_.u.length:0,_=Date.now()-_.F;var Q=h.D;x=fe(),P(x,new Ke(x,w)),As(h)}else yh(h);else if(Q=_.m,Q==3||Q==0&&_.X>0||!(x==1&&ko(h,_)||x==2&&za(h)))switch(w&&w.length>0&&(_=h.h,_.i=_.i.concat(w)),Q){case 1:xs(h,5);break;case 4:xs(h,10);break;case 3:xs(h,6);break;default:xs(h,2)}}}function Th(h,_){let w=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(w*=2),w*_}function xs(h,_){if(h.j.info("Error code "+_),_==2){var w=p(h.bb,h),x=h.Ua;const Q=!x;x=new yi(x||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||wn(x,"https"),Ma(x),Q?Zi(x.toString(),w):lu(x.toString(),w)}else Ie(2);h.I=0,h.l&&h.l.pa(_),Eh(h),Po(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ie(2)):(this.j.info("Failed to ping google.com"),Ie(1))};function Eh(h){if(h.I=0,h.ja=[],h.l){const _=iu(h.h);(_.length!=0||h.i.length!=0)&&(D(h.ja,_),D(h.ja,h.i),h.h.i.length=0,A(h.i),h.i.length=0),h.l.oa()}}function bh(h,_,w){var x=w instanceof yi?on(w):new yi(w);if(x.g!="")_&&(x.g=_+"."+x.g),Dr(x,x.u);else{var Q=c.location;x=Q.protocol,_=_?_+"."+Q.hostname:Q.hostname,Q=+Q.port;const ee=new yi(null);x&&wn(ee,x),_&&(ee.g=_),Q&&Dr(ee,Q),w&&(ee.h=w),x=ee}return w=h.G,_=h.wa,w&&_&&Tt(x,w,_),Tt(x,"VER",h.ka),Ba(h,x),x}function wh(h,_,w){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new wt(new bs({ab:w})):new wt(h.ma),_.Fa(h.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Sh(){}t=Sh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Ur(){}Ur.prototype.g=function(h,_){return new $n(h,_)};function $n(h,_){Ct.call(this),this.g=new Lr(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!N(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!N(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new Ws(this)}v($n,Ct),$n.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},$n.prototype.close=function(){hu(this.g)},$n.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var w={};w.__data__=h,h=w}else this.v&&(w={},w.__data__=qe(h),h=w);_.i.push(new an(_.Ya++,h)),_.I==3&&As(_)},$n.prototype.N=function(){this.g.l=null,delete this.j,hu(this.g),delete this.g,$n.Z.N.call(this)};function Ah(h){Nt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const w in _){h=w;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}v(Ah,Nt);function xh(){Ot.call(this),this.status=1}v(xh,Ot);function Ws(h){this.g=h}v(Ws,Sh),Ws.prototype.ra=function(){P(this.g,"a")},Ws.prototype.qa=function(h){P(this.g,new Ah(h))},Ws.prototype.pa=function(h){P(this.g,new xh)},Ws.prototype.oa=function(){P(this.g,"b")},Ur.prototype.createWebChannel=Ur.prototype.g,$n.prototype.send=$n.prototype.o,$n.prototype.open=$n.prototype.m,$n.prototype.close=$n.prototype.close,JA=function(){return new Ur},ZA=function(){return fe()},WA=Rt,ay={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ei.NO_ERROR=0,ei.TIMEOUT=8,ei.HTTP_ERROR=6,Wf=ei,mi.COMPLETE="complete",XA=mi,Nr.EventType=Cn,Cn.OPEN="a",Cn.CLOSE="b",Cn.ERROR="c",Cn.MESSAGE="d",Ct.prototype.listen=Ct.prototype.J,rc=Nr,wt.prototype.listenOnce=wt.prototype.K,wt.prototype.getLastError=wt.prototype.Ha,wt.prototype.getLastErrorCode=wt.prototype.ya,wt.prototype.getStatus=wt.prototype.ca,wt.prototype.getResponseJson=wt.prototype.La,wt.prototype.getResponseText=wt.prototype.la,wt.prototype.send=wt.prototype.ea,wt.prototype.setWithCredentials=wt.prototype.Fa,QA=wt}).apply(typeof Mf<"u"?Mf:typeof self<"u"?self:typeof window<"u"?window:{});const ew="@firebase/firestore",tw="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Hn.UNAUTHENTICATED=new Hn(null),Hn.GOOGLE_CREDENTIALS=new Hn("google-credentials-uid"),Hn.FIRST_PARTY=new Hn("first-party-uid"),Hn.MOCK_USER=new Hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ql="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo=new sv("@firebase/firestore");function pl(){return Eo.logLevel}function be(t,...e){if(Eo.logLevel<=at.DEBUG){const n=e.map(yv);Eo.debug(`Firestore (${ql}): ${t}`,...n)}}function Sr(t,...e){if(Eo.logLevel<=at.ERROR){const n=e.map(yv);Eo.error(`Firestore (${ql}): ${t}`,...n)}}function Vl(t,...e){if(Eo.logLevel<=at.WARN){const n=e.map(yv);Eo.warn(`Firestore (${ql}): ${t}`,...n)}}function yv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,ex(t,s,n)}function ex(t,e,n){let s=`FIRESTORE (${ql}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Sr(s),new Error(s)}function vt(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||ex(e,a,s)}function ze(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ee extends Ks{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class UP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Hn.UNAUTHENTICATED)))}shutdown(){}}class BP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class zP{constructor(e){this.t=e,this.currentUser=Hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){vt(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let l=new Tr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Tr,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},f=m=>{be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>f(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(be("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Tr)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(vt(typeof s.accessToken=="string",31837,{l:s}),new tx(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return vt(e===null||typeof e=="string",2055,{h:e}),new Hn(e)}}class FP{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Hn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class HP{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new FP(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Hn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class nw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qP{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){vt(this.o===void 0,3512);const s=l=>{l.error!=null&&be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,be("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new nw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(vt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new nw(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=GP(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function ot(t,e){return t<e?-1:t>e?1:0}function oy(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),l=e.charAt(s);if(a!==l)return xg(a)===xg(l)?ot(a,l):xg(a)?1:-1}return ot(t.length,e.length)}const KP=55296,YP=57343;function xg(t){const e=t.charCodeAt(0);return e>=KP&&e<=YP}function Ol(t,e,n){return t.length===e.length&&t.every(((s,a)=>n(s,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw="__name__";class Vs{constructor(e,n,s){n===void 0?n=0:n>e.length&&ke(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&ke(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Vs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Vs?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=Vs.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return ot(e.length,n.length)}static compareSegments(e,n){const s=Vs.isNumericId(e),a=Vs.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?Vs.extractNumericId(e).compare(Vs.extractNumericId(n)):oy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ya.fromString(e.substring(4,e.length-2))}}class Dt extends Vs{construct(e,n,s){return new Dt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new Ee(ue.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new Dt(n)}static emptyPath(){return new Dt([])}}const $P=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pn extends Vs{construct(e,n,s){return new Pn(e,n,s)}static isValidIdentifier(e){return $P.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===iw}static keyField(){return new Pn([iw])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new Ee(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new Ee(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new Ee(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(s+=f,a++):(l(),a++)}if(l(),c)throw new Ee(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pn(n)}static emptyPath(){return new Pn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.path=e}static fromPath(e){return new De(Dt.fromString(e))}static fromName(e){return new De(Dt.fromString(e).popFirst(5))}static empty(){return new De(Dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Dt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new De(new Dt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nx(t,e,n){if(!n)throw new Ee(ue.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function QP(t,e,n,s){if(e===!0&&s===!0)throw new Ee(ue.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function sw(t){if(!De.isDocumentKey(t))throw new Ee(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function rw(t){if(De.isDocumentKey(t))throw new Ee(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ix(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Yd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ke(12329,{type:typeof t})}function Fs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ee(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Yd(t);throw new Ee(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Qc(t,e){if(!ix(t))throw new Ee(ue.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const c=t[s];if(a&&typeof c!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new Ee(ue.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw=-62135596800,ow=1e6;class Lt{static now(){return Lt.fromMillis(Date.now())}static fromDate(e){return Lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*ow);return new Lt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ee(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ee(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<aw)throw new Ee(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ee(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ow}_compareTo(e){return this.seconds===e.seconds?ot(this.nanoseconds,e.nanoseconds):ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Lt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Qc(e,Lt._jsonSchema))return new Lt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-aw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Lt._jsonSchemaVersion="firestore/timestamp/1.0",Lt._jsonSchema={type:yn("string",Lt._jsonSchemaVersion),seconds:yn("number"),nanoseconds:yn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{static fromTimestamp(e){return new Ue(e)}static min(){return new Ue(new Lt(0,0))}static max(){return new Ue(new Lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rc=-1;function XP(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=Ue.fromTimestamp(s===1e9?new Lt(n+1,0):new Lt(n,s));return new Ta(a,De.empty(),e)}function WP(t){return new Ta(t.readTime,t.key,Rc)}class Ta{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Ta(Ue.min(),De.empty(),Rc)}static max(){return new Ta(Ue.max(),De.empty(),Rc)}}function ZP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=De.comparator(t.documentKey,e.documentKey),n!==0?n:ot(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class e4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gl(t){if(t.code!==ue.FAILED_PRECONDITION||t.message!==JP)throw t;be("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ke(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ce(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ce?n:ce.resolve(n)}catch(n){return ce.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ce.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ce.reject(n)}static resolve(e){return new ce(((n,s)=>{n(e)}))}static reject(e){return new ce(((n,s)=>{s(e)}))}static waitFor(e){return new ce(((n,s)=>{let a=0,l=0,c=!1;e.forEach((f=>{++a,f.next((()=>{++l,c&&l===a&&n()}),(m=>s(m)))})),c=!0,l===a&&n()}))}static or(e){let n=ce.resolve(!1);for(const s of e)n=n.next((a=>a?ce.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(e,n){return new ce(((s,a)=>{const l=e.length,c=new Array(l);let f=0;for(let m=0;m<l;m++){const p=m;n(e[p]).next((y=>{c[p]=y,++f,f===l&&s(c)}),(y=>a(y)))}}))}static doWhile(e,n){return new ce(((s,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):s()};l()}))}}function t4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Kl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}$d.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v=-1;function Qd(t){return t==null}function yd(t){return t===0&&1/t==-1/0}function n4(t){return typeof t=="number"&&Number.isInteger(t)&&!yd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx="";function i4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=lw(e)),e=s4(t.get(n),e);return lw(e)}function s4(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case sx:n+="";break;default:n+=l}}return n}function lw(t){return t+sx+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Da(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function rx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e,n){this.comparator=e,this.root=n||Mn.EMPTY}insert(e,n){return new Gt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Mn.BLACK,null,null))}remove(e){return new Gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pf(this.root,e,this.comparator,!0)}}class Pf{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Mn{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??Mn.RED,this.left=a??Mn.EMPTY,this.right=l??Mn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new Mn(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Mn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Mn.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Mn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Mn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ke(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ke(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ke(27949);return e+(this.isRed()?0:1)}}Mn.EMPTY=null,Mn.RED=!0,Mn.BLACK=!1;Mn.EMPTY=new class{constructor(){this.size=0}get key(){throw ke(57766)}get value(){throw ke(16141)}get color(){throw ke(16727)}get left(){throw ke(29726)}get right(){throw ke(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new Mn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.comparator=e,this.data=new Gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new cw(this.data.getIterator())}getIteratorFrom(e){return new cw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Tn)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Tn(this.comparator);return n.data=e,n}}class cw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e){this.fields=e,e.sort(Pn.comparator)}static empty(){return new xi([])}unionWith(e){let n=new Tn(Pn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new xi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ol(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new ax("Invalid base64 string: "+l):l}})(e);return new kn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new kn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kn.EMPTY_BYTE_STRING=new kn("");const r4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ea(t){if(vt(!!t,39018),typeof t=="string"){let e=0;const n=r4.exec(t);if(vt(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:nn(t.seconds),nanos:nn(t.nanos)}}function nn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ba(t){return typeof t=="string"?kn.fromBase64String(t):kn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox="server_timestamp",lx="__type__",ux="__previous_value__",cx="__local_write_time__";function Tv(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[lx])==null?void 0:s.stringValue)===ox}function Xd(t){const e=t.mapValue.fields[ux];return Tv(e)?Xd(e):e}function Ic(t){const e=Ea(t.mapValue.fields[cx].timestampValue);return new Lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(e,n,s,a,l,c,f,m,p,y){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=y}}const vd="(default)";class Nc{constructor(e,n){this.projectId=e,this.database=n||vd}static empty(){return new Nc("","")}get isDefaultDatabase(){return this.database===vd}isEqual(e){return e instanceof Nc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx="__type__",o4="__max__",kf={mapValue:{}},fx="__vector__",_d="value";function wa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Tv(t)?4:u4(t)?9007199254740991:l4(t)?10:11:ke(28295,{value:t})}function Hs(t,e){if(t===e)return!0;const n=wa(t);if(n!==wa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ic(t).isEqual(Ic(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Ea(a.timestampValue),f=Ea(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return ba(a.bytesValue).isEqual(ba(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return nn(a.geoPointValue.latitude)===nn(l.geoPointValue.latitude)&&nn(a.geoPointValue.longitude)===nn(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return nn(a.integerValue)===nn(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=nn(a.doubleValue),f=nn(l.doubleValue);return c===f?yd(c)===yd(f):isNaN(c)&&isNaN(f)}return!1})(t,e);case 9:return Ol(t.arrayValue.values||[],e.arrayValue.values||[],Hs);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if(uw(c)!==uw(f))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(f[m]===void 0||!Hs(c[m],f[m])))return!1;return!0})(t,e);default:return ke(52216,{left:t})}}function Dc(t,e){return(t.values||[]).find((n=>Hs(n,e)))!==void 0}function Ml(t,e){if(t===e)return 0;const n=wa(t),s=wa(e);if(n!==s)return ot(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ot(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const f=nn(l.integerValue||l.doubleValue),m=nn(c.integerValue||c.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1})(t,e);case 3:return hw(t.timestampValue,e.timestampValue);case 4:return hw(Ic(t),Ic(e));case 5:return oy(t.stringValue,e.stringValue);case 6:return(function(l,c){const f=ba(l),m=ba(c);return f.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const f=l.split("/"),m=c.split("/");for(let p=0;p<f.length&&p<m.length;p++){const y=ot(f[p],m[p]);if(y!==0)return y}return ot(f.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const f=ot(nn(l.latitude),nn(c.latitude));return f!==0?f:ot(nn(l.longitude),nn(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return fw(t.arrayValue,e.arrayValue);case 10:return(function(l,c){var b,A,D,V;const f=l.fields||{},m=c.fields||{},p=(b=f[_d])==null?void 0:b.arrayValue,y=(A=m[_d])==null?void 0:A.arrayValue,v=ot(((D=p==null?void 0:p.values)==null?void 0:D.length)||0,((V=y==null?void 0:y.values)==null?void 0:V.length)||0);return v!==0?v:fw(p,y)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===kf.mapValue&&c===kf.mapValue)return 0;if(l===kf.mapValue)return 1;if(c===kf.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),p=c.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let v=0;v<m.length&&v<y.length;++v){const b=oy(m[v],y[v]);if(b!==0)return b;const A=Ml(f[m[v]],p[y[v]]);if(A!==0)return A}return ot(m.length,y.length)})(t.mapValue,e.mapValue);default:throw ke(23264,{he:n})}}function hw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ot(t,e);const n=Ea(t),s=Ea(e),a=ot(n.seconds,s.seconds);return a!==0?a:ot(n.nanos,s.nanos)}function fw(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=Ml(n[a],s[a]);if(l)return l}return ot(n.length,s.length)}function Pl(t){return ly(t)}function ly(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=Ea(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ba(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return De.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=ly(l);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${ly(n.fields[c])}`;return a+"}"})(t.mapValue):ke(61005,{value:t})}function Zf(t){switch(wa(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Xd(t);return e?16+Zf(e):16;case 5:return 2*t.stringValue.length;case 6:return ba(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+Zf(l)),0)})(t.arrayValue);case 10:case 11:return(function(s){let a=0;return Da(s.fields,((l,c)=>{a+=l.length+Zf(c)})),a})(t.mapValue);default:throw ke(13486,{value:t})}}function dw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function uy(t){return!!t&&"integerValue"in t}function Ev(t){return!!t&&"arrayValue"in t}function mw(t){return!!t&&"nullValue"in t}function pw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Jf(t){return!!t&&"mapValue"in t}function l4(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[hx])==null?void 0:s.stringValue)===fx}function dc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Da(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=dc(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=dc(t.arrayValue.values[n]);return e}return{...t}}function u4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===o4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e){this.value=e}static empty(){return new fi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Jf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=dc(n)}setAll(e){let n=Pn.emptyPath(),s={},a=[];e.forEach(((c,f)=>{if(!n.isImmediateParentOf(f)){const m=this.getFieldsMap(n);this.applyChanges(m,s,a),s={},a=[],n=f.popLast()}c?s[f.lastSegment()]=dc(c):a.push(f.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());Jf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Hs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Jf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){Da(n,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new fi(dc(this.value))}}function dx(t){const e=[];return Da(t.fields,((n,s)=>{const a=new Pn([n]);if(Jf(s)){const l=dx(s.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new xi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e,n,s,a,l,c,f){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new qn(e,0,Ue.min(),Ue.min(),Ue.min(),fi.empty(),0)}static newFoundDocument(e,n,s,a){return new qn(e,1,n,Ue.min(),s,a,0)}static newNoDocument(e,n){return new qn(e,2,n,Ue.min(),Ue.min(),fi.empty(),0)}static newUnknownDocument(e,n){return new qn(e,3,n,Ue.min(),Ue.min(),fi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof qn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,n){this.position=e,this.inclusive=n}}function gw(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?s=De.comparator(De.fromName(c.referenceValue),n.key):s=Ml(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function yw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Hs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,n="asc"){this.field=e,this.dir=n}}function c4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{}class gn extends mx{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new f4(e,n,s):n==="array-contains"?new p4(e,s):n==="in"?new g4(e,s):n==="not-in"?new y4(e,s):n==="array-contains-any"?new v4(e,s):new gn(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new d4(e,s):new m4(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ml(n,this.value)):n!==null&&wa(this.value)===wa(n)&&this.matchesComparison(Ml(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ke(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ds extends mx{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ds(e,n)}matches(e){return px(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function px(t){return t.op==="and"}function gx(t){return h4(t)&&px(t)}function h4(t){for(const e of t.filters)if(e instanceof ds)return!1;return!0}function cy(t){if(t instanceof gn)return t.field.canonicalString()+t.op.toString()+Pl(t.value);if(gx(t))return t.filters.map((e=>cy(e))).join(",");{const e=t.filters.map((n=>cy(n))).join(",");return`${t.op}(${e})`}}function yx(t,e){return t instanceof gn?(function(s,a){return a instanceof gn&&s.op===a.op&&s.field.isEqual(a.field)&&Hs(s.value,a.value)})(t,e):t instanceof ds?(function(s,a){return a instanceof ds&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,c,f)=>l&&yx(c,a.filters[f])),!0):!1})(t,e):void ke(19439)}function vx(t){return t instanceof gn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Pl(n.value)}`})(t):t instanceof ds?(function(n){return n.op.toString()+" {"+n.getFilters().map(vx).join(" ,")+"}"})(t):"Filter"}class f4 extends gn{constructor(e,n,s){super(e,n,s),this.key=De.fromName(s.referenceValue)}matches(e){const n=De.comparator(e.key,this.key);return this.matchesComparison(n)}}class d4 extends gn{constructor(e,n){super(e,"in",n),this.keys=_x("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class m4 extends gn{constructor(e,n){super(e,"not-in",n),this.keys=_x("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function _x(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((s=>De.fromName(s.referenceValue)))}class p4 extends gn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ev(n)&&Dc(n.arrayValue,this.value)}}class g4 extends gn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Dc(this.value.arrayValue,n)}}class y4 extends gn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Dc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Dc(this.value.arrayValue,n)}}class v4 extends gn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ev(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Dc(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(e,n=null,s=[],a=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.Te=null}}function vw(t,e=null,n=[],s=[],a=null,l=null,c=null){return new _4(t,e,n,s,a,l,c)}function bv(t){const e=ze(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>cy(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Qd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Pl(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Pl(s))).join(",")),e.Te=n}return e.Te}function wv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!c4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!yx(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!yw(t.startAt,e.startAt)&&yw(t.endAt,e.endAt)}function hy(t){return De.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,n=null,s=[],a=[],l=null,c="F",f=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function T4(t,e,n,s,a,l,c,f){return new Xc(t,e,n,s,a,l,c,f)}function Sv(t){return new Xc(t)}function _w(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Tx(t){return t.collectionGroup!==null}function mc(t){const e=ze(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new Tn(Pn.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(f=f.add(p.field))}))})),f})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Ed(l,s))})),n.has(Pn.keyField().canonicalString())||e.Ie.push(new Ed(Pn.keyField(),s))}return e.Ie}function ks(t){const e=ze(t);return e.Ee||(e.Ee=E4(e,mc(t))),e.Ee}function E4(t,e){if(t.limitType==="F")return vw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Ed(a.field,l)}));const n=t.endAt?new Td(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Td(t.startAt.position,t.startAt.inclusive):null;return vw(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function fy(t,e){const n=t.filters.concat([e]);return new Xc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function dy(t,e,n){return new Xc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Wd(t,e){return wv(ks(t),ks(e))&&t.limitType===e.limitType}function Ex(t){return`${bv(ks(t))}|lt:${t.limitType}`}function gl(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>vx(a))).join(", ")}]`),Qd(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>Pl(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>Pl(a))).join(",")),`Target(${s})`})(ks(t))}; limitType=${t.limitType})`}function Zd(t,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):De.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(t,e)&&(function(s,a){for(const l of mc(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(s,a){return!(s.startAt&&!(function(c,f,m){const p=gw(c,f,m);return c.inclusive?p<=0:p<0})(s.startAt,mc(s),a)||s.endAt&&!(function(c,f,m){const p=gw(c,f,m);return c.inclusive?p>=0:p>0})(s.endAt,mc(s),a))})(t,e)}function b4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function bx(t){return(e,n)=>{let s=!1;for(const a of mc(t)){const l=w4(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function w4(t,e,n){const s=t.field.isKeyField()?De.comparator(e.key,n.key):(function(l,c,f){const m=c.data.field(l),p=f.data.field(l);return m!==null&&p!==null?Ml(m,p):ke(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return ke(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Da(this.inner,((n,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return rx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4=new Gt(De.comparator);function Ar(){return S4}const wx=new Gt(De.comparator);function ac(...t){let e=wx;for(const n of t)e=e.insert(n.key,n);return e}function Sx(t){let e=wx;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function uo(){return pc()}function Ax(){return pc()}function pc(){return new Ao((t=>t.toString()),((t,e)=>t.isEqual(e)))}const A4=new Gt(De.comparator),x4=new Tn(De.comparator);function lt(...t){let e=x4;for(const n of t)e=e.add(n);return e}const C4=new Tn(ot);function R4(){return C4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Av(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yd(e)?"-0":e}}function xx(t){return{integerValue:""+t}}function I4(t,e){return n4(e)?xx(e):Av(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(){this._=void 0}}function N4(t,e,n){return t instanceof Vc?(function(a,l){const c={fields:{[lx]:{stringValue:ox},[cx]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Tv(l)&&(l=Xd(l)),l&&(c.fields[ux]=l),{mapValue:c}})(n,e):t instanceof Oc?Rx(t,e):t instanceof Mc?Ix(t,e):(function(a,l){const c=Cx(a,l),f=Tw(c)+Tw(a.Ae);return uy(c)&&uy(a.Ae)?xx(f):Av(a.serializer,f)})(t,e)}function D4(t,e,n){return t instanceof Oc?Rx(t,e):t instanceof Mc?Ix(t,e):n}function Cx(t,e){return t instanceof bd?(function(s){return uy(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class Vc extends Jd{}class Oc extends Jd{constructor(e){super(),this.elements=e}}function Rx(t,e){const n=Nx(e);for(const s of t.elements)n.some((a=>Hs(a,s)))||n.push(s);return{arrayValue:{values:n}}}class Mc extends Jd{constructor(e){super(),this.elements=e}}function Ix(t,e){let n=Nx(e);for(const s of t.elements)n=n.filter((a=>!Hs(a,s)));return{arrayValue:{values:n}}}class bd extends Jd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Tw(t){return nn(t.integerValue||t.doubleValue)}function Nx(t){return Ev(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e,n){this.field=e,this.transform=n}}function O4(t,e){return t.field.isEqual(e.field)&&(function(s,a){return s instanceof Oc&&a instanceof Oc||s instanceof Mc&&a instanceof Mc?Ol(s.elements,a.elements,Hs):s instanceof bd&&a instanceof bd?Hs(s.Ae,a.Ae):s instanceof Vc&&a instanceof Vc})(t.transform,e.transform)}class M4{constructor(e,n){this.version=e,this.transformResults=n}}class fs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new fs}static exists(e){return new fs(void 0,e)}static updateTime(e){return new fs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ed(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class em{}function Dx(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new xv(t.key,fs.none()):new Wc(t.key,t.data,fs.none());{const n=t.data,s=fi.empty();let a=new Tn(Pn.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new Va(t.key,s,new xi(a.toArray()),fs.none())}}function P4(t,e,n){t instanceof Wc?(function(a,l,c){const f=a.value.clone(),m=bw(a.fieldTransforms,l,c.transformResults);f.setAll(m),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(t,e,n):t instanceof Va?(function(a,l,c){if(!ed(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=bw(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(Vx(a)),m.setAll(f),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(t,e,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function gc(t,e,n,s){return t instanceof Wc?(function(l,c,f,m){if(!ed(l.precondition,c))return f;const p=l.value.clone(),y=ww(l.fieldTransforms,m,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(t,e,n,s):t instanceof Va?(function(l,c,f,m){if(!ed(l.precondition,c))return f;const p=ww(l.fieldTransforms,m,c),y=c.data;return y.setAll(Vx(l)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(t,e,n,s):(function(l,c,f){return ed(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f})(t,e,n)}function k4(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=Cx(s.transform,a||null);l!=null&&(n===null&&(n=fi.empty()),n.set(s.field,l))}return n||null}function Ew(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Ol(s,a,((l,c)=>O4(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Wc extends em{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Va extends em{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Vx(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function bw(t,e,n){const s=new Map;vt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,f=e.data.field(l.field);s.set(l.field,D4(c,f,n[a]))}return s}function ww(t,e,n){const s=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);s.set(a.field,N4(l,c,e))}return s}class xv extends em{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class L4 extends em{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&P4(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=gc(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=gc(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Ax();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=n.has(a.key)?null:f;const m=Dx(c,f);m!==null&&s.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Ue.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),lt())}isEqual(e){return this.batchId===e.batchId&&Ol(this.mutations,e.mutations,((n,s)=>Ew(n,s)))&&Ol(this.baseMutations,e.baseMutations,((n,s)=>Ew(n,s)))}}class Cv{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){vt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return A4})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new Cv(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dn,ct;function z4(t){switch(t){case ue.OK:return ke(64938);case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return ke(15467,{code:t})}}function Ox(t){if(t===void 0)return Sr("GRPC error has no .code"),ue.UNKNOWN;switch(t){case dn.OK:return ue.OK;case dn.CANCELLED:return ue.CANCELLED;case dn.UNKNOWN:return ue.UNKNOWN;case dn.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case dn.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case dn.INTERNAL:return ue.INTERNAL;case dn.UNAVAILABLE:return ue.UNAVAILABLE;case dn.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case dn.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case dn.NOT_FOUND:return ue.NOT_FOUND;case dn.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case dn.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case dn.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case dn.ABORTED:return ue.ABORTED;case dn.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case dn.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case dn.DATA_LOSS:return ue.DATA_LOSS;default:return ke(39323,{code:t})}}(ct=dn||(dn={}))[ct.OK=0]="OK",ct[ct.CANCELLED=1]="CANCELLED",ct[ct.UNKNOWN=2]="UNKNOWN",ct[ct.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ct[ct.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ct[ct.NOT_FOUND=5]="NOT_FOUND",ct[ct.ALREADY_EXISTS=6]="ALREADY_EXISTS",ct[ct.PERMISSION_DENIED=7]="PERMISSION_DENIED",ct[ct.UNAUTHENTICATED=16]="UNAUTHENTICATED",ct[ct.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ct[ct.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ct[ct.ABORTED=10]="ABORTED",ct[ct.OUT_OF_RANGE=11]="OUT_OF_RANGE",ct[ct.UNIMPLEMENTED=12]="UNIMPLEMENTED",ct[ct.INTERNAL=13]="INTERNAL",ct[ct.UNAVAILABLE=14]="UNAVAILABLE",ct[ct.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4=new ya([4294967295,4294967295],0);function Sw(t){const e=F4().encode(t),n=new $A;return n.update(e),new Uint8Array(n.digest())}function Aw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ya([n,s],0),new ya([a,l],0)]}class Rv{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new oc(`Invalid padding: ${n}`);if(s<0)throw new oc(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new oc(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new oc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ya.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(ya.fromNumber(s)));return a.compare(H4)===1&&(a=new ya([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Sw(e),[s,a]=Aw(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);if(!this.we(c))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Rv(l,a,n);return s.forEach((f=>c.insert(f))),c}insert(e){if(this.ge===0)return;const n=Sw(e),[s,a]=Aw(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);this.Se(c)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class oc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,Zc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new tm(Ue.min(),a,new Gt(ot),Ar(),lt())}}class Zc{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Zc(s,n,lt(),lt(),lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e,n,s,a){this.be=e,this.removedTargetIds=n,this.key=s,this.De=a}}class Mx{constructor(e,n){this.targetId=e,this.Ce=n}}class Px{constructor(e,n,s=kn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class xw{constructor(){this.ve=0,this.Fe=Cw(),this.Me=kn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=lt(),n=lt(),s=lt();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:ke(38017,{changeType:l})}})),new Zc(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=Cw()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,vt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class q4{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ar(),this.Je=Lf(),this.He=Lf(),this.Ye=new Gt(ot)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:ke(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(hy(l))if(s===0){const c=new De(l.path);this.et(n,c,qn.newNoDocument(c,Ue.min()))}else vt(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const f=this.ut(e),m=f?this.ct(f,e,c):1;if(m!==0){this.it(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let c,f;try{c=ba(s).toUint8Array()}catch(m){if(m instanceof ax)return Vl("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new Rv(c,a,l)}catch(m){return Vl(m instanceof oc?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.ge===0?null:f}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const c=this.Ge.ht(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,c)=>{const f=this.ot(c);if(f){if(l.current&&hy(f.target)){const m=new De(f.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,qn.newNoDocument(m,e))}l.Be&&(n.set(c,l.ke()),l.qe())}}));let s=lt();this.He.forEach(((l,c)=>{let f=!0;c.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new tm(e,n,this.Ye,this.je,s);return this.je=Ar(),this.Je=Lf(),this.He=Lf(),this.Ye=new Gt(ot),a}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new xw,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Tn(ot),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Tn(ot),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||be("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new xw),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Lf(){return new Gt(De.comparator)}function Cw(){return new Gt(De.comparator)}const G4={asc:"ASCENDING",desc:"DESCENDING"},K4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Y4={and:"AND",or:"OR"};class $4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function my(t,e){return t.useProto3Json||Qd(e)?e:{value:e}}function wd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kx(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Q4(t,e){return wd(t,e.toTimestamp())}function Ls(t){return vt(!!t,49232),Ue.fromTimestamp((function(n){const s=Ea(n);return new Lt(s.seconds,s.nanos)})(t))}function Iv(t,e){return py(t,e).canonicalString()}function py(t,e){const n=(function(a){return new Dt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function Lx(t){const e=Dt.fromString(t);return vt(Fx(e),10190,{key:e.toString()}),e}function gy(t,e){return Iv(t.databaseId,e.path)}function Cg(t,e){const n=Lx(e);if(n.get(1)!==t.databaseId.projectId)throw new Ee(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ee(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new De(Ux(n))}function jx(t,e){return Iv(t.databaseId,e)}function X4(t){const e=Lx(t);return e.length===4?Dt.emptyPath():Ux(e)}function yy(t){return new Dt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Ux(t){return vt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Rw(t,e,n){return{name:gy(t,e),fields:n.value.mapValue.fields}}function W4(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:ke(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,y){return p.useProto3Json?(vt(y===void 0||typeof y=="string",58123),kn.fromBase64String(y||"")):(vt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),kn.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&(function(p){const y=p.code===void 0?ue.UNKNOWN:Ox(p.code);return new Ee(y,p.message||"")})(c);n=new Px(s,a,l,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Cg(t,s.document.name),l=Ls(s.document.updateTime),c=s.document.createTime?Ls(s.document.createTime):Ue.min(),f=new fi({mapValue:{fields:s.document.fields}}),m=qn.newFoundDocument(a,l,c,f),p=s.targetIds||[],y=s.removedTargetIds||[];n=new td(p,y,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Cg(t,s.document),l=s.readTime?Ls(s.readTime):Ue.min(),c=qn.newNoDocument(a,l),f=s.removedTargetIds||[];n=new td([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Cg(t,s.document),l=s.removedTargetIds||[];n=new td([],l,a,null)}else{if(!("filter"in e))return ke(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new B4(a,l),f=s.targetId;n=new Mx(f,c)}}return n}function Z4(t,e){let n;if(e instanceof Wc)n={update:Rw(t,e.key,e.value)};else if(e instanceof xv)n={delete:gy(t,e.key)};else if(e instanceof Va)n={update:Rw(t,e.key,e.data),updateMask:ok(e.fieldMask)};else{if(!(e instanceof L4))return ke(16599,{Vt:e.type});n={verify:gy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,c){const f=c.transform;if(f instanceof Vc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Oc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Mc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof bd)return{fieldPath:c.field.canonicalString(),increment:f.Ae};throw ke(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:Q4(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:ke(27497)})(t,e.precondition)),n}function J4(t,e){return t&&t.length>0?(vt(e!==void 0,14353),t.map((n=>(function(a,l){let c=a.updateTime?Ls(a.updateTime):Ls(l);return c.isEqual(Ue.min())&&(c=Ls(l)),new M4(c,a.transformResults||[])})(n,e)))):[]}function ek(t,e){return{documents:[jx(t,e.path)]}}function tk(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=jx(t,a);const l=(function(p){if(p.length!==0)return zx(ds.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((y=>(function(b){return{field:yl(b.field),direction:sk(b.dir)}})(y)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const f=my(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function nk(t){let e=X4(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){vt(s===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=(function(v){const b=Bx(v);return b instanceof ds&&gx(b)?b.getFilters():[b]})(n.where));let c=[];n.orderBy&&(c=(function(v){return v.map((b=>(function(D){return new Ed(vl(D.field),(function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(b)))})(n.orderBy));let f=null;n.limit&&(f=(function(v){let b;return b=typeof v=="object"?v.value:v,Qd(b)?null:b})(n.limit));let m=null;n.startAt&&(m=(function(v){const b=!!v.before,A=v.values||[];return new Td(A,b)})(n.startAt));let p=null;return n.endAt&&(p=(function(v){const b=!v.before,A=v.values||[];return new Td(A,b)})(n.endAt)),T4(e,a,c,l,f,"F",m,p)}function ik(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ke(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Bx(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=vl(n.unaryFilter.field);return gn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=vl(n.unaryFilter.field);return gn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=vl(n.unaryFilter.field);return gn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=vl(n.unaryFilter.field);return gn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ke(61313);default:return ke(60726)}})(t):t.fieldFilter!==void 0?(function(n){return gn.create(vl(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ke(58110);default:return ke(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ds.create(n.compositeFilter.filters.map((s=>Bx(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return ke(1026)}})(n.compositeFilter.op))})(t):ke(30097,{filter:t})}function sk(t){return G4[t]}function rk(t){return K4[t]}function ak(t){return Y4[t]}function yl(t){return{fieldPath:t.canonicalString()}}function vl(t){return Pn.fromServerFormat(t.fieldPath)}function zx(t){return t instanceof gn?(function(n){if(n.op==="=="){if(pw(n.value))return{unaryFilter:{field:yl(n.field),op:"IS_NAN"}};if(mw(n.value))return{unaryFilter:{field:yl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(pw(n.value))return{unaryFilter:{field:yl(n.field),op:"IS_NOT_NAN"}};if(mw(n.value))return{unaryFilter:{field:yl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yl(n.field),op:rk(n.op),value:n.value}}})(t):t instanceof ds?(function(n){const s=n.getFilters().map((a=>zx(a)));return s.length===1?s[0]:{compositeFilter:{op:ak(n.op),filters:s}}})(t):ke(54877,{filter:t})}function ok(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Fx(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,n,s,a,l=Ue.min(),c=Ue.min(),f=kn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new ma(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ma(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ma(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ma(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e){this.yt=e}}function uk(t){const e=nk({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?dy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(){this.Cn=new hk}addToCollectionParentIndex(e,n){return this.Cn.add(n),ce.resolve()}getCollectionParents(e,n){return ce.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ce.resolve()}deleteFieldIndex(e,n){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,n){return ce.resolve()}getDocumentsMatchingTarget(e,n){return ce.resolve(null)}getIndexType(e,n){return ce.resolve(0)}getFieldIndexes(e,n){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,n){return ce.resolve(Ta.min())}getMinOffsetFromCollectionGroup(e,n){return ce.resolve(Ta.min())}updateCollectionGroup(e,n,s){return ce.resolve()}updateIndexEntries(e,n){return ce.resolve()}}class hk{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new Tn(Dt.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Tn(Dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Hx=41943040;class ui{static withCacheSize(e){return new ui(e,ui.DEFAULT_COLLECTION_PERCENTILE,ui.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ui.DEFAULT_COLLECTION_PERCENTILE=10,ui.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ui.DEFAULT=new ui(Hx,ui.DEFAULT_COLLECTION_PERCENTILE,ui.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ui.DISABLED=new ui(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new kl(0)}static cr(){return new kl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw="LruGarbageCollector",fk=1048576;function Dw([t,e],[n,s]){const a=ot(t,n);return a===0?ot(e,s):a}class dk{constructor(e){this.Ir=e,this.buffer=new Tn(Dw),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Dw(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class mk{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){be(Nw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Kl(n)?be(Nw,"Ignoring IndexedDB error during garbage collection: ",n):await Gl(n)}await this.Vr(3e5)}))}}class pk{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ce.resolve($d.ce);const s=new dk(n);return this.mr.forEachTarget(e,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(be("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(Iw)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(be("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Iw):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,a,l,c,f,m,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,c=Date.now(),this.nthSequenceNumber(e,a)))).next((v=>(s=v,f=Date.now(),this.removeTargets(e,s,n)))).next((v=>(l=v,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((v=>(p=Date.now(),pl()<=at.DEBUG&&be("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${v} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:v}))))}}function gk(t,e){return new pk(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(){this.changes=new Ao((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,qn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ce.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&gc(s.mutation,a,xi.empty(),Lt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,lt()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=lt()){const a=uo();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((l=>{let c=ac();return l.forEach(((f,m)=>{c=c.insert(f,m.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const s=uo();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,lt())))}populateOverlays(e,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,f)=>{n.set(c,f)}))}))}computeViews(e,n,s,a){let l=Ar();const c=pc(),f=(function(){return pc()})();return n.forEach(((m,p)=>{const y=s.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof Va)?l=l.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),gc(y.mutation,p,y.mutation.getFieldMask(),Lt.now())):c.set(p.key,xi.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((p,y)=>c.set(p,y))),n.forEach(((p,y)=>f.set(p,new vk(y,c.get(p)??null)))),f)))}recalculateAndSaveOverlays(e,n){const s=pc();let a=new Gt(((c,f)=>c-f)),l=lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const f of c)f.keys().forEach((m=>{const p=n.get(m);if(p===null)return;let y=s.get(m)||xi.empty();y=f.applyToLocalView(p,y),s.set(m,y);const v=(a.get(f.batchId)||lt()).add(m);a=a.insert(f.batchId,v)}))})).next((()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),p=m.key,y=m.value,v=Ax();y.forEach((b=>{if(!l.has(b)){const A=Dx(n.get(b),s.get(b));A!==null&&v.set(b,A),l=l.add(b)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,v))}return ce.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return(function(c){return De.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Tx(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):ce.resolve(uo());let f=Rc,m=l;return c.next((p=>ce.forEach(p,((y,v)=>(f<v.largestBatchId&&(f=v.largestBatchId),l.get(y)?ce.resolve():this.remoteDocumentCache.getEntry(e,y).next((b=>{m=m.insert(y,b)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,m,p,lt()))).next((y=>({batchId:f,changes:Sx(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new De(n)).next((s=>{let a=ac();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let c=ac();return this.indexManager.getCollectionParents(e,l).next((f=>ce.forEach(f,(m=>{const p=(function(v,b){return new Xc(b,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,s,a).next((y=>{y.forEach(((v,b)=>{c=c.insert(v,b)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a)))).next((c=>{l.forEach(((m,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,qn.newInvalidDocument(y)))}));let f=ac();return c.forEach(((m,p)=>{const y=l.get(m);y!==void 0&&gc(y.mutation,p,xi.empty(),Lt.now()),Zd(n,p)&&(f=f.insert(m,p))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ce.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Ls(a.createTime)}})(n)),ce.resolve()}getNamedQuery(e,n){return ce.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:uk(a.bundledQuery),readTime:Ls(a.readTime)}})(n)),ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(){this.overlays=new Gt(De.comparator),this.qr=new Map}getOverlay(e,n){return ce.resolve(this.overlays.get(n))}getOverlays(e,n){const s=uo();return ce.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,l)=>{this.St(e,n,l)})),ce.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),ce.resolve()}getOverlaysForCollection(e,n,s){const a=uo(),l=n.length+1,c=new De(n.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const m=f.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return ce.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new Gt(((p,y)=>p-y));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let y=l.get(p.largestBatchId);y===null&&(y=uo(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const f=uo(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,y)=>f.set(p,y))),!(f.size()>=a)););return ce.resolve(f)}St(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new U4(n,s));let l=this.qr.get(n);l===void 0&&(l=lt(),this.qr.set(n,l)),this.qr.set(n,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(){this.sessionToken=kn.EMPTY_BYTE_STRING}getSessionToken(e){return ce.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ce.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(){this.Qr=new Tn(xn.$r),this.Ur=new Tn(xn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new xn(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new xn(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new De(new Dt([])),s=new xn(n,e),a=new xn(n,e+1),l=[];return this.Ur.forEachInRange([s,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new De(new Dt([])),s=new xn(n,e),a=new xn(n,e+1);let l=lt();return this.Ur.forEachInRange([s,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new xn(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class xn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return De.comparator(e.key,n.key)||ot(e.Yr,n.Yr)}static Kr(e,n){return ot(e.Yr,n.Yr)||De.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Tn(xn.$r)}checkEmpty(e){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new j4(l,n,s,a);this.mutationQueue.push(c);for(const f of a)this.Zr=this.Zr.add(new xn(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ce.resolve(c)}lookupMutationBatch(e,n){return ce.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.ei(s),l=a<0?0:a;return ce.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?_v:this.tr-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new xn(n,0),a=new xn(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,a],(c=>{const f=this.Xr(c.Yr);l.push(f)})),ce.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Tn(ot);return n.forEach((a=>{const l=new xn(a,0),c=new xn(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(f=>{s=s.add(f.Yr)}))})),ce.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;De.isDocumentKey(l)||(l=l.child(""));const c=new xn(new De(l),0);let f=new Tn(ot);return this.Zr.forEachWhile((m=>{const p=m.key.path;return!!s.isPrefixOf(p)&&(p.length===a&&(f=f.add(m.Yr)),!0)}),c),ce.resolve(this.ti(f))}ti(e){const n=[];return e.forEach((s=>{const a=this.Xr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){vt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ce.forEach(n.mutations,(a=>{const l=new xn(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new xn(n,0),a=this.Zr.firstAfterOrEqual(s);return ce.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ce.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e){this.ri=e,this.docs=(function(){return new Gt(De.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ce.resolve(s?s.document.mutableCopy():qn.newInvalidDocument(n))}getEntries(e,n){let s=Ar();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():qn.newInvalidDocument(a))})),ce.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=Ar();const c=n.path,f=new De(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||ZP(WP(y),s)<=0||(a.has(y.key)||Zd(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return ce.resolve(l)}getAllFromCollectionGroup(e,n,s,a){ke(9500)}ii(e,n){return ce.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new Ak(this)}getSize(e){return ce.resolve(this.size)}}class Ak extends yk{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)})),ce.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e){this.persistence=e,this.si=new Ao((n=>bv(n)),wv),this.lastRemoteSnapshotVersion=Ue.min(),this.highestTargetId=0,this.oi=0,this._i=new Nv,this.targetCount=0,this.ai=kl.ur()}forEachTarget(e,n){return this.si.forEach(((s,a)=>n(a))),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ce.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new kl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ce.resolve()}updateTargetData(e,n){return this.Pr(n),ce.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.si.forEach(((c,f)=>{f.sequenceNumber<=n&&s.get(f.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)})),ce.waitFor(l).next((()=>a))}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ce.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ce.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),ce.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ce.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ce.resolve(s)}containsKey(e,n){return ce.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e,n){this.ui={},this.overlays={},this.ci=new $d(0),this.li=!1,this.li=!0,this.hi=new bk,this.referenceDelegate=e(this),this.Pi=new xk(this),this.indexManager=new ck,this.remoteDocumentCache=(function(a){return new Sk(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new lk(n),this.Ii=new Tk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Ek,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new wk(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){be("MemoryPersistence","Starting transaction:",e);const a=new Ck(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,n){return ce.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class Ck extends e4{constructor(e){super(),this.currentSequenceNumber=e}}class Dv{constructor(e){this.persistence=e,this.Ri=new Nv,this.Vi=null}static mi(e){return new Dv(e)}get fi(){if(this.Vi)return this.Vi;throw ke(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ce.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ce.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ce.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.fi,(s=>{const a=De.fromPath(s);return this.gi(e,a).next((l=>{l||n.removeEntry(a,Ue.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ce.or([()=>ce.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Sd{constructor(e,n){this.persistence=e,this.pi=new Ao((s=>i4(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=gk(this,n)}static mi(e,n){return new Sd(e,n)}Ei(){}di(e){return ce.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ce.forEach(this.pi,((s,a)=>this.br(e,s,a).next((l=>l?ce.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,n).next((f=>{f||(s++,l.removeEntry(c,Ue.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ce.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ce.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ce.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ce.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Zf(e.data.value)),n}br(e,n,s){return ce.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return ce.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=a}static As(e,n){let s=lt(),a=lt();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Vv(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return iV()?8:t4(Kn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.ys(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,n,a,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new Rk;return this.Ss(e,n,c).next((f=>{if(l.result=f,this.Vs)return this.bs(e,n,c,f.size)}))})).next((()=>l.result))}bs(e,n,s,a){return s.documentReadCount<this.fs?(pl()<=at.DEBUG&&be("QueryEngine","SDK will not create cache indexes for query:",gl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ce.resolve()):(pl()<=at.DEBUG&&be("QueryEngine","Query:",gl(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(pl()<=at.DEBUG&&be("QueryEngine","The SDK decides to create cache indexes for query:",gl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ks(n))):ce.resolve())}ys(e,n){if(_w(n))return ce.resolve(null);let s=ks(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=dy(n,null,"F"),s=ks(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const c=lt(...l);return this.ps.getDocuments(e,c).next((f=>this.indexManager.getMinOffset(e,s).next((m=>{const p=this.Ds(n,f);return this.Cs(n,p,c,m.readTime)?this.ys(e,dy(n,null,"F")):this.vs(e,p,n,m)}))))})))))}ws(e,n,s,a){return _w(n)||a.isEqual(Ue.min())?ce.resolve(null):this.ps.getDocuments(e,s).next((l=>{const c=this.Ds(n,l);return this.Cs(n,c,s,a)?ce.resolve(null):(pl()<=at.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),gl(n)),this.vs(e,c,n,XP(a,Rc)).next((f=>f)))}))}Ds(e,n){let s=new Tn(bx(e));return n.forEach(((a,l)=>{Zd(e,l)&&(s=s.add(l))})),s}Cs(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,s){return pl()<=at.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",gl(n)),this.ps.getDocumentsMatchingQuery(e,n,Ta.min(),s)}vs(e,n,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov="LocalStore",Nk=3e8;class Dk{constructor(e,n,s,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new Gt(ot),this.xs=new Ao((l=>bv(l)),wv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _k(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function Vk(t,e,n,s){return new Dk(t,e,n,s)}async function Gx(t,e){const n=ze(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],f=[];let m=lt();for(const p of a){c.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of l){f.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(s,m).next((p=>({Ls:p,removedBatchIds:c,addedBatchIds:f})))}))}))}function Ok(t,e){const n=ze(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,m,p,y){const v=p.batch,b=v.keys();let A=ce.resolve();return b.forEach((D=>{A=A.next((()=>y.getEntry(m,D))).next((V=>{const M=p.docVersions.get(D);vt(M!==null,48541),V.version.compareTo(M)<0&&(v.applyToRemoteDocument(V,p),V.isValidDocument()&&(V.setReadTime(p.commitVersion),y.addEntry(V)))}))})),A.next((()=>f.mutationQueue.removeMutationBatch(m,v)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(f){let m=lt();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(m=m.add(f.batch.mutations[p].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function Kx(t){const e=ze(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function Mk(t,e){const n=ze(t),s=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const f=[];e.targetChanges.forEach(((y,v)=>{const b=a.get(v);if(!b)return;f.push(n.Pi.removeMatchingKeys(l,y.removedDocuments,v).next((()=>n.Pi.addMatchingKeys(l,y.addedDocuments,v))));let A=b.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(v)!==null?A=A.withResumeToken(kn.EMPTY_BYTE_STRING,Ue.min()).withLastLimboFreeSnapshotVersion(Ue.min()):y.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(y.resumeToken,s)),a=a.insert(v,A),(function(V,M,F){return V.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=Nk?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(b,A,y)&&f.push(n.Pi.updateTargetData(l,A))}));let m=Ar(),p=lt();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),f.push(Pk(l,c,e.documentUpdates).next((y=>{m=y.ks,p=y.qs}))),!s.isEqual(Ue.min())){const y=n.Pi.getLastRemoteSnapshotVersion(l).next((v=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));f.push(y)}return ce.waitFor(f).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,p))).next((()=>m))})).then((l=>(n.Ms=a,l)))}function Pk(t,e,n){let s=lt(),a=lt();return n.forEach((l=>s=s.add(l))),e.getEntries(t,s).next((l=>{let c=Ar();return n.forEach(((f,m)=>{const p=l.get(f);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(Ue.min())?(e.removeEntry(f,m.readTime),c=c.insert(f,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),c=c.insert(f,m)):be(Ov,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",m.version)})),{ks:c,qs:a}}))}function kk(t,e){const n=ze(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=_v),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function Lk(t,e){const n=ze(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.Pi.getTargetData(s,e).next((l=>l?(a=l,ce.resolve(a)):n.Pi.allocateTargetId(s).next((c=>(a=new ma(e,c,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function vy(t,e,n){const s=ze(t),a=s.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!Kl(c))throw c;be(Ov,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function Vw(t,e,n){const s=ze(t);let a=Ue.min(),l=lt();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,p,y){const v=ze(m),b=v.xs.get(y);return b!==void 0?ce.resolve(v.Ms.get(b)):v.Pi.getTargetData(p,y)})(s,c,ks(e)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,f.targetId).next((m=>{l=m}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,e,n?a:Ue.min(),n?l:lt()))).next((f=>(jk(s,b4(e),f),{documents:f,Qs:l})))))}function jk(t,e,n){let s=t.Os.get(e)||Ue.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),t.Os.set(e,s)}class Ow{constructor(){this.activeTargetIds=R4()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Uk{constructor(){this.Mo=new Ow,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Ow,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw="ConnectivityMonitor";class Pw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){be(Mw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){be(Mw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jf=null;function _y(){return jf===null?jf=(function(){return 268435456+Math.round(2147483648*Math.random())})():jf++,"0x"+jf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rg="RestConnection",zk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Fk{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===vd?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,n,s,a,l){const c=_y(),f=this.zo(e,n.toUriEncodedString());be(Rg,`Sending RPC '${e}' ${c}:`,f,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:p}=new URL(f),y=wo(p);return this.Jo(e,f,m,s,y).then((v=>(be(Rg,`Received RPC '${e}' ${c}: `,v),v)),(v=>{throw Vl(Rg,`RPC '${e}' ${c} failed with error: `,v,"url: ",f,"request:",s),v}))}Ho(e,n,s,a,l,c){return this.Go(e,n,s,a,l)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ql})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}zo(e,n){const s=zk[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fn="WebChannelConnection";class qk extends Fk{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,a,l){const c=_y();return new Promise(((f,m)=>{const p=new QA;p.setWithCredentials(!0),p.listenOnce(XA.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Wf.NO_ERROR:const v=p.getResponseJson();be(Fn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(v)),f(v);break;case Wf.TIMEOUT:be(Fn,`RPC '${e}' ${c} timed out`),m(new Ee(ue.DEADLINE_EXCEEDED,"Request time out"));break;case Wf.HTTP_ERROR:const b=p.getStatus();if(be(Fn,`RPC '${e}' ${c} failed with status:`,b,"response text:",p.getResponseText()),b>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const D=A==null?void 0:A.error;if(D&&D.status&&D.message){const V=(function(F){const q=F.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(q)>=0?q:ue.UNKNOWN})(D.status);m(new Ee(V,D.message))}else m(new Ee(ue.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new Ee(ue.UNAVAILABLE,"Connection failed."));break;default:ke(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{be(Fn,`RPC '${e}' ${c} completed.`)}}));const y=JSON.stringify(a);be(Fn,`RPC '${e}' ${c} sending request:`,a),p.send(n,"POST",y,s,15)}))}T_(e,n,s){const a=_y(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=JA(),f=ZA(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const y=l.join("");be(Fn,`Creating RPC '${e}' stream ${a}: ${y}`,m);const v=c.createWebChannel(y,m);this.I_(v);let b=!1,A=!1;const D=new Hk({Yo:M=>{A?be(Fn,`Not sending because RPC '${e}' stream ${a} is closed:`,M):(b||(be(Fn,`Opening RPC '${e}' stream ${a} transport.`),v.open(),b=!0),be(Fn,`RPC '${e}' stream ${a} sending:`,M),v.send(M))},Zo:()=>v.close()}),V=(M,F,q)=>{M.listen(F,(H=>{try{q(H)}catch(ne){setTimeout((()=>{throw ne}),0)}}))};return V(v,rc.EventType.OPEN,(()=>{A||(be(Fn,`RPC '${e}' stream ${a} transport opened.`),D.o_())})),V(v,rc.EventType.CLOSE,(()=>{A||(A=!0,be(Fn,`RPC '${e}' stream ${a} transport closed`),D.a_(),this.E_(v))})),V(v,rc.EventType.ERROR,(M=>{A||(A=!0,Vl(Fn,`RPC '${e}' stream ${a} transport errored. Name:`,M.name,"Message:",M.message),D.a_(new Ee(ue.UNAVAILABLE,"The operation could not be completed")))})),V(v,rc.EventType.MESSAGE,(M=>{var F;if(!A){const q=M.data[0];vt(!!q,16349);const H=q,ne=(H==null?void 0:H.error)||((F=H[0])==null?void 0:F.error);if(ne){be(Fn,`RPC '${e}' stream ${a} received error:`,ne);const J=ne.status;let he=(function(R){const L=dn[R];if(L!==void 0)return Ox(L)})(J),I=ne.message;he===void 0&&(he=ue.INTERNAL,I="Unknown error status: "+J+" with message "+ne.message),A=!0,D.a_(new Ee(he,I)),v.close()}else be(Fn,`RPC '${e}' stream ${a} received:`,q),D.u_(q)}})),V(f,WA.STAT_EVENT,(M=>{M.stat===ay.PROXY?be(Fn,`RPC '${e}' stream ${a} detected buffering proxy`):M.stat===ay.NOPROXY&&be(Fn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{D.__()}),0),D}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Ig(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm(t){return new $4(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&be("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw="PersistentStream";class $x{constructor(e,n,s,a,l,c,f,m){this.Mi=e,this.S_=s,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Yx(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ue.RESOURCE_EXHAUSTED?(Sr(n.toString()),Sr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new Ee(ue.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return be(kw,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(be(kw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Gk extends $x{constructor(e,n,s,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=W4(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Ue.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ue.min():c.readTime?Ls(c.readTime):Ue.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=yy(this.serializer),n.addTarget=(function(l,c){let f;const m=c.target;if(f=hy(m)?{documents:ek(l,m)}:{query:tk(l,m).ft},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=kx(l,c.resumeToken);const p=my(l,c.expectedCount);p!==null&&(f.expectedCount=p)}else if(c.snapshotVersion.compareTo(Ue.min())>0){f.readTime=wd(l,c.snapshotVersion.toTimestamp());const p=my(l,c.expectedCount);p!==null&&(f.expectedCount=p)}return f})(this.serializer,e);const s=ik(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=yy(this.serializer),n.removeTarget=e,this.q_(n)}}class Kk extends $x{constructor(e,n,s,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return vt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,vt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){vt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=J4(e.writeResults,e.commitTime),s=Ls(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=yy(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>Z4(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{}class $k extends Yk{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new Ee(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,py(n,s),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ee(ue.UNKNOWN,l.toString())}))}Ho(e,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Ho(e,py(n,s),a,c,f,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ee(ue.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Qk{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Sr(n),this.aa=!1):be("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo="RemoteStore";class Xk{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{xo(this)&&(be(bo,"Restarting streams for network reachability change."),await(async function(m){const p=ze(m);p.Ea.add(4),await Jc(p),p.Ra.set("Unknown"),p.Ea.delete(4),await im(p)})(this))}))})),this.Ra=new Qk(s,a)}}async function im(t){if(xo(t))for(const e of t.da)await e(!0)}async function Jc(t){for(const e of t.da)await e(!1)}function Qx(t,e){const n=ze(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Lv(n)?kv(n):Yl(n).O_()&&Pv(n,e))}function Mv(t,e){const n=ze(t),s=Yl(n);n.Ia.delete(e),s.O_()&&Xx(n,e),n.Ia.size===0&&(s.O_()?s.L_():xo(n)&&n.Ra.set("Unknown"))}function Pv(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Yl(t).Y_(e)}function Xx(t,e){t.Va.Ue(e),Yl(t).Z_(e)}function kv(t){t.Va=new q4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Yl(t).start(),t.Ra.ua()}function Lv(t){return xo(t)&&!Yl(t).x_()&&t.Ia.size>0}function xo(t){return ze(t).Ea.size===0}function Wx(t){t.Va=void 0}async function Wk(t){t.Ra.set("Online")}async function Zk(t){t.Ia.forEach(((e,n)=>{Pv(t,e)}))}async function Jk(t,e){Wx(t),Lv(t)?(t.Ra.ha(e),kv(t)):t.Ra.set("Unknown")}async function eL(t,e,n){if(t.Ra.set("Online"),e instanceof Px&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.Ia.delete(f),a.Va.removeTarget(f))})(t,e)}catch(s){be(bo,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ad(t,s)}else if(e instanceof td?t.Va.Ze(e):e instanceof Mx?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ue.min()))try{const s=await Kx(t.localStore);n.compareTo(s)>=0&&await(function(l,c){const f=l.Va.Tt(c);return f.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ia.get(p);y&&l.Ia.set(p,y.withResumeToken(m.resumeToken,c))}})),f.targetMismatches.forEach(((m,p)=>{const y=l.Ia.get(m);if(!y)return;l.Ia.set(m,y.withResumeToken(kn.EMPTY_BYTE_STRING,y.snapshotVersion)),Xx(l,m);const v=new ma(y.target,m,p,y.sequenceNumber);Pv(l,v)})),l.remoteSyncer.applyRemoteEvent(f)})(t,n)}catch(s){be(bo,"Failed to raise snapshot:",s),await Ad(t,s)}}async function Ad(t,e,n){if(!Kl(e))throw e;t.Ea.add(1),await Jc(t),t.Ra.set("Offline"),n||(n=()=>Kx(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{be(bo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await im(t)}))}function Zx(t,e){return e().catch((n=>Ad(t,n,e)))}async function sm(t){const e=ze(t),n=Sa(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:_v;for(;tL(e);)try{const a=await kk(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,nL(e,a)}catch(a){await Ad(e,a)}Jx(e)&&eC(e)}function tL(t){return xo(t)&&t.Ta.length<10}function nL(t,e){t.Ta.push(e);const n=Sa(t);n.O_()&&n.X_&&n.ea(e.mutations)}function Jx(t){return xo(t)&&!Sa(t).x_()&&t.Ta.length>0}function eC(t){Sa(t).start()}async function iL(t){Sa(t).ra()}async function sL(t){const e=Sa(t);for(const n of t.Ta)e.ea(n.mutations)}async function rL(t,e,n){const s=t.Ta.shift(),a=Cv.from(s,e,n);await Zx(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await sm(t)}async function aL(t,e){e&&Sa(t).X_&&await(async function(s,a){if((function(c){return z4(c)&&c!==ue.ABORTED})(a.code)){const l=s.Ta.shift();Sa(s).B_(),await Zx(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await sm(s)}})(t,e),Jx(t)&&eC(t)}async function Lw(t,e){const n=ze(t);n.asyncQueue.verifyOperationInProgress(),be(bo,"RemoteStore received new credentials");const s=xo(n);n.Ea.add(3),await Jc(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await im(n)}async function oL(t,e){const n=ze(t);e?(n.Ea.delete(2),await im(n)):e||(n.Ea.add(2),await Jc(n),n.Ra.set("Unknown"))}function Yl(t){return t.ma||(t.ma=(function(n,s,a){const l=ze(n);return l.sa(),new Gk(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:Wk.bind(null,t),t_:Zk.bind(null,t),r_:Jk.bind(null,t),H_:eL.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Lv(t)?kv(t):t.Ra.set("Unknown")):(await t.ma.stop(),Wx(t))}))),t.ma}function Sa(t){return t.fa||(t.fa=(function(n,s,a){const l=ze(n);return l.sa(),new Kk(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:iL.bind(null,t),r_:aL.bind(null,t),ta:sL.bind(null,t),na:rL.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await sm(t)):(await t.fa.stop(),t.Ta.length>0&&(be(bo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const c=Date.now()+s,f=new jv(e,n,c,a,l);return f.start(s),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ee(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Uv(t,e){if(Sr("AsyncQueue",`${e}: ${t}`),Kl(t))return new Ee(ue.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{static emptySet(e){return new Il(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||De.comparator(n.key,s.key):(n,s)=>De.comparator(n.key,s.key),this.keyedMap=ac(),this.sortedSet=new Gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Il)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Il;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(){this.ga=new Gt(De.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ke(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Ll{constructor(e,n,s,a,l,c,f,m,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,a,l){const c=[];return n.forEach((f=>{c.push({type:0,doc:f})})),new Ll(e,n,Il.emptySet(n),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class uL{constructor(){this.queries=Uw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=ze(n),l=a.queries;a.queries=Uw(),l.forEach(((c,f)=>{for(const m of f.Sa)m.onError(s)}))})(this,new Ee(ue.ABORTED,"Firestore shutting down"))}}function Uw(){return new Ao((t=>Ex(t)),Wd)}async function tC(t,e){const n=ze(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(s=2):(l=new lL,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const f=Uv(c,`Initialization of query '${gl(e.query)}' failed`);return void e.onError(f)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&Bv(n)}async function nC(t,e){const n=ze(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function cL(t,e){const n=ze(t);let s=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const f of c.Sa)f.Fa(a)&&(s=!0);c.wa=a}}s&&Bv(n)}function hL(t,e,n){const s=ze(t),a=s.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);s.queries.delete(e)}function Bv(t){t.Ca.forEach((e=>{e.next()}))}var Ty,Bw;(Bw=Ty||(Ty={})).Ma="default",Bw.Cache="cache";class iC{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Ll(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ll.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ty.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e){this.key=e}}class rC{constructor(e){this.key=e}}class fL{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=lt(),this.mutatedKeys=lt(),this.eu=bx(e),this.tu=new Il(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new jw,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((y,v)=>{const b=a.get(y),A=Zd(this.query,v)?v:null,D=!!b&&this.mutatedKeys.has(b.key),V=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let M=!1;b&&A?b.data.isEqual(A.data)?D!==V&&(s.track({type:3,doc:A}),M=!0):this.su(b,A)||(s.track({type:2,doc:A}),M=!0,(m&&this.eu(A,m)>0||p&&this.eu(A,p)<0)&&(f=!0)):!b&&A?(s.track({type:0,doc:A}),M=!0):b&&!A&&(s.track({type:1,doc:b}),M=!0,(m||p)&&(f=!0)),M&&(A?(c=c.add(A),l=V?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{tu:c,iu:s,Cs:f,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((y,v)=>(function(A,D){const V=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke(20277,{Rt:M})}};return V(A)-V(D)})(y.type,v.type)||this.eu(y.doc,v.doc))),this.ou(s),a=a??!1;const f=n&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,p=m!==this.Za;return this.Za=m,c.length!==0||p?{snapshot:new Ll(this.query,e.tu,l,c,e.mutatedKeys,m===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new jw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=lt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new rC(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new sC(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=lt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ll.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const zv="SyncEngine";class dL{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class mL{constructor(e){this.key=e,this.hu=!1}}class pL{constructor(e,n,s,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ao((f=>Ex(f)),Wd),this.Iu=new Map,this.Eu=new Set,this.du=new Gt(De.comparator),this.Au=new Map,this.Ru=new Nv,this.Vu={},this.mu=new Map,this.fu=kl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function gL(t,e,n=!0){const s=hC(t);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await aC(s,e,n,!0),a}async function yL(t,e){const n=hC(t);await aC(n,e,!0,!1)}async function aC(t,e,n,s){const a=await Lk(t.localStore,ks(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let f;return s&&(f=await vL(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&Qx(t.remoteStore,a),f}async function vL(t,e,n,s,a){t.pu=(v,b,A)=>(async function(V,M,F,q){let H=M.view.ru(F);H.Cs&&(H=await Vw(V.localStore,M.query,!1).then((({documents:I})=>M.view.ru(I,H))));const ne=q&&q.targetChanges.get(M.targetId),J=q&&q.targetMismatches.get(M.targetId)!=null,he=M.view.applyChanges(H,V.isPrimaryClient,ne,J);return Fw(V,M.targetId,he.au),he.snapshot})(t,v,b,A);const l=await Vw(t.localStore,e,!0),c=new fL(e,l.Qs),f=c.ru(l.documents),m=Zc.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),p=c.applyChanges(f,t.isPrimaryClient,m);Fw(t,n,p.au);const y=new dL(e,n,c);return t.Tu.set(e,y),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function _L(t,e,n){const s=ze(t),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((c=>!Wd(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await vy(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&Mv(s.remoteStore,a.targetId),Ey(s,a.targetId)})).catch(Gl)):(Ey(s,a.targetId),await vy(s.localStore,a.targetId,!0))}async function TL(t,e){const n=ze(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Mv(n.remoteStore,s.targetId))}async function EL(t,e,n){const s=RL(t);try{const a=await(function(c,f){const m=ze(c),p=Lt.now(),y=f.reduce(((A,D)=>A.add(D.key)),lt());let v,b;return m.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let D=Ar(),V=lt();return m.Ns.getEntries(A,y).next((M=>{D=M,D.forEach(((F,q)=>{q.isValidDocument()||(V=V.add(F))}))})).next((()=>m.localDocuments.getOverlayedDocuments(A,D))).next((M=>{v=M;const F=[];for(const q of f){const H=k4(q,v.get(q.key).overlayedDocument);H!=null&&F.push(new Va(q.key,H,dx(H.value.mapValue),fs.exists(!0)))}return m.mutationQueue.addMutationBatch(A,p,F,f)})).next((M=>{b=M;const F=M.applyToLocalDocumentSet(v,V);return m.documentOverlayCache.saveOverlays(A,M.batchId,F)}))})).then((()=>({batchId:b.batchId,changes:Sx(v)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(c,f,m){let p=c.Vu[c.currentUser.toKey()];p||(p=new Gt(ot)),p=p.insert(f,m),c.Vu[c.currentUser.toKey()]=p})(s,a.batchId,n),await eh(s,a.changes),await sm(s.remoteStore)}catch(a){const l=Uv(a,"Failed to persist write");n.reject(l)}}async function oC(t,e){const n=ze(t);try{const s=await Mk(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(vt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?vt(c.hu,14607):a.removedDocuments.size>0&&(vt(c.hu,42227),c.hu=!1))})),await eh(n,s,e)}catch(s){await Gl(s)}}function zw(t,e,n){const s=ze(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,c)=>{const f=c.view.va(e);f.snapshot&&a.push(f.snapshot)})),(function(c,f){const m=ze(c);m.onlineState=f;let p=!1;m.queries.forEach(((y,v)=>{for(const b of v.Sa)b.va(f)&&(p=!0)})),p&&Bv(m)})(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function bL(t,e,n){const s=ze(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),l=a&&a.key;if(l){let c=new Gt(De.comparator);c=c.insert(l,qn.newNoDocument(l,Ue.min()));const f=lt().add(l),m=new tm(Ue.min(),new Map,new Gt(ot),c,f);await oC(s,m),s.du=s.du.remove(l),s.Au.delete(e),Fv(s)}else await vy(s.localStore,e,!1).then((()=>Ey(s,e,n))).catch(Gl)}async function wL(t,e){const n=ze(t),s=e.batch.batchId;try{const a=await Ok(n.localStore,e);uC(n,s,null),lC(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await eh(n,a)}catch(a){await Gl(a)}}async function SL(t,e,n){const s=ze(t);try{const a=await(function(c,f){const m=ze(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return m.mutationQueue.lookupMutationBatch(p,f).next((v=>(vt(v!==null,37113),y=v.keys(),m.mutationQueue.removeMutationBatch(p,v)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,f))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>m.localDocuments.getDocuments(p,y)))}))})(s.localStore,e);uC(s,e,n),lC(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await eh(s,a)}catch(a){await Gl(a)}}function lC(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function uC(t,e,n){const s=ze(t);let a=s.Vu[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function Ey(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((s=>{t.Ru.containsKey(s)||cC(t,s)}))}function cC(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Mv(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Fv(t))}function Fw(t,e,n){for(const s of n)s instanceof sC?(t.Ru.addReference(s.key,e),AL(t,s)):s instanceof rC?(be(zv,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||cC(t,s.key)):ke(19791,{wu:s})}function AL(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(be(zv,"New document in limbo: "+n),t.Eu.add(s),Fv(t))}function Fv(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new De(Dt.fromString(e)),s=t.fu.next();t.Au.set(s,new mL(n)),t.du=t.du.insert(n,s),Qx(t.remoteStore,new ma(ks(Sv(n.path)),s,"TargetPurposeLimboResolution",$d.ce))}}async function eh(t,e,n){const s=ze(t),a=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((f,m)=>{c.push(s.pu(m,e,n).then((p=>{var y;if((p||n)&&s.isPrimaryClient){const v=p?!p.fromCache:(y=n==null?void 0:n.targetChanges.get(m.targetId))==null?void 0:y.current;s.sharedClientState.updateQueryState(m.targetId,v?"current":"not-current")}if(p){a.push(p);const v=Vv.As(m.targetId,p);l.push(v)}})))})),await Promise.all(c),s.Pu.H_(a),await(async function(m,p){const y=ze(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>ce.forEach(p,(b=>ce.forEach(b.Es,(A=>y.persistence.referenceDelegate.addReference(v,b.targetId,A))).next((()=>ce.forEach(b.ds,(A=>y.persistence.referenceDelegate.removeReference(v,b.targetId,A)))))))))}catch(v){if(!Kl(v))throw v;be(Ov,"Failed to update sequence numbers: "+v)}for(const v of p){const b=v.targetId;if(!v.fromCache){const A=y.Ms.get(b),D=A.snapshotVersion,V=A.withLastLimboFreeSnapshotVersion(D);y.Ms=y.Ms.insert(b,V)}}})(s.localStore,l))}async function xL(t,e){const n=ze(t);if(!n.currentUser.isEqual(e)){be(zv,"User change. New user:",e.toKey());const s=await Gx(n.localStore,e);n.currentUser=e,(function(l,c){l.mu.forEach((f=>{f.forEach((m=>{m.reject(new Ee(ue.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await eh(n,s.Ls)}}function CL(t,e){const n=ze(t),s=n.Au.get(e);if(s&&s.hu)return lt().add(s.key);{let a=lt();const l=n.Iu.get(e);if(!l)return a;for(const c of l){const f=n.Tu.get(c);a=a.unionWith(f.view.nu)}return a}}function hC(t){const e=ze(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=oC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bL.bind(null,e),e.Pu.H_=cL.bind(null,e.eventManager),e.Pu.yu=hL.bind(null,e.eventManager),e}function RL(t){const e=ze(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=SL.bind(null,e),e}class xd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=nm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Vk(this.persistence,new Ik,e.initialUser,this.serializer)}Cu(e){return new qx(Dv.mi,this.serializer)}Du(e){return new Uk}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xd.provider={build:()=>new xd};class IL extends xd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){vt(this.persistence.referenceDelegate instanceof Sd,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new mk(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ui.withCacheSize(this.cacheSizeBytes):ui.DEFAULT;return new qx((s=>Sd.mi(s,n)),this.serializer)}}class by{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>zw(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=xL.bind(null,this.syncEngine),await oL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new uL})()}createDatastore(e){const n=nm(e.databaseInfo.databaseId),s=(function(l){return new qk(l)})(e.databaseInfo);return(function(l,c,f,m){return new $k(l,c,f,m)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,l,c,f){return new Xk(s,a,l,c,f)})(this.localStore,this.datastore,e.asyncQueue,(n=>zw(this.syncEngine,n,0)),(function(){return Pw.v()?new Pw:new Bk})())}createSyncEngine(e,n){return(function(a,l,c,f,m,p,y){const v=new pL(a,l,c,f,m,p);return y&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(a){const l=ze(a);be(bo,"RemoteStore shutting down."),l.Ea.add(5),await Jc(l),l.Aa.shutdown(),l.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}by.provider={build:()=>new by};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Sr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa="FirestoreClient";class NL{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=Hn.UNAUTHENTICATED,this.clientId=vv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{be(Aa,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(be(Aa,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Uv(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Ng(t,e){t.asyncQueue.verifyOperationInProgress(),be(Aa,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async a=>{s.isEqual(a)||(await Gx(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Hw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await DL(t);be(Aa,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>Lw(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,a)=>Lw(e.remoteStore,a))),t._onlineComponents=e}async function DL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){be(Aa,"Using user provided OfflineComponentProvider");try{await Ng(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ue.FAILED_PRECONDITION||a.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Vl("Error using user provided cache. Falling back to memory cache: "+n),await Ng(t,new xd)}}else be(Aa,"Using default OfflineComponentProvider"),await Ng(t,new IL(void 0));return t._offlineComponents}async function dC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(be(Aa,"Using user provided OnlineComponentProvider"),await Hw(t,t._uninitializedComponentsProvider._online)):(be(Aa,"Using default OnlineComponentProvider"),await Hw(t,new by))),t._onlineComponents}function VL(t){return dC(t).then((e=>e.syncEngine))}async function mC(t){const e=await dC(t),n=e.eventManager;return n.onListen=gL.bind(null,e.syncEngine),n.onUnlisten=_L.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=yL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=TL.bind(null,e.syncEngine),n}function OL(t,e,n={}){const s=new Tr;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,m,p){const y=new fC({next:b=>{y.Nu(),c.enqueueAndForget((()=>nC(l,v)));const A=b.docs.has(f);!A&&b.fromCache?p.reject(new Ee(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&b.fromCache&&m&&m.source==="server"?p.reject(new Ee(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(b)},error:b=>p.reject(b)}),v=new iC(Sv(f.path),y,{includeMetadataChanges:!0,qa:!0});return tC(l,v)})(await mC(t),t.asyncQueue,e,n,s))),s.promise}function ML(t,e,n={}){const s=new Tr;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,m,p){const y=new fC({next:b=>{y.Nu(),c.enqueueAndForget((()=>nC(l,v))),b.fromCache&&m.source==="server"?p.reject(new Ee(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(b)},error:b=>p.reject(b)}),v=new iC(f,y,{includeMetadataChanges:!0,qa:!0});return tC(l,v)})(await mC(t),t.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC="firestore.googleapis.com",Gw=!0;class Kw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ee(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=gC,this.ssl=Gw}else this.host=e.host,this.ssl=e.ssl??Gw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Hx;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<fk)throw new Ee(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}QP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pC(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ee(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ee(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ee(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rm{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Kw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ee(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ee(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Kw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new UP;switch(s.type){case"firstParty":return new HP(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Ee(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=qw.get(n);s&&(be("ComponentProvider","Removing Datastore"),qw.delete(n),s.terminate())})(this),Promise.resolve()}}function PL(t,e,n,s={}){var p;t=Fs(t,rm);const a=wo(e),l=t._getSettings(),c={...l,emulatorOptions:t._getEmulatorOptions()},f=`${e}:${n}`;a&&(nv(`https://${f}`),iv("Firestore",!0)),l.host!==gC&&l.host!==f&&Vl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:f,ssl:a,emulatorOptions:s};if(!yo(m,c)&&(t._setSettings(m),s.mockUserToken)){let y,v;if(typeof s.mockUserToken=="string")y=s.mockUserToken,v=Hn.MOCK_USER;else{y=uA(s.mockUserToken,(p=t._app)==null?void 0:p.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new Ee(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Hn(b)}t._authCredentials=new BP(new tx(y,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new $l(this.firestore,e,this._query)}}class rn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new va(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rn(this.firestore,e,this._key)}toJSON(){return{type:rn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Qc(n,rn._jsonSchema))return new rn(e,s||null,new De(Dt.fromString(n.referencePath)))}}rn._jsonSchemaVersion="firestore/documentReference/1.0",rn._jsonSchema={type:yn("string",rn._jsonSchemaVersion),referencePath:yn("string")};class va extends $l{constructor(e,n,s){super(e,n,Sv(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rn(this.firestore,null,new De(e))}withConverter(e){return new va(this.firestore,e,this._path)}}function am(t,e,...n){if(t=En(t),nx("collection","path",e),t instanceof rm){const s=Dt.fromString(e,...n);return rw(s),new va(t,null,s)}{if(!(t instanceof rn||t instanceof va))throw new Ee(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Dt.fromString(e,...n));return rw(s),new va(t.firestore,null,s)}}function th(t,e,...n){if(t=En(t),arguments.length===1&&(e=vv.newId()),nx("doc","path",e),t instanceof rm){const s=Dt.fromString(e,...n);return sw(s),new rn(t,null,new De(s))}{if(!(t instanceof rn||t instanceof va))throw new Ee(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Dt.fromString(e,...n));return sw(s),new rn(t.firestore,t instanceof va?t.converter:null,new De(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw="AsyncQueue";class $w{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Yx(this,"async_queue_retry"),this._c=()=>{const s=Ig();s&&be(Yw,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Ig();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Ig();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Tr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Kl(e))throw e;be(Yw,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Sr("INTERNAL UNHANDLED ERROR: ",Qw(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=jv.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&ke(47125,{Pc:Qw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Qw(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Ql extends rm{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new $w,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $w(e),this._firestoreClient=void 0,await e}}}function kL(t,e){const n=typeof t=="object"?t:av(),s=typeof t=="string"?t:vd,a=Hd(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=aA("firestore");l&&PL(a,...l)}return a}function Hv(t){if(t._terminated)throw new Ee(ue.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||LL(t),t._firestoreClient}function LL(t){var s,a,l;const e=t._freezeSettings(),n=(function(f,m,p,y){return new a4(f,m,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,pC(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(t._databaseId,((s=t._app)==null?void 0:s.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((l=e.localCache)!=null&&l._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new NL(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(f){const m=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(m),_online:m}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gi(kn.fromBase64String(e))}catch(n){throw new Ee(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Gi(kn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Gi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Qc(e,Gi._jsonSchema))return Gi.fromBase64String(e.bytes)}}Gi._jsonSchemaVersion="firestore/bytes/1.0",Gi._jsonSchema={type:yn("string",Gi._jsonSchemaVersion),bytes:yn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ee(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ee(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ee(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ot(this._lat,e._lat)||ot(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:js._jsonSchemaVersion}}static fromJSON(e){if(Qc(e,js._jsonSchema))return new js(e.latitude,e.longitude)}}js._jsonSchemaVersion="firestore/geoPoint/1.0",js._jsonSchema={type:yn("string",js._jsonSchemaVersion),latitude:yn("number"),longitude:yn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Us._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Qc(e,Us._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Us(e.vectorValues);throw new Ee(ue.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Us._jsonSchemaVersion="firestore/vectorValue/1.0",Us._jsonSchema={type:yn("string",Us._jsonSchemaVersion),vectorValues:yn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jL=/^__.*__$/;class UL{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Va(e,this.data,this.fieldMask,n,this.fieldTransforms):new Wc(e,this.data,n,this.fieldTransforms)}}class yC{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Va(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function vC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke(40011,{Ac:t})}}class qv{constructor(e,n,s,a,l,c){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new qv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var a;const n=(a=this.path)==null?void 0:a.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){var a;const n=(a=this.path)==null?void 0:a.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Cd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(vC(this.Ac)&&jL.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class BL{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||nm(e)}Cc(e,n,s,a=!1){return new qv({Ac:e,methodName:n,Dc:s,path:Pn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gv(t){const e=t._freezeSettings(),n=nm(t._databaseId);return new BL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function zL(t,e,n,s,a,l={}){const c=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);Yv("Data must be an object, but it was:",c,s);const f=_C(s,c);let m,p;if(l.merge)m=new xi(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const v of l.mergeFields){const b=wy(e,v,n);if(!c.contains(b))throw new Ee(ue.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);EC(y,b)||y.push(b)}m=new xi(y),p=c.fieldTransforms.filter((v=>m.covers(v.field)))}else m=null,p=c.fieldTransforms;return new UL(new fi(f),m,p)}class um extends lm{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof um}}class Kv extends lm{_toFieldTransform(e){return new V4(e.path,new Vc)}isEqual(e){return e instanceof Kv}}function FL(t,e,n,s){const a=t.Cc(1,e,n);Yv("Data must be an object, but it was:",a,s);const l=[],c=fi.empty();Da(s,((m,p)=>{const y=$v(e,m,n);p=En(p);const v=a.yc(y);if(p instanceof um)l.push(y);else{const b=nh(p,v);b!=null&&(l.push(y),c.set(y,b))}}));const f=new xi(l);return new yC(c,f,a.fieldTransforms)}function HL(t,e,n,s,a,l){const c=t.Cc(1,e,n),f=[wy(e,s,n)],m=[a];if(l.length%2!=0)throw new Ee(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<l.length;b+=2)f.push(wy(e,l[b])),m.push(l[b+1]);const p=[],y=fi.empty();for(let b=f.length-1;b>=0;--b)if(!EC(p,f[b])){const A=f[b];let D=m[b];D=En(D);const V=c.yc(A);if(D instanceof um)p.push(A);else{const M=nh(D,V);M!=null&&(p.push(A),y.set(A,M))}}const v=new xi(p);return new yC(y,v,c.fieldTransforms)}function qL(t,e,n,s=!1){return nh(n,t.Cc(s?4:3,e))}function nh(t,e){if(TC(t=En(t)))return Yv("Unsupported field value:",e,t),_C(t,e);if(t instanceof lm)return(function(s,a){if(!vC(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,a){const l=[];let c=0;for(const f of s){let m=nh(f,a.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(t,e)}return(function(s,a){if((s=En(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return I4(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=Lt.fromDate(s);return{timestampValue:wd(a.serializer,l)}}if(s instanceof Lt){const l=new Lt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:wd(a.serializer,l)}}if(s instanceof js)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Gi)return{bytesValue:kx(a.serializer,s._byteString)};if(s instanceof rn){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Iv(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Us)return(function(c,f){return{mapValue:{fields:{[hx]:{stringValue:fx},[_d]:{arrayValue:{values:c.toArray().map((p=>{if(typeof p!="number")throw f.Sc("VectorValues must only contain numeric values.");return Av(f.serializer,p)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${Yd(s)}`)})(t,e)}function _C(t,e){const n={};return rx(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Da(t,((s,a)=>{const l=nh(a,e.mc(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function TC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Lt||t instanceof js||t instanceof Gi||t instanceof rn||t instanceof lm||t instanceof Us)}function Yv(t,e,n){if(!TC(n)||!ix(n)){const s=Yd(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function wy(t,e,n){if((e=En(e))instanceof om)return e._internalPath;if(typeof e=="string")return $v(t,e);throw Cd("Field path arguments must be of type string or ",t,!1,void 0,n)}const GL=new RegExp("[~\\*/\\[\\]]");function $v(t,e,n){if(e.search(GL)>=0)throw Cd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new om(...e.split("."))._internalPath}catch{throw Cd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Cd(t,e,n,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${s}`),c&&(m+=` in document ${a}`),m+=")"),new Ee(ue.INVALID_ARGUMENT,f+t+m)}function EC(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new KL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(wC("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class KL extends bC{data(){return super.data()}}function wC(t,e){return typeof e=="string"?$v(t,e):e instanceof om?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ee(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Qv{}class $L extends Qv{}function SC(t,e,...n){let s=[];e instanceof Qv&&s.push(e),s=s.concat(n),(function(l){const c=l.filter((m=>m instanceof Wv)).length,f=l.filter((m=>m instanceof Xv)).length;if(c>1||c>0&&f>0)throw new Ee(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)t=a._apply(t);return t}class Xv extends $L{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Xv(e,n,s)}_apply(e){const n=this._parse(e);return AC(e._query,n),new $l(e.firestore,e.converter,fy(e._query,n))}_parse(e){const n=Gv(e.firestore);return(function(l,c,f,m,p,y,v){let b;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new Ee(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){Ww(v,y);const D=[];for(const V of v)D.push(Xw(m,l,V));b={arrayValue:{values:D}}}else b=Xw(m,l,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||Ww(v,y),b=qL(f,c,v,y==="in"||y==="not-in");return gn.create(p,y,b)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Wv extends Qv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Wv(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ds.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let c=a;const f=l.getFlattenedFilters();for(const m of f)AC(c,m),c=fy(c,m)})(e._query,n),new $l(e.firestore,e.converter,fy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Xw(t,e,n){if(typeof(n=En(n))=="string"){if(n==="")throw new Ee(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Tx(e)&&n.indexOf("/")!==-1)throw new Ee(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Dt.fromString(n));if(!De.isDocumentKey(s))throw new Ee(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return dw(t,new De(s))}if(n instanceof rn)return dw(t,n._key);throw new Ee(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yd(n)}.`)}function Ww(t,e){if(!Array.isArray(t)||t.length===0)throw new Ee(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function AC(t,e){const n=(function(a,l){for(const c of a)for(const f of c.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Ee(ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ee(ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class QL{convertValue(e,n="none"){switch(wa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ba(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ke(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Da(e,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(e){var s,a,l;const n=(l=(a=(s=e.fields)==null?void 0:s[_d].arrayValue)==null?void 0:a.values)==null?void 0:l.map((c=>nn(c.doubleValue)));return new Us(n)}convertGeoPoint(e){return new js(nn(e.latitude),nn(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Xd(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Ic(e));default:return null}}convertTimestamp(e){const n=Ea(e);return new Lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Dt.fromString(e);vt(Fx(s),9688,{name:e});const a=new Nc(s.get(1),s.get(3)),l=new De(s.popFirst(5));return a.isEqual(n)||Sr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XL(t,e,n){let s;return s=t?t.toFirestore(e):e,s}class lc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class mo extends bC{constructor(e,n,s,a,l,c){super(e,n,s,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new nd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(wC("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ee(ue.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=mo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}mo._jsonSchemaVersion="firestore/documentSnapshot/1.0",mo._jsonSchema={type:yn("string",mo._jsonSchemaVersion),bundleSource:yn("string","DocumentSnapshot"),bundleName:yn("string"),bundle:yn("string")};class nd extends mo{data(e={}){return super.data(e)}}class Nl{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new lc(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new nd(this._firestore,this._userDataWriter,s.key,s,new lc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ee(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((f=>{const m=new nd(a._firestore,a._userDataWriter,f.doc.key,f.doc,new lc(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const m=new nd(a._firestore,a._userDataWriter,f.doc.key,f.doc,new lc(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return f.type!==0&&(p=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),y=c.indexOf(f.doc.key)),{type:WL(f.type),doc:m,oldIndex:p,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ee(ue.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Nl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=vv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function WL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ke(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZL(t){t=Fs(t,rn);const e=Fs(t.firestore,Ql);return OL(Hv(e),t._key).then((n=>tj(e,t,n)))}Nl._jsonSchemaVersion="firestore/querySnapshot/1.0",Nl._jsonSchema={type:yn("string",Nl._jsonSchemaVersion),bundleSource:yn("string","QuerySnapshot"),bundleName:yn("string"),bundle:yn("string")};class xC extends QL{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new rn(this.firestore,null,n)}}function CC(t){t=Fs(t,$l);const e=Fs(t.firestore,Ql),n=Hv(e),s=new xC(e);return YL(t._query),ML(n,t._query).then((a=>new Nl(e,s,t,a)))}function Zv(t,e,n){t=Fs(t,rn);const s=Fs(t.firestore,Ql),a=XL(t.converter,e);return Jv(s,[zL(Gv(s),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,fs.none())])}function JL(t,e,n,...s){t=Fs(t,rn);const a=Fs(t.firestore,Ql),l=Gv(a);let c;return c=typeof(e=En(e))=="string"||e instanceof om?HL(l,"updateDoc",t._key,e,n,s):FL(l,"updateDoc",t._key,e),Jv(a,[c.toMutation(t._key,fs.exists(!0))])}function ej(t){return Jv(Fs(t.firestore,Ql),[new xv(t._key,fs.none())])}function Jv(t,e){return(function(s,a){const l=new Tr;return s.asyncQueue.enqueueAndForget((async()=>EL(await VL(s),a,l))),l.promise})(Hv(t),e)}function tj(t,e,n){const s=n.docs.get(e._key),a=new xC(t);return new mo(t,a,e._key,s,new lc(n.hasPendingWrites,n.fromCache),e.converter)}function cm(){return new Kv("serverTimestamp")}(function(e,n=!0){(function(a){ql=a})(So),vo(new _a("firestore",((s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),f=new Ql(new zP(s.getProvider("auth-internal")),new qP(c,s.getProvider("app-check-internal")),(function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Ee(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nc(p.options.projectId,y)})(c,a),c);return l={useFetchStreams:n,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),Ms(ew,tw,e),Ms(ew,tw,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC="firebasestorage.googleapis.com",nj="storageBucket",ij=120*1e3,sj=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys extends Ks{constructor(e,n,s=0){super(Dg(e),`Firebase Storage: ${n} (${Dg(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ys.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Dg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var qs;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(qs||(qs={}));function Dg(t){return"storage/"+t}function rj(){const t="An unknown error occurred, please check the error payload for server response.";return new Ys(qs.UNKNOWN,t)}function aj(){return new Ys(qs.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function oj(){return new Ys(qs.CANCELED,"User canceled the upload/download.")}function lj(t){return new Ys(qs.INVALID_URL,"Invalid URL '"+t+"'.")}function uj(t){return new Ys(qs.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Zw(t){return new Ys(qs.INVALID_ARGUMENT,t)}function IC(){return new Ys(qs.APP_DELETED,"The Firebase app was deleted.")}function cj(t){return new Ys(qs.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=cs.makeFromUrl(e,n)}catch{return new cs(e,"")}if(s.path==="")return s;throw uj(e)}static makeFromUrl(e,n){let s=null;const a="([A-Za-z0-9.\\-_]+)";function l(ne){ne.path.charAt(ne.path.length-1)==="/"&&(ne.path_=ne.path_.slice(0,-1))}const c="(/(.*))?$",f=new RegExp("^gs://"+a+c,"i"),m={bucket:1,path:3};function p(ne){ne.path_=decodeURIComponent(ne.path)}const y="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",A=new RegExp(`^https?://${v}/${y}/b/${a}/o${b}`,"i"),D={bucket:1,path:3},V=n===RC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,M="([^?#]*)",F=new RegExp(`^https?://${V}/${a}/${M}`,"i"),H=[{regex:f,indices:m,postModify:l},{regex:A,indices:D,postModify:p},{regex:F,indices:{bucket:1,path:2},postModify:p}];for(let ne=0;ne<H.length;ne++){const J=H[ne],he=J.regex.exec(e);if(he){const I=he[J.indices.bucket];let C=he[J.indices.path];C||(C=""),s=new cs(I,C),J.postModify(s);break}}if(s==null)throw lj(e);return s}}class hj{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fj(t,e,n){let s=1,a=null,l=null,c=!1,f=0;function m(){return f===2}let p=!1;function y(...M){p||(p=!0,e.apply(null,M))}function v(M){a=setTimeout(()=>{a=null,t(A,m())},M)}function b(){l&&clearTimeout(l)}function A(M,...F){if(p){b();return}if(M){b(),y.call(null,M,...F);return}if(m()||c){b(),y.call(null,M,...F);return}s<64&&(s*=2);let H;f===1?(f=2,H=0):H=(s+Math.random())*1e3,v(H)}let D=!1;function V(M){D||(D=!0,b(),!p&&(a!==null?(M||(f=2),clearTimeout(a),v(0)):M||(f=1)))}return v(0),l=setTimeout(()=>{c=!0,V(!0)},n),V}function dj(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mj(t){return t!==void 0}function Jw(t,e,n,s){if(s<e)throw Zw(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw Zw(`Invalid value for '${t}'. Expected ${n} or less.`)}function pj(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const a=e(s)+"="+e(t[s]);n=n+a+"&"}return n=n.slice(0,-1),n}var Rd;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Rd||(Rd={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gj(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(e,n,s,a,l,c,f,m,p,y,v,b=!0,A=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=f,this.errorCallback_=m,this.timeout_=p,this.progressCallback_=y,this.connectionFactory_=v,this.retry=b,this.isUsingEmulator=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((D,V)=>{this.resolve_=D,this.reject_=V,this.start_()})}start_(){const e=(s,a)=>{if(a){s(!1,new Uf(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=f=>{const m=f.loaded,p=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,p)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const f=l.getErrorCode()===Rd.NO_ERROR,m=l.getStatus();if(!f||gj(m,this.additionalRetryCodes_)&&this.retry){const y=l.getErrorCode()===Rd.ABORT;s(!1,new Uf(!1,null,y));return}const p=this.successCodes_.indexOf(m)!==-1;s(!0,new Uf(p,l))})},n=(s,a)=>{const l=this.resolve_,c=this.reject_,f=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(f,f.getResponse());mj(m)?l(m):l()}catch(m){c(m)}else if(f!==null){const m=rj();m.serverResponse=f.getErrorText(),this.errorCallback_?c(this.errorCallback_(f,m)):c(m)}else if(a.canceled){const m=this.appDelete_?IC():oj();c(m)}else{const m=aj();c(m)}};this.canceled_?n(!1,new Uf(!1,null,!0)):this.backoffId_=fj(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&dj(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Uf{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function vj(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function _j(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Tj(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Ej(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function bj(t,e,n,s,a,l,c=!0,f=!1){const m=pj(t.urlParams),p=t.url+m,y=Object.assign({},t.headers);return Tj(y,e),vj(y,n),_j(y,l),Ej(y,s),new yj(p,t.method,y,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,c,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wj(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Sj(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e,n){this._service=e,n instanceof cs?this._location=n:this._location=cs.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Id(e,n)}get root(){const e=new cs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Sj(this._location.path)}get storage(){return this._service}get parent(){const e=wj(this._location.path);if(e===null)return null;const n=new cs(this._location.bucket,e);return new Id(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw cj(e)}}function eS(t,e){const n=e==null?void 0:e[nj];return n==null?null:cs.makeFromBucketSpec(n,t)}function Aj(t,e,n,s={}){t.host=`${e}:${n}`;const a=wo(e);a&&(nv(`https://${t.host}/b`),iv("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=s;l&&(t._overrideAuthToken=typeof l=="string"?l:uA(l,t.app.options.projectId))}class xj{constructor(e,n,s,a,l,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=RC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=ij,this._maxUploadRetryTime=sj,this._requests=new Set,a!=null?this._bucket=cs.makeFromBucketSpec(a,this._host):this._bucket=eS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=cs.makeFromBucketSpec(this._url,e):this._bucket=eS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Jw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Jw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(hi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Id(this,e)}_makeRequest(e,n,s,a,l=!0){if(this._deleted)return new hj(IC());{const c=bj(e,this._appId,s,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,a).getPromise()}}const tS="@firebase/storage",nS="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC="storage";function Cj(t=av(),e){t=En(t);const s=Hd(t,NC).getImmediate({identifier:e}),a=aA("storage");return a&&Rj(s,...a),s}function Rj(t,e,n,s={}){Aj(t,e,n,s)}function Ij(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new xj(n,s,a,e,So)}function Nj(){vo(new _a(NC,Ij,"PUBLIC").setMultipleInstances(!0)),Ms(tS,nS,""),Ms(tS,nS,"esm2020")}Nj();const Dj={apiKey:"AIzaSyBcZBZ5a8A7wzoNzbeYtc595Aq-UIfE7XU",authDomain:"wardrobe-6ee64.firebaseapp.com",projectId:"wardrobe-6ee64",storageBucket:"wardrobe-6ee64.appspot.com",messagingSenderId:"714007014554",appId:"1:714007014554:web:d4eccf87ab04fc7b754323",measurementId:"G-DHW20B0JRP"},e0=fA(Dj),Ju=PP(e0),Co=kL(e0);Cj(e0);const DC=t=>new Promise((e,n)=>{const s=new FileReader;s.readAsDataURL(t),s.onload=()=>e(s.result),s.onerror=a=>n(a)}),iS=async t=>{if(!t)return;const e=th(Co,"users",t.uid);if(!(await ZL(e)).exists()){const{email:s,displayName:a,photoURL:l}=t;try{await Zv(e,{displayName:a,email:s,photoURL:l,createdAt:cm()})}catch(c){throw console.error("Error creating user document",c),c}}},Vj=async(t,e,n)=>{try{let s="";if(n)try{s=await DC(n)}catch(l){throw console.error("Error processing image:",l),new Error("Failed to process image. Please try again.")}const a=th(am(Co,"users",t,"clothing"));return await Zv(a,{...e,imageBase64:s,createdAt:cm()}),a.id}catch(s){throw console.error("Error adding clothing item:",s),s}},Oj=async t=>{try{const e=SC(am(Co,"users",t,"clothing")),n=await CC(e),s=[];return n.forEach(a=>{const l=a.data(),c={id:a.id,...l,imageUrl:l.imageBase64||""};s.push(c)}),s}catch(e){throw console.error("Error getting clothing items:",e),e}},Mj=async(t,e,n,s)=>{try{let a=n.imageBase64||"";if(s)try{a=await DC(s)}catch(c){throw console.error("Error processing image:",c),new Error("Failed to process image. Please try again.")}const l=th(Co,"users",t,"clothing",e);return await JL(l,{...n,imageBase64:a,updatedAt:cm()}),!0}catch(a){throw console.error("Error updating clothing item:",a),a}},Pj=async(t,e)=>{try{const n=th(Co,"users",t,"clothing",e);return await ej(n),!0}catch(n){throw console.error("Error deleting clothing item:",n),n}},kj=async(t,e)=>{try{const n=th(am(Co,"users",t,"outfits"));return await Zv(n,{...e,createdAt:cm()}),n.id}catch(n){throw console.error("Error saving outfit:",n),n}},Lj=async t=>{try{const e=SC(am(Co,"users",t,"outfits")),n=await CC(e),s=[];return n.forEach(a=>{s.push({id:a.id,...a.data()})}),s}catch(e){throw console.error("Error getting saved outfits:",e),e}},VC=O.createContext(),ih=()=>O.useContext(VC),jj=({children:t})=>{const[e,n]=O.useState(null),[s,a]=O.useState(!0),l=async(y,v,b)=>{try{const A=await _M(Ju,y,v);return await iS(A.user),A.user}catch(A){throw A}},c=async(y,v)=>{try{return(await TM(Ju,y,v)).user}catch(b){throw b}},f=async()=>{try{const y=new mr,v=await qM(Ju,y);return await iS(v.user),v.user}catch(y){throw y}},m=()=>SM(Ju);O.useEffect(()=>wM(Ju,v=>{n(v),a(!1)}),[]);const p={currentUser:e,signup:l,login:c,loginWithGoogle:f,logout:m};return T.jsx(VC.Provider,{value:p,children:!s&&t})},OC=O.createContext(),hm=()=>O.useContext(OC),Uj=({children:t})=>{const[e,n]=O.useState([]),[s,a]=O.useState([]),[l,c]=O.useState(!0),{currentUser:f}=ih(),m=async()=>{if(f)try{c(!0);const V=await Oj(f.uid);n(V)}catch(V){console.error("Error fetching clothing items:",V)}finally{c(!1)}},p=async()=>{if(f)try{const V=await Lj(f.uid);a(V)}catch(V){console.error("Error fetching saved outfits:",V)}},y=async(V,M)=>{if(f)try{const F=await Vj(f.uid,V,M);return await m(),F}catch(F){throw console.error("Error adding clothing item:",F),F}},v=async(V,M,F)=>{if(f)try{return await Mj(f.uid,V,M,F),await m(),!0}catch(q){throw console.error("Error updating clothing item:",q),q}},b=async V=>{if(f)try{return await Pj(f.uid,V),await m(),!0}catch(M){throw console.error("Error deleting clothing item:",M),M}},A=async V=>{if(f)try{const M=await kj(f.uid,V);return await p(),M}catch(M){throw console.error("Error saving outfit:",M),M}};O.useEffect(()=>{f?(m(),p()):(n([]),a([]))},[f]);const D={clothingItems:e,savedOutfits:s,loading:l,addClothing:y,updateClothing:v,deleteClothing:b,saveOutfitCombination:A,fetchClothingItems:m,fetchSavedOutfits:p};return T.jsx(OC.Provider,{value:D,children:t})},t0=O.createContext({});function n0(t){const e=O.useRef(null);return e.current===null&&(e.current=t()),e.current}const i0=typeof window<"u",MC=i0?O.useLayoutEffect:O.useEffect,fm=O.createContext(null);function s0(t,e){t.indexOf(e)===-1&&t.push(e)}function r0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const xr=(t,e,n)=>n>e?e:n<t?t:n;let a0=()=>{};const Cr={},PC=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function kC(t){return typeof t=="object"&&t!==null}const LC=t=>/^0[^.\s]+$/u.test(t);function o0(t){let e;return()=>(e===void 0&&(e=t()),e)}const Yi=t=>t,Bj=(t,e)=>n=>e(t(n)),sh=(...t)=>t.reduce(Bj),Pc=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class l0{constructor(){this.subscriptions=[]}add(e){return s0(this.subscriptions,e),()=>r0(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Bs=t=>t*1e3,Ki=t=>t/1e3;function jC(t,e){return e?t*(1e3/e):0}const UC=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,zj=1e-7,Fj=12;function Hj(t,e,n,s,a){let l,c,f=0;do c=e+(n-e)/2,l=UC(c,s,a)-t,l>0?n=c:e=c;while(Math.abs(l)>zj&&++f<Fj);return c}function rh(t,e,n,s){if(t===e&&n===s)return Yi;const a=l=>Hj(l,0,1,t,n);return l=>l===0||l===1?l:UC(a(l),e,s)}const BC=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,zC=t=>e=>1-t(1-e),FC=rh(.33,1.53,.69,.99),u0=zC(FC),HC=BC(u0),qC=t=>(t*=2)<1?.5*u0(t):.5*(2-Math.pow(2,-10*(t-1))),c0=t=>1-Math.sin(Math.acos(t)),GC=zC(c0),KC=BC(c0),qj=rh(.42,0,1,1),Gj=rh(0,0,.58,1),YC=rh(.42,0,.58,1),Kj=t=>Array.isArray(t)&&typeof t[0]!="number",$C=t=>Array.isArray(t)&&typeof t[0]=="number",Yj={linear:Yi,easeIn:qj,easeInOut:YC,easeOut:Gj,circIn:c0,circInOut:KC,circOut:GC,backIn:u0,backInOut:HC,backOut:FC,anticipate:qC},$j=t=>typeof t=="string",sS=t=>{if($C(t)){a0(t.length===4);const[e,n,s,a]=t;return rh(e,n,s,a)}else if($j(t))return Yj[t];return t},Bf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Qj(t,e){let n=new Set,s=new Set,a=!1,l=!1;const c=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function m(y){c.has(y)&&(p.schedule(y),t()),y(f)}const p={schedule:(y,v=!1,b=!1)=>{const D=b&&a?n:s;return v&&c.add(y),D.has(y)||D.add(y),y},cancel:y=>{s.delete(y),c.delete(y)},process:y=>{if(f=y,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,p.process(y))}};return p}const Xj=40;function QC(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=Bf.reduce((H,ne)=>(H[ne]=Qj(l),H),{}),{setup:f,read:m,resolveKeyframes:p,preUpdate:y,update:v,preRender:b,render:A,postRender:D}=c,V=()=>{const H=Cr.useManualTiming?a.timestamp:performance.now();n=!1,Cr.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(H-a.timestamp,Xj),1)),a.timestamp=H,a.isProcessing=!0,f.process(a),m.process(a),p.process(a),y.process(a),v.process(a),b.process(a),A.process(a),D.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(V))},M=()=>{n=!0,s=!0,a.isProcessing||t(V)};return{schedule:Bf.reduce((H,ne)=>{const J=c[ne];return H[ne]=(he,I=!1,C=!1)=>(n||M(),J.schedule(he,I,C)),H},{}),cancel:H=>{for(let ne=0;ne<Bf.length;ne++)c[Bf[ne]].cancel(H)},state:a,steps:c}}const{schedule:Ft,cancel:xa,state:On,steps:Vg}=QC(typeof requestAnimationFrame<"u"?requestAnimationFrame:Yi,!0);let id;function Wj(){id=void 0}const di={now:()=>(id===void 0&&di.set(On.isProcessing||Cr.useManualTiming?On.timestamp:performance.now()),id),set:t=>{id=t,queueMicrotask(Wj)}},XC=t=>e=>typeof e=="string"&&e.startsWith(t),h0=XC("--"),Zj=XC("var(--"),f0=t=>Zj(t)?Jj.test(t.split("/*")[0].trim()):!1,Jj=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Xl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},kc={...Xl,transform:t=>xr(0,1,t)},zf={...Xl,default:1},yc=t=>Math.round(t*1e5)/1e5,d0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function e3(t){return t==null}const t3=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,m0=(t,e)=>n=>!!(typeof n=="string"&&t3.test(n)&&n.startsWith(t)||e&&!e3(n)&&Object.prototype.hasOwnProperty.call(n,e)),WC=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,c,f]=s.match(d0);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:f!==void 0?parseFloat(f):1}},n3=t=>xr(0,255,t),Og={...Xl,transform:t=>Math.round(n3(t))},co={test:m0("rgb","red"),parse:WC("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+Og.transform(t)+", "+Og.transform(e)+", "+Og.transform(n)+", "+yc(kc.transform(s))+")"};function i3(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const Sy={test:m0("#"),parse:i3,transform:co.transform},ah=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ua=ah("deg"),zs=ah("%"),Le=ah("px"),s3=ah("vh"),r3=ah("vw"),rS={...zs,parse:t=>zs.parse(t)/100,transform:t=>zs.transform(t*100)},Tl={test:m0("hsl","hue"),parse:WC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+zs.transform(yc(e))+", "+zs.transform(yc(n))+", "+yc(kc.transform(s))+")"},pn={test:t=>co.test(t)||Sy.test(t)||Tl.test(t),parse:t=>co.test(t)?co.parse(t):Tl.test(t)?Tl.parse(t):Sy.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?co.transform(t):Tl.transform(t),getAnimatableNone:t=>{const e=pn.parse(t);return e.alpha=0,pn.transform(e)}},a3=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function o3(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(d0))==null?void 0:e.length)||0)+(((n=t.match(a3))==null?void 0:n.length)||0)>0}const ZC="number",JC="color",l3="var",u3="var(",aS="${}",c3=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Lc(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const f=e.replace(c3,m=>(pn.test(m)?(s.color.push(l),a.push(JC),n.push(pn.parse(m))):m.startsWith(u3)?(s.var.push(l),a.push(l3),n.push(m)):(s.number.push(l),a.push(ZC),n.push(parseFloat(m))),++l,aS)).split(aS);return{values:n,split:f,indexes:s,types:a}}function eR(t){return Lc(t).values}function tR(t){const{split:e,types:n}=Lc(t),s=e.length;return a=>{let l="";for(let c=0;c<s;c++)if(l+=e[c],a[c]!==void 0){const f=n[c];f===ZC?l+=yc(a[c]):f===JC?l+=pn.transform(a[c]):l+=a[c]}return l}}const h3=t=>typeof t=="number"?0:pn.test(t)?pn.getAnimatableNone(t):t;function f3(t){const e=eR(t);return tR(t)(e.map(h3))}const Ca={test:o3,parse:eR,createTransformer:tR,getAnimatableNone:f3};function Mg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function d3({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const f=n<.5?n*(1+e):n+e-n*e,m=2*n-f;a=Mg(m,f,t+1/3),l=Mg(m,f,t),c=Mg(m,f,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function Nd(t,e){return n=>n>0?e:t}const qt=(t,e,n)=>t+(e-t)*n,Pg=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},m3=[Sy,co,Tl],p3=t=>m3.find(e=>e.test(t));function oS(t){const e=p3(t);if(!e)return!1;let n=e.parse(t);return e===Tl&&(n=d3(n)),n}const lS=(t,e)=>{const n=oS(t),s=oS(e);if(!n||!s)return Nd(t,e);const a={...n};return l=>(a.red=Pg(n.red,s.red,l),a.green=Pg(n.green,s.green,l),a.blue=Pg(n.blue,s.blue,l),a.alpha=qt(n.alpha,s.alpha,l),co.transform(a))},Ay=new Set(["none","hidden"]);function g3(t,e){return Ay.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function y3(t,e){return n=>qt(t,e,n)}function p0(t){return typeof t=="number"?y3:typeof t=="string"?f0(t)?Nd:pn.test(t)?lS:T3:Array.isArray(t)?nR:typeof t=="object"?pn.test(t)?lS:v3:Nd}function nR(t,e){const n=[...t],s=n.length,a=t.map((l,c)=>p0(l)(l,e[c]));return l=>{for(let c=0;c<s;c++)n[c]=a[c](l);return n}}function v3(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=p0(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function _3(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][s[l]],f=t.values[c]??0;n[a]=f,s[l]++}return n}const T3=(t,e)=>{const n=Ca.createTransformer(e),s=Lc(t),a=Lc(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?Ay.has(t)&&!a.values.length||Ay.has(e)&&!s.values.length?g3(t,e):sh(nR(_3(s,a),a.values),n):Nd(t,e)};function iR(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?qt(t,e,n):p0(t)(t,e)}const E3=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Ft.update(e,n),stop:()=>xa(e),now:()=>On.isProcessing?On.timestamp:di.now()}},sR=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Dd=2e4;function g0(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<Dd;)e+=n,s=t.next(e);return e>=Dd?1/0:e}function b3(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(g0(s),Dd);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:Ki(a)}}const w3=5;function rR(t,e,n){const s=Math.max(e-w3,0);return jC(n-t(s),e-s)}const Xt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},kg=.001;function S3({duration:t=Xt.duration,bounce:e=Xt.bounce,velocity:n=Xt.velocity,mass:s=Xt.mass}){let a,l,c=1-e;c=xr(Xt.minDamping,Xt.maxDamping,c),t=xr(Xt.minDuration,Xt.maxDuration,Ki(t)),c<1?(a=p=>{const y=p*c,v=y*t,b=y-n,A=xy(p,c),D=Math.exp(-v);return kg-b/A*D},l=p=>{const v=p*c*t,b=v*n+n,A=Math.pow(c,2)*Math.pow(p,2)*t,D=Math.exp(-v),V=xy(Math.pow(p,2),c);return(-a(p)+kg>0?-1:1)*((b-A)*D)/V}):(a=p=>{const y=Math.exp(-p*t),v=(p-n)*t+1;return-kg+y*v},l=p=>{const y=Math.exp(-p*t),v=(n-p)*(t*t);return y*v});const f=5/t,m=x3(a,l,f);if(t=Bs(t),isNaN(m))return{stiffness:Xt.stiffness,damping:Xt.damping,duration:t};{const p=Math.pow(m,2)*s;return{stiffness:p,damping:c*2*Math.sqrt(s*p),duration:t}}}const A3=12;function x3(t,e,n){let s=n;for(let a=1;a<A3;a++)s=s-t(s)/e(s);return s}function xy(t,e){return t*Math.sqrt(1-e*e)}const C3=["duration","bounce"],R3=["stiffness","damping","mass"];function uS(t,e){return e.some(n=>t[n]!==void 0)}function I3(t){let e={velocity:Xt.velocity,stiffness:Xt.stiffness,damping:Xt.damping,mass:Xt.mass,isResolvedFromDuration:!1,...t};if(!uS(t,R3)&&uS(t,C3))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*xr(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Xt.mass,stiffness:a,damping:l}}else{const n=S3(t);e={...e,...n,mass:Xt.mass},e.isResolvedFromDuration=!0}return e}function Vd(t=Xt.visualDuration,e=Xt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:m,damping:p,mass:y,duration:v,velocity:b,isResolvedFromDuration:A}=I3({...n,velocity:-Ki(n.velocity||0)}),D=b||0,V=p/(2*Math.sqrt(m*y)),M=c-l,F=Ki(Math.sqrt(m/y)),q=Math.abs(M)<5;s||(s=q?Xt.restSpeed.granular:Xt.restSpeed.default),a||(a=q?Xt.restDelta.granular:Xt.restDelta.default);let H;if(V<1){const J=xy(F,V);H=he=>{const I=Math.exp(-V*F*he);return c-I*((D+V*F*M)/J*Math.sin(J*he)+M*Math.cos(J*he))}}else if(V===1)H=J=>c-Math.exp(-F*J)*(M+(D+F*M)*J);else{const J=F*Math.sqrt(V*V-1);H=he=>{const I=Math.exp(-V*F*he),C=Math.min(J*he,300);return c-I*((D+V*F*M)*Math.sinh(C)+J*M*Math.cosh(C))/J}}const ne={calculatedDuration:A&&v||null,next:J=>{const he=H(J);if(A)f.done=J>=v;else{let I=J===0?D:0;V<1&&(I=J===0?Bs(D):rR(H,J,he));const C=Math.abs(I)<=s,R=Math.abs(c-he)<=a;f.done=C&&R}return f.value=f.done?c:he,f},toString:()=>{const J=Math.min(g0(ne),Dd),he=sR(I=>ne.next(J*I).value,J,30);return J+"ms "+he},toTransition:()=>{}};return ne}Vd.applyToOptions=t=>{const e=b3(t,100,Vd);return t.ease=e.ease,t.duration=Bs(e.duration),t.type="keyframes",t};function Cy({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:f,max:m,restDelta:p=.5,restSpeed:y}){const v=t[0],b={done:!1,value:v},A=C=>f!==void 0&&C<f||m!==void 0&&C>m,D=C=>f===void 0?m:m===void 0||Math.abs(f-C)<Math.abs(m-C)?f:m;let V=n*e;const M=v+V,F=c===void 0?M:c(M);F!==M&&(V=F-v);const q=C=>-V*Math.exp(-C/s),H=C=>F+q(C),ne=C=>{const R=q(C),L=H(C);b.done=Math.abs(R)<=p,b.value=b.done?F:L};let J,he;const I=C=>{A(b.value)&&(J=C,he=Vd({keyframes:[b.value,D(b.value)],velocity:rR(H,C,b.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return I(0),{calculatedDuration:null,next:C=>{let R=!1;return!he&&J===void 0&&(R=!0,ne(C),I(C)),J!==void 0&&C>=J?he.next(C-J):(!R&&ne(C),b)}}}function N3(t,e,n){const s=[],a=n||Cr.mix||iR,l=t.length-1;for(let c=0;c<l;c++){let f=a(t[c],t[c+1]);if(e){const m=Array.isArray(e)?e[c]||Yi:e;f=sh(m,f)}s.push(f)}return s}function D3(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(a0(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=N3(e,s,a),m=f.length,p=y=>{if(c&&y<t[0])return e[0];let v=0;if(m>1)for(;v<t.length-2&&!(y<t[v+1]);v++);const b=Pc(t[v],t[v+1],y);return f[v](b)};return n?y=>p(xr(t[0],t[l-1],y)):p}function V3(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=Pc(0,e,s);t.push(qt(n,1,a))}}function O3(t){const e=[0];return V3(e,t.length-1),e}function M3(t,e){return t.map(n=>n*e)}function P3(t,e){return t.map(()=>e||YC).splice(0,t.length-1)}function vc({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=Kj(s)?s.map(sS):sS(s),l={done:!1,value:e[0]},c=M3(n&&n.length===e.length?n:O3(e),t),f=D3(c,e,{ease:Array.isArray(a)?a:P3(e,a)});return{calculatedDuration:t,next:m=>(l.value=f(m),l.done=m>=t,l)}}const k3=t=>t!==null;function y0(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter(k3),f=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!f||s===void 0?l[f]:s}const L3={decay:Cy,inertia:Cy,tween:vc,keyframes:vc,spring:Vd};function aR(t){typeof t.type=="string"&&(t.type=L3[t.type])}class v0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const j3=t=>t/100;class _0 extends v0{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,a;const{motionValue:n}=this.options;n&&n.updatedAt!==di.now()&&this.tick(di.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(s=this.options).onStop)==null||a.call(s))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;aR(e);const{type:n=vc,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:f}=e;const m=n||vc;m!==vc&&typeof f[0]!="number"&&(this.mixKeyframes=sh(j3,iR(f[0],f[1])),f=[0,100]);const p=m({...e,keyframes:f});l==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...f].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=g0(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:f,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:y,repeat:v,repeatType:b,repeatDelay:A,type:D,onUpdate:V,finalKeyframe:M}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const F=this.currentTime-p*(this.playbackSpeed>=0?1:-1),q=this.playbackSpeed>=0?F<0:F>a;this.currentTime=Math.max(F,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let H=this.currentTime,ne=s;if(v){const C=Math.min(this.currentTime,a)/f;let R=Math.floor(C),L=C%1;!L&&C>=1&&(L=1),L===1&&R--,R=Math.min(R,v+1),!!(R%2)&&(b==="reverse"?(L=1-L,A&&(L-=A/f)):b==="mirror"&&(ne=c)),H=xr(0,1,L)*f}const J=q?{done:!1,value:y[0]}:ne.next(H);l&&(J.value=l(J.value));let{done:he}=J;!q&&m!==null&&(he=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&he);return I&&D!==Cy&&(J.value=y0(y,this.options,M,this.speed)),V&&V(J.value),I&&this.finish(),J}then(e,n){return this.finished.then(e,n)}get duration(){return Ki(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ki(e)}get time(){return Ki(this.currentTime)}set time(e){var n;e=Bs(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(di.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ki(this.currentTime))}play(){var a,l;if(this.isStopped)return;const{driver:e=E3,startTime:n}=this.options;this.driver||(this.driver=e(c=>this.tick(c))),(l=(a=this.options).onPlay)==null||l.call(a);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(di.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function U3(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ho=t=>t*180/Math.PI,Ry=t=>{const e=ho(Math.atan2(t[1],t[0]));return Iy(e)},B3={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Ry,rotateZ:Ry,skewX:t=>ho(Math.atan(t[1])),skewY:t=>ho(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Iy=t=>(t=t%360,t<0&&(t+=360),t),cS=Ry,hS=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),fS=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),z3={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:hS,scaleY:fS,scale:t=>(hS(t)+fS(t))/2,rotateX:t=>Iy(ho(Math.atan2(t[6],t[5]))),rotateY:t=>Iy(ho(Math.atan2(-t[2],t[0]))),rotateZ:cS,rotate:cS,skewX:t=>ho(Math.atan(t[4])),skewY:t=>ho(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Ny(t){return t.includes("scale")?1:0}function Dy(t,e){if(!t||t==="none")return Ny(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=z3,a=n;else{const f=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=B3,a=f}if(!a)return Ny(e);const l=s[e],c=a[1].split(",").map(H3);return typeof l=="function"?l(c):c[l]}const F3=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Dy(n,e)};function H3(t){return parseFloat(t.trim())}const Wl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Zl=new Set(Wl),dS=t=>t===Xl||t===Le,q3=new Set(["x","y","z"]),G3=Wl.filter(t=>!q3.has(t));function K3(t){const e=[];return G3.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const po={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Dy(e,"x"),y:(t,{transform:e})=>Dy(e,"y")};po.translateX=po.x;po.translateY=po.y;const go=new Set;let Vy=!1,Oy=!1,My=!1;function oR(){if(Oy){const t=Array.from(go).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=K3(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,c])=>{var f;(f=s.getValue(l))==null||f.set(c)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Oy=!1,Vy=!1,go.forEach(t=>t.complete(My)),go.clear()}function lR(){go.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Oy=!0)})}function Y3(){My=!0,lR(),oR(),My=!1}class T0{constructor(e,n,s,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(go.add(this),Vy||(Vy=!0,Ft.read(lR),Ft.resolveKeyframes(oR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a==null?void 0:a.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const f=s.readValue(n,c);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}U3(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),go.delete(this)}cancel(){this.state==="scheduled"&&(go.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const $3=t=>t.startsWith("--");function Q3(t,e,n){$3(e)?t.style.setProperty(e,n):t.style[e]=n}const X3=o0(()=>window.ScrollTimeline!==void 0),W3={};function Z3(t,e){const n=o0(t);return()=>W3[e]??n()}const uR=Z3(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),uc=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,mS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:uc([0,.65,.55,1]),circOut:uc([.55,0,1,.45]),backIn:uc([.31,.01,.66,-.59]),backOut:uc([.33,1.53,.69,.99])};function cR(t,e){if(t)return typeof t=="function"?uR()?sR(t,e):"ease-out":$C(t)?uc(t):Array.isArray(t)?t.map(n=>cR(n,e)||mS.easeOut):mS[t]}function J3(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:f="easeOut",times:m}={},p=void 0){const y={[e]:n};m&&(y.offset=m);const v=cR(f,a);Array.isArray(v)&&(y.easing=v);const b={delay:s,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(b.pseudoElement=p),t.animate(y,b)}function hR(t){return typeof t=="function"&&"applyToOptions"in t}function e6({type:t,...e}){return hR(t)&&uR()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class t6 extends v0{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:f,onComplete:m}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,a0(typeof e.type!="string");const p=e6(e);this.animation=J3(n,s,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=y0(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(y):Q3(n,s,y),this.animation.cancel()}m==null||m(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,s;const e=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return Ki(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ki(e)}get time(){return Ki(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Bs(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&X3()?(this.animation.timeline=e,Yi):n(this)}}const fR={anticipate:qC,backInOut:HC,circInOut:KC};function n6(t){return t in fR}function i6(t){typeof t.ease=="string"&&n6(t.ease)&&(t.ease=fR[t.ease])}const pS=10;class s6 extends t6{constructor(e){i6(e),aR(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const f=new _0({...c,autoplay:!1}),m=Bs(this.finishedTime??this.time);n.setWithVelocity(f.sample(m-pS).value,f.sample(m).value,pS),f.stop()}}const gS=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ca.test(t)||t==="0")&&!t.startsWith("url("));function r6(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function a6(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=gS(a,e),f=gS(l,e);return!c||!f?!1:r6(t)||(n==="spring"||hR(n))&&s}function Py(t){t.duration=0,t.type="keyframes"}const o6=new Set(["opacity","clipPath","filter","transform"]),l6=o0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function u6(t){var y;const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:c}=t;if(!(((y=e==null?void 0:e.owner)==null?void 0:y.current)instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=e.owner.getProps();return l6()&&n&&o6.has(n)&&(n!=="transform"||!p)&&!m&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}const c6=40;class h6 extends v0{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:f,name:m,motionValue:p,element:y,...v}){var D;super(),this.stop=()=>{var V,M;this._animation&&(this._animation.stop(),(V=this.stopTimeline)==null||V.call(this)),(M=this.keyframeResolver)==null||M.cancel()},this.createdAt=di.now();const b={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:c,name:m,motionValue:p,element:y,...v},A=(y==null?void 0:y.KeyframeResolver)||T0;this.keyframeResolver=new A(f,(V,M,F)=>this.onKeyframesResolved(V,M,b,!F),m,p,y),(D=this.keyframeResolver)==null||D.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:f,delay:m,isHandoff:p,onUpdate:y}=s;this.resolvedAt=di.now(),a6(e,l,c,f)||((Cr.instantAnimations||!m)&&(y==null||y(y0(e,s,n))),e[0]=e[e.length-1],Py(s),s.repeat=0);const b={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>c6?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},A=!p&&u6(b)?new s6({...b,element:b.motionValue.owner.current}):new _0(b);A.finished.then(()=>this.notifyFinished()).catch(Yi),this.pendingTimeline&&(this.stopTimeline=A.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=A}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),Y3()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const f6=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function d6(t){const e=f6.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function dR(t,e,n=1){const[s,a]=d6(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const c=l.trim();return PC(c)?parseFloat(c):c}return f0(a)?dR(a,e,n+1):a}function E0(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const mR=new Set(["width","height","top","left","right","bottom",...Wl]),m6={test:t=>t==="auto",parse:t=>t},pR=t=>e=>e.test(t),gR=[Xl,Le,zs,ua,r3,s3,m6],yS=t=>gR.find(pR(t));function p6(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||LC(t):!0}const g6=new Set(["brightness","contrast","saturate","opacity"]);function y6(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(d0)||[];if(!s)return t;const a=n.replace(s,"");let l=g6.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const v6=/\b([a-z-]*)\(.*?\)/gu,ky={...Ca,getAnimatableNone:t=>{const e=t.match(v6);return e?e.map(y6).join(" "):t}},vS={...Xl,transform:Math.round},_6={rotate:ua,rotateX:ua,rotateY:ua,rotateZ:ua,scale:zf,scaleX:zf,scaleY:zf,scaleZ:zf,skew:ua,skewX:ua,skewY:ua,distance:Le,translateX:Le,translateY:Le,translateZ:Le,x:Le,y:Le,z:Le,perspective:Le,transformPerspective:Le,opacity:kc,originX:rS,originY:rS,originZ:Le},b0={borderWidth:Le,borderTopWidth:Le,borderRightWidth:Le,borderBottomWidth:Le,borderLeftWidth:Le,borderRadius:Le,radius:Le,borderTopLeftRadius:Le,borderTopRightRadius:Le,borderBottomRightRadius:Le,borderBottomLeftRadius:Le,width:Le,maxWidth:Le,height:Le,maxHeight:Le,top:Le,right:Le,bottom:Le,left:Le,padding:Le,paddingTop:Le,paddingRight:Le,paddingBottom:Le,paddingLeft:Le,margin:Le,marginTop:Le,marginRight:Le,marginBottom:Le,marginLeft:Le,backgroundPositionX:Le,backgroundPositionY:Le,..._6,zIndex:vS,fillOpacity:kc,strokeOpacity:kc,numOctaves:vS},T6={...b0,color:pn,backgroundColor:pn,outlineColor:pn,fill:pn,stroke:pn,borderColor:pn,borderTopColor:pn,borderRightColor:pn,borderBottomColor:pn,borderLeftColor:pn,filter:ky,WebkitFilter:ky},yR=t=>T6[t];function vR(t,e){let n=yR(t);return n!==ky&&(n=Ca),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const E6=new Set(["auto","none","0"]);function b6(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!E6.has(l)&&Lc(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=vR(n,a)}class w6 extends T0{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let p=e[m];if(typeof p=="string"&&(p=p.trim(),f0(p))){const y=dR(p,n.current);y!==void 0&&(e[m]=y),m===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!mR.has(s)||e.length!==2)return;const[a,l]=e,c=yS(a),f=yS(l);if(c!==f)if(dS(c)&&dS(f))for(let m=0;m<e.length;m++){const p=e[m];typeof p=="string"&&(e[m]=parseFloat(p))}else po[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||p6(e[a]))&&s.push(a);s.length&&b6(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=po[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){var f;const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=po[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(f=this.removedTransforms)!=null&&f.length&&this.removedTransforms.forEach(([m,p])=>{e.getValue(m).set(p)}),this.resolveNoneKeyframes()}}function S6(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=(n==null?void 0:n[t])??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const _R=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function TR(t){return kC(t)&&"offsetHeight"in t}const _S=30,A6=t=>!isNaN(parseFloat(t));class x6{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var l;const a=di.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=di.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=A6(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new l0);const s=this.events[e].add(n);return e==="change"?()=>{s(),Ft.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=di.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>_S)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,_S);return jC(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function jl(t,e){return new x6(t,e)}const{schedule:w0}=QC(queueMicrotask,!1),as={x:!1,y:!1};function ER(){return as.x||as.y}function C6(t){return t==="x"||t==="y"?as[t]?null:(as[t]=!0,()=>{as[t]=!1}):as.x||as.y?null:(as.x=as.y=!0,()=>{as.x=as.y=!1})}function bR(t,e){const n=S6(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function TS(t){return!(t.pointerType==="touch"||ER())}function R6(t,e,n={}){const[s,a,l]=bR(t,n),c=f=>{if(!TS(f))return;const{target:m}=f,p=e(m,f);if(typeof p!="function"||!m)return;const y=v=>{TS(v)&&(p(v),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,a)};return s.forEach(f=>{f.addEventListener("pointerenter",c,a)}),l}const wR=(t,e)=>e?t===e?!0:wR(t,e.parentElement):!1,S0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,I6=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function N6(t){return I6.has(t.tagName)||t.tabIndex!==-1}const sd=new WeakSet;function ES(t){return e=>{e.key==="Enter"&&t(e)}}function Lg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const D6=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=ES(()=>{if(sd.has(n))return;Lg(n,"down");const a=ES(()=>{Lg(n,"up")}),l=()=>Lg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function bS(t){return S0(t)&&!ER()}function V6(t,e,n={}){const[s,a,l]=bR(t,n),c=f=>{const m=f.currentTarget;if(!bS(f))return;sd.add(m);const p=e(m,f),y=(A,D)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",b),sd.has(m)&&sd.delete(m),bS(A)&&typeof p=="function"&&p(A,{success:D})},v=A=>{y(A,m===window||m===document||n.useGlobalTarget||wR(m,A.target))},b=A=>{y(A,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",b,a)};return s.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",c,a),TR(f)&&(f.addEventListener("focus",p=>D6(p,a)),!N6(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function SR(t){return kC(t)&&"ownerSVGElement"in t}function O6(t){return SR(t)&&t.tagName==="svg"}const Gn=t=>!!(t&&t.getVelocity),M6=[...gR,pn,Ca],P6=t=>M6.find(pR(t)),A0=O.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function wS(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function k6(...t){return e=>{let n=!1;const s=t.map(a=>{const l=wS(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():wS(t[a],null)}}}}function L6(...t){return O.useCallback(k6(...t),t)}class j6 extends O.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,a=TR(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function U6({children:t,isPresent:e,anchorX:n,root:s}){const a=O.useId(),l=O.useRef(null),c=O.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:f}=O.useContext(A0),m=L6(l,t==null?void 0:t.ref);return O.useInsertionEffect(()=>{const{width:p,height:y,top:v,left:b,right:A}=c.current;if(e||!l.current||!p||!y)return;const D=n==="left"?`left: ${b}`:`right: ${A}`;l.current.dataset.motionPopId=a;const V=document.createElement("style");f&&(V.nonce=f);const M=s??document.head;return M.appendChild(V),V.sheet&&V.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${y}px !important;
            ${D}px !important;
            top: ${v}px !important;
          }
        `),()=>{M.contains(V)&&M.removeChild(V)}},[e]),T.jsx(j6,{isPresent:e,childRef:l,sizeRef:c,children:O.cloneElement(t,{ref:m})})}const B6=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:c,anchorX:f,root:m})=>{const p=n0(z6),y=O.useId();let v=!0,b=O.useMemo(()=>(v=!1,{id:y,initial:e,isPresent:n,custom:a,onExitComplete:A=>{p.set(A,!0);for(const D of p.values())if(!D)return;s&&s()},register:A=>(p.set(A,!1),()=>p.delete(A))}),[n,p,s]);return l&&v&&(b={...b}),O.useMemo(()=>{p.forEach((A,D)=>p.set(D,!1))},[n]),O.useEffect(()=>{!n&&!p.size&&s&&s()},[n]),c==="popLayout"&&(t=T.jsx(U6,{isPresent:n,anchorX:f,root:m,children:t})),T.jsx(fm.Provider,{value:b,children:t})};function z6(){return new Map}function AR(t=!0){const e=O.useContext(fm);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=O.useId();O.useEffect(()=>{if(t)return a(l)},[t]);const c=O.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,c]:[!0]}const Ff=t=>t.key||"";function SS(t){const e=[];return O.Children.forEach(t,n=>{O.isValidElement(n)&&e.push(n)}),e}const oo=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:f="left",root:m})=>{const[p,y]=AR(c),v=O.useMemo(()=>SS(t),[t]),b=c&&!p?[]:v.map(Ff),A=O.useRef(!0),D=O.useRef(v),V=n0(()=>new Map),[M,F]=O.useState(v),[q,H]=O.useState(v);MC(()=>{A.current=!1,D.current=v;for(let he=0;he<q.length;he++){const I=Ff(q[he]);b.includes(I)?V.delete(I):V.get(I)!==!0&&V.set(I,!1)}},[q,b.length,b.join("-")]);const ne=[];if(v!==M){let he=[...v];for(let I=0;I<q.length;I++){const C=q[I],R=Ff(C);b.includes(R)||(he.splice(I,0,C),ne.push(C))}return l==="wait"&&ne.length&&(he=ne),H(SS(he)),F(v),null}const{forceRender:J}=O.useContext(t0);return T.jsx(T.Fragment,{children:q.map(he=>{const I=Ff(he),C=c&&!p?!1:v===q||b.includes(I),R=()=>{if(V.has(I))V.set(I,!0);else return;let L=!0;V.forEach(k=>{k||(L=!1)}),L&&(J==null||J(),H(D.current),c&&(y==null||y()),s&&s())};return T.jsx(B6,{isPresent:C,initial:!A.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:m,onExitComplete:C?void 0:R,anchorX:f,children:he},I)})})},xR=O.createContext({strict:!1}),AS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ul={};for(const t in AS)Ul[t]={isEnabled:e=>AS[t].some(n=>!!e[n])};function F6(t){for(const e in t)Ul[e]={...Ul[e],...t[e]}}const H6=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Od(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||H6.has(t)}let CR=t=>!Od(t);function q6(t){typeof t=="function"&&(CR=e=>e.startsWith("on")?!Od(e):t(e))}try{q6(require("@emotion/is-prop-valid").default)}catch{}function G6(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(CR(a)||n===!0&&Od(a)||!e&&!Od(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const dm=O.createContext({});function mm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function jc(t){return typeof t=="string"||Array.isArray(t)}const x0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],C0=["initial",...x0];function pm(t){return mm(t.animate)||C0.some(e=>jc(t[e]))}function RR(t){return!!(pm(t)||t.variants)}function K6(t,e){if(pm(t)){const{initial:n,animate:s}=t;return{initial:n===!1||jc(n)?n:void 0,animate:jc(s)?s:void 0}}return t.inherit!==!1?e:{}}function Y6(t){const{initial:e,animate:n}=K6(t,O.useContext(dm));return O.useMemo(()=>({initial:e,animate:n}),[xS(e),xS(n)])}function xS(t){return Array.isArray(t)?t.join(" "):t}const Uc={};function $6(t){for(const e in t)Uc[e]=t[e],h0(e)&&(Uc[e].isCSSVariable=!0)}function IR(t,{layout:e,layoutId:n}){return Zl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Uc[t]||t==="opacity")}const Q6={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},X6=Wl.length;function W6(t,e,n){let s="",a=!0;for(let l=0;l<X6;l++){const c=Wl[l],f=t[c];if(f===void 0)continue;let m=!0;if(typeof f=="number"?m=f===(c.startsWith("scale")?1:0):m=parseFloat(f)===0,!m||n){const p=_R(f,b0[c]);if(!m){a=!1;const y=Q6[c]||c;s+=`${y}(${p}) `}n&&(e[c]=p)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function R0(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let c=!1,f=!1;for(const m in e){const p=e[m];if(Zl.has(m)){c=!0;continue}else if(h0(m)){a[m]=p;continue}else{const y=_R(p,b0[m]);m.startsWith("origin")?(f=!0,l[m]=y):s[m]=y}}if(e.transform||(c||n?s.transform=W6(e,t.transform,n):s.transform&&(s.transform="none")),f){const{originX:m="50%",originY:p="50%",originZ:y=0}=l;s.transformOrigin=`${m} ${p} ${y}`}}const I0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function NR(t,e,n){for(const s in e)!Gn(e[s])&&!IR(s,n)&&(t[s]=e[s])}function Z6({transformTemplate:t},e){return O.useMemo(()=>{const n=I0();return R0(n,e,t),Object.assign({},n.vars,n.style)},[e])}function J6(t,e){const n=t.style||{},s={};return NR(s,n,t),Object.assign(s,Z6(t,e)),s}function e5(t,e){const n={},s=J6(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const t5={offset:"stroke-dashoffset",array:"stroke-dasharray"},n5={offset:"strokeDashoffset",array:"strokeDasharray"};function i5(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?t5:n5;t[l.offset]=Le.transform(-s);const c=Le.transform(e),f=Le.transform(n);t[l.array]=`${c} ${f}`}function DR(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...f},m,p,y){if(R0(t,f,p),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:b}=t;v.transform&&(b.transform=v.transform,delete v.transform),(b.transform||v.transformOrigin)&&(b.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),b.transform&&(b.transformBox=(y==null?void 0:y.transformBox)??"fill-box",delete v.transformBox),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),s!==void 0&&(v.scale=s),a!==void 0&&i5(v,a,l,c,!1)}const VR=()=>({...I0(),attrs:{}}),OR=t=>typeof t=="string"&&t.toLowerCase()==="svg";function s5(t,e,n,s){const a=O.useMemo(()=>{const l=VR();return DR(l,e,OR(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};NR(l,t.style,t),a.style={...l,...a.style}}return a}const r5=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function N0(t){return typeof t!="string"||t.includes("-")?!1:!!(r5.indexOf(t)>-1||/[A-Z]/u.test(t))}function a5(t,e,n,{latestValues:s},a,l=!1){const f=(N0(t)?s5:e5)(e,s,a,t),m=G6(e,typeof t=="string",l),p=t!==O.Fragment?{...m,...f,ref:n}:{},{children:y}=e,v=O.useMemo(()=>Gn(y)?y.get():y,[y]);return O.createElement(t,{...p,children:v})}function CS(t){const e=[{},{}];return t==null||t.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function D0(t,e,n,s){if(typeof e=="function"){const[a,l]=CS(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=CS(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function rd(t){return Gn(t)?t.get():t}function o5({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:l5(n,s,a,t),renderState:e()}}function l5(t,e,n,s){const a={},l=s(t,{});for(const b in l)a[b]=rd(l[b]);let{initial:c,animate:f}=t;const m=pm(t),p=RR(t);e&&p&&!m&&t.inherit!==!1&&(c===void 0&&(c=e.initial),f===void 0&&(f=e.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const v=y?f:c;if(v&&typeof v!="boolean"&&!mm(v)){const b=Array.isArray(v)?v:[v];for(let A=0;A<b.length;A++){const D=D0(t,b[A]);if(D){const{transitionEnd:V,transition:M,...F}=D;for(const q in F){let H=F[q];if(Array.isArray(H)){const ne=y?H.length-1:0;H=H[ne]}H!==null&&(a[q]=H)}for(const q in V)a[q]=V[q]}}}return a}const MR=t=>(e,n)=>{const s=O.useContext(dm),a=O.useContext(fm),l=()=>o5(t,e,s,a);return n?l():n0(l)};function V0(t,e,n){var l;const{style:s}=t,a={};for(const c in s)(Gn(s[c])||e.style&&Gn(e.style[c])||IR(c,t)||((l=n==null?void 0:n.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(a[c]=s[c]);return a}const u5=MR({scrapeMotionValuesFromProps:V0,createRenderState:I0});function PR(t,e,n){const s=V0(t,e,n);for(const a in t)if(Gn(t[a])||Gn(e[a])){const l=Wl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}const c5=MR({scrapeMotionValuesFromProps:PR,createRenderState:VR}),h5=Symbol.for("motionComponentSymbol");function El(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function f5(t,e,n){return O.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):El(n)&&(n.current=s))},[e])}const O0=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),d5="framerAppearId",kR="data-"+O0(d5),LR=O.createContext({});function m5(t,e,n,s,a){var V,M;const{visualElement:l}=O.useContext(dm),c=O.useContext(xR),f=O.useContext(fm),m=O.useContext(A0).reducedMotion,p=O.useRef(null);s=s||c.renderer,!p.current&&s&&(p.current=s(t,{visualState:e,parent:l,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:m}));const y=p.current,v=O.useContext(LR);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&p5(p.current,n,a,v);const b=O.useRef(!1);O.useInsertionEffect(()=>{y&&b.current&&y.update(n,f)});const A=n[kR],D=O.useRef(!!A&&!((V=window.MotionHandoffIsComplete)!=null&&V.call(window,A))&&((M=window.MotionHasOptimisedAnimation)==null?void 0:M.call(window,A)));return MC(()=>{y&&(b.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),D.current&&y.animationState&&y.animationState.animateChanges())}),O.useEffect(()=>{y&&(!D.current&&y.animationState&&y.animationState.animateChanges(),D.current&&(queueMicrotask(()=>{var F;(F=window.MotionHandoffMarkAsComplete)==null||F.call(window,A)}),D.current=!1),y.enteringChildren=void 0)}),y}function p5(t,e,n,s){const{layoutId:a,layout:l,drag:c,dragConstraints:f,layoutScroll:m,layoutRoot:p,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:jR(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||f&&El(f),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:m,layoutRoot:p})}function jR(t){if(t)return t.options.allowProjection!==!1?t.projection:jR(t.parent)}function jg(t,{forwardMotionProps:e=!1}={},n,s){n&&F6(n);const a=N0(t)?c5:u5;function l(f,m){let p;const y={...O.useContext(A0),...f,layoutId:g5(f)},{isStatic:v}=y,b=Y6(f),A=a(f,v);if(!v&&i0){y5();const D=v5(y);p=D.MeasureLayout,b.visualElement=m5(t,A,y,s,D.ProjectionNode)}return T.jsxs(dm.Provider,{value:b,children:[p&&b.visualElement?T.jsx(p,{visualElement:b.visualElement,...y}):null,a5(t,f,f5(A,b.visualElement,m),A,v,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=O.forwardRef(l);return c[h5]=t,c}function g5({layoutId:t}){const e=O.useContext(t0).id;return e&&t!==void 0?e+"-"+t:t}function y5(t,e){O.useContext(xR).strict}function v5(t){const{drag:e,layout:n}=Ul;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function _5(t,e){if(typeof Proxy>"u")return jg;const n=new Map,s=(l,c)=>jg(l,c,t,e),a=(l,c)=>s(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?s:(n.has(c)||n.set(c,jg(c,void 0,t,e)),n.get(c))})}function UR({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function T5({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function E5(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Ug(t){return t===void 0||t===1}function Ly({scale:t,scaleX:e,scaleY:n}){return!Ug(t)||!Ug(e)||!Ug(n)}function ao(t){return Ly(t)||BR(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function BR(t){return RS(t.x)||RS(t.y)}function RS(t){return t&&t!=="0%"}function Md(t,e,n){const s=t-n,a=e*s;return n+a}function IS(t,e,n,s,a){return a!==void 0&&(t=Md(t,a,s)),Md(t,n,s)+e}function jy(t,e=0,n=1,s,a){t.min=IS(t.min,e,n,s,a),t.max=IS(t.max,e,n,s,a)}function zR(t,{x:e,y:n}){jy(t.x,e.translate,e.scale,e.originPoint),jy(t.y,n.translate,n.scale,n.originPoint)}const NS=.999999999999,DS=1.0000000000001;function b5(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let f=0;f<a;f++){l=n[f],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&wl(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,zR(t,c)),s&&ao(l.latestValues)&&wl(t,l.latestValues))}e.x<DS&&e.x>NS&&(e.x=1),e.y<DS&&e.y>NS&&(e.y=1)}function bl(t,e){t.min=t.min+e,t.max=t.max+e}function VS(t,e,n,s,a=.5){const l=qt(t.min,t.max,a);jy(t,e,n,l,s)}function wl(t,e){VS(t.x,e.x,e.scaleX,e.scale,e.originX),VS(t.y,e.y,e.scaleY,e.scale,e.originY)}function FR(t,e){return UR(E5(t.getBoundingClientRect(),e))}function w5(t,e,n){const s=FR(t,n),{scroll:a}=e;return a&&(bl(s.x,a.offset.x),bl(s.y,a.offset.y)),s}const OS=()=>({translate:0,scale:1,origin:0,originPoint:0}),Sl=()=>({x:OS(),y:OS()}),MS=()=>({min:0,max:0}),tn=()=>({x:MS(),y:MS()}),Uy={current:null},HR={current:!1};function S5(){if(HR.current=!0,!!i0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Uy.current=t.matches;t.addEventListener("change",e),e()}else Uy.current=!1}const A5=new WeakMap;function x5(t,e,n){for(const s in e){const a=e[s],l=n[s];if(Gn(a))t.addValue(s,a);else if(Gn(l))t.addValue(s,jl(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const c=t.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(s);t.addValue(s,jl(c!==void 0?c:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const PS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class C5{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=T0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=di.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,Ft.render(this.render,!1,!0))};const{latestValues:m,renderState:p}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=pm(n),this.isVariantNode=RR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in v){const A=v[b];m[b]!==void 0&&Gn(A)&&A.set(m[b])}}mount(e){var n;this.current=e,A5.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,a)=>this.bindToMotionValue(a,s)),HR.current||S5(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Uy.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),xa(this.notifyUpdate),xa(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const s=this.features[n];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Zl.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&Ft.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ul){const n=Ul[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):tn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<PS.length;s++){const a=PS[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=x5(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=jl(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(PC(s)||LC(s))?s=parseFloat(s):!P6(s)&&Ca.test(n)&&(s=vR(e,n)),this.setBaseTarget(e,Gn(s)?s.get():s)),Gn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var l;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const c=D0(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);c&&(s=c[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Gn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new l0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){w0.render(this.render)}}class qR extends C5{constructor(){super(...arguments),this.KeyframeResolver=w6}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Gn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function GR(t,{style:e,vars:n},s,a){const l=t.style;let c;for(c in e)l[c]=e[c];a==null||a.applyProjectionStyles(l,s);for(c in n)l.setProperty(c,n[c])}function R5(t){return window.getComputedStyle(t)}class I5 extends qR{constructor(){super(...arguments),this.type="html",this.renderInstance=GR}readValueFromInstance(e,n){var s;if(Zl.has(n))return(s=this.projection)!=null&&s.isProjecting?Ny(n):F3(e,n);{const a=R5(e),l=(h0(n)?a.getPropertyValue(n):a[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(e,{transformPagePoint:n}){return FR(e,n)}build(e,n,s){R0(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return V0(e,n,s)}}const KR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function N5(t,e,n,s){GR(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(KR.has(a)?a:O0(a),e.attrs[a])}class D5 extends qR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=tn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Zl.has(n)){const s=yR(n);return s&&s.default||0}return n=KR.has(n)?n:O0(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return PR(e,n,s)}build(e,n,s){DR(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){N5(e,n,s,a)}mount(e){this.isSVGTag=OR(e.tagName),super.mount(e)}}const V5=(t,e)=>N0(t)?new D5(e):new I5(e,{allowProjection:t!==O.Fragment});function Dl(t,e,n){const s=t.getProps();return D0(s,e,n!==void 0?n:s.custom,t)}const By=t=>Array.isArray(t);function O5(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,jl(n))}function M5(t){return By(t)?t[t.length-1]||0:t}function P5(t,e){const n=Dl(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const c in l){const f=M5(l[c]);O5(t,c,f)}}function k5(t){return!!(Gn(t)&&t.add)}function zy(t,e){const n=t.getValue("willChange");if(k5(n))return n.add(e);if(!n&&Cr.WillChange){const s=new Cr.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function YR(t){return t.props[kR]}const L5=t=>t!==null;function j5(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(L5),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const U5={type:"spring",stiffness:500,damping:25,restSpeed:10},B5=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),z5={type:"keyframes",duration:.8},F5={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},H5=(t,{keyframes:e})=>e.length>2?z5:Zl.has(t)?t.startsWith("scale")?B5(e[1]):U5:F5;function q5({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:f,from:m,elapsed:p,...y}){return!!Object.keys(y).length}const M0=(t,e,n,s={},a,l)=>c=>{const f=E0(s,t)||{},m=f.delay||s.delay||0;let{elapsed:p=0}=s;p=p-Bs(m);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-p,onUpdate:b=>{e.set(b),f.onUpdate&&f.onUpdate(b)},onComplete:()=>{c(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:l?void 0:a};q5(f)||Object.assign(y,H5(t,y)),y.duration&&(y.duration=Bs(y.duration)),y.repeatDelay&&(y.repeatDelay=Bs(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let v=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(Py(y),y.delay===0&&(v=!0)),(Cr.instantAnimations||Cr.skipAnimations)&&(v=!0,Py(y),y.delay=0),y.allowFlatten=!f.type&&!f.ease,v&&!l&&e.get()!==void 0){const b=j5(y.keyframes,f);if(b!==void 0){Ft.update(()=>{y.onUpdate(b),y.onComplete()});return}}return f.isSync?new _0(y):new h6(y)};function G5({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function $R(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...f}=e;s&&(l=s);const m=[],p=a&&t.animationState&&t.animationState.getState()[a];for(const y in f){const v=t.getValue(y,t.latestValues[y]??null),b=f[y];if(b===void 0||p&&G5(p,y))continue;const A={delay:n,...E0(l||{},y)},D=v.get();if(D!==void 0&&!v.isAnimating&&!Array.isArray(b)&&b===D&&!A.velocity)continue;let V=!1;if(window.MotionHandoffAnimation){const F=YR(t);if(F){const q=window.MotionHandoffAnimation(F,y,Ft);q!==null&&(A.startTime=q,V=!0)}}zy(t,y),v.start(M0(y,v,b,t.shouldReduceMotion&&mR.has(y)?{type:!1}:A,t,V));const M=v.animation;M&&m.push(M)}return c&&Promise.all(m).then(()=>{Ft.update(()=>{c&&P5(t,c)})}),m}function QR(t,e,n,s=0,a=1){const l=Array.from(t).sort((p,y)=>p.sortNodePosition(y)).indexOf(e),c=t.size,f=(c-1)*s;return typeof n=="function"?n(l,c):a===1?l*s:f-l*s}function Fy(t,e,n={}){var m;const s=Dl(t,e,n.type==="exit"?(m=t.presenceContext)==null?void 0:m.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all($R(t,s,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:y=0,staggerChildren:v,staggerDirection:b}=a;return K5(t,e,p,y,v,b,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[p,y]=f==="beforeChildren"?[l,c]:[c,l];return p().then(()=>y())}else return Promise.all([l(),c(n.delay)])}function K5(t,e,n=0,s=0,a=0,l=1,c){const f=[];for(const m of t.variantChildren)m.notify("AnimationStart",e),f.push(Fy(m,e,{...c,delay:n+(typeof s=="function"?0:s)+QR(t.variantChildren,m,s,a,l)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(f)}function Y5(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>Fy(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=Fy(t,e,n);else{const a=typeof e=="function"?Dl(t,e,n.custom):e;s=Promise.all($R(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function XR(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const $5=C0.length;function WR(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?WR(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<$5;n++){const s=C0[n],a=t.props[s];(jc(a)||a===!1)&&(e[s]=a)}return e}const Q5=[...x0].reverse(),X5=x0.length;function W5(t){return e=>Promise.all(e.map(({animation:n,options:s})=>Y5(t,n,s)))}function Z5(t){let e=W5(t),n=kS(),s=!0;const a=m=>(p,y)=>{var b;const v=Dl(t,y,m==="exit"?(b=t.presenceContext)==null?void 0:b.custom:void 0);if(v){const{transition:A,transitionEnd:D,...V}=v;p={...p,...V,...D}}return p};function l(m){e=m(t)}function c(m){const{props:p}=t,y=WR(t.parent)||{},v=[],b=new Set;let A={},D=1/0;for(let M=0;M<X5;M++){const F=Q5[M],q=n[F],H=p[F]!==void 0?p[F]:y[F],ne=jc(H),J=F===m?q.isActive:null;J===!1&&(D=M);let he=H===y[F]&&H!==p[F]&&ne;if(he&&s&&t.manuallyAnimateOnMount&&(he=!1),q.protectedKeys={...A},!q.isActive&&J===null||!H&&!q.prevProp||mm(H)||typeof H=="boolean")continue;const I=J5(q.prevProp,H);let C=I||F===m&&q.isActive&&!he&&ne||M>D&&ne,R=!1;const L=Array.isArray(H)?H:[H];let k=L.reduce(a(F),{});J===!1&&(k={});const{prevResolvedValues:U={}}=q,N={...U,...k},Re=ie=>{C=!0,b.has(ie)&&(R=!0,b.delete(ie)),q.needsAnimating[ie]=!0;const ve=t.getValue(ie);ve&&(ve.liveStyle=!1)};for(const ie in N){const ve=k[ie],Oe=U[ie];if(A.hasOwnProperty(ie))continue;let He=!1;By(ve)&&By(Oe)?He=!XR(ve,Oe):He=ve!==Oe,He?ve!=null?Re(ie):b.add(ie):ve!==void 0&&b.has(ie)?Re(ie):q.protectedKeys[ie]=!0}q.prevProp=H,q.prevResolvedValues=k,q.isActive&&(A={...A,...k}),s&&t.blockInitialAnimation&&(C=!1);const Fe=he&&I;C&&(!Fe||R)&&v.push(...L.map(ie=>{const ve={type:F};if(typeof ie=="string"&&s&&!Fe&&t.manuallyAnimateOnMount&&t.parent){const{parent:Oe}=t,He=Dl(Oe,ie);if(Oe.enteringChildren&&He){const{delayChildren:B}=He.transition||{};ve.delay=QR(Oe.enteringChildren,t,B)}}return{animation:ie,options:ve}}))}if(b.size){const M={};if(typeof p.initial!="boolean"){const F=Dl(t,Array.isArray(p.initial)?p.initial[0]:p.initial);F&&F.transition&&(M.transition=F.transition)}b.forEach(F=>{const q=t.getBaseTarget(F),H=t.getValue(F);H&&(H.liveStyle=!0),M[F]=q??null}),v.push({animation:M})}let V=!!v.length;return s&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(V=!1),s=!1,V?e(v):Promise.resolve()}function f(m,p){var v;if(n[m].isActive===p)return Promise.resolve();(v=t.variantChildren)==null||v.forEach(b=>{var A;return(A=b.animationState)==null?void 0:A.setActive(m,p)}),n[m].isActive=p;const y=c(m);for(const b in n)n[b].protectedKeys={};return y}return{animateChanges:c,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=kS()}}}function J5(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!XR(e,t):!1}function so(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function kS(){return{animate:so(!0),whileInView:so(),whileHover:so(),whileTap:so(),whileDrag:so(),whileFocus:so(),exit:so()}}class Oa{constructor(e){this.isMounted=!1,this.node=e}update(){}}class eU extends Oa{constructor(e){super(e),e.animationState||(e.animationState=Z5(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();mm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let tU=0;class nU extends Oa{constructor(){super(...arguments),this.id=tU++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const iU={animation:{Feature:eU},exit:{Feature:nU}};function Bc(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function oh(t){return{point:{x:t.pageX,y:t.pageY}}}const sU=t=>e=>S0(e)&&t(e,oh(e));function _c(t,e,n,s){return Bc(t,e,sU(n),s)}const ZR=1e-4,rU=1-ZR,aU=1+ZR,JR=.01,oU=0-JR,lU=0+JR;function Wn(t){return t.max-t.min}function uU(t,e,n){return Math.abs(t-e)<=n}function LS(t,e,n,s=.5){t.origin=s,t.originPoint=qt(e.min,e.max,t.origin),t.scale=Wn(n)/Wn(e),t.translate=qt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=rU&&t.scale<=aU||isNaN(t.scale))&&(t.scale=1),(t.translate>=oU&&t.translate<=lU||isNaN(t.translate))&&(t.translate=0)}function Tc(t,e,n,s){LS(t.x,e.x,n.x,s?s.originX:void 0),LS(t.y,e.y,n.y,s?s.originY:void 0)}function jS(t,e,n){t.min=n.min+e.min,t.max=t.min+Wn(e)}function cU(t,e,n){jS(t.x,e.x,n.x),jS(t.y,e.y,n.y)}function US(t,e,n){t.min=e.min-n.min,t.max=t.min+Wn(e)}function Ec(t,e,n){US(t.x,e.x,n.x),US(t.y,e.y,n.y)}function qi(t){return[t("x"),t("y")]}const e2=({current:t})=>t?t.ownerDocument.defaultView:null,BS=(t,e)=>Math.abs(t-e);function hU(t,e){const n=BS(t.x,e.x),s=BS(t.y,e.y);return Math.sqrt(n**2+s**2)}class t2{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=zg(this.lastMoveEventInfo,this.history),A=this.startEvent!==null,D=hU(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!A&&!D)return;const{point:V}=b,{timestamp:M}=On;this.history.push({...V,timestamp:M});const{onStart:F,onMove:q}=this.handlers;A||(F&&F(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),q&&q(this.lastMoveEvent,b)},this.handlePointerMove=(b,A)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=Bg(A,this.transformPagePoint),Ft.update(this.updatePoint,!0)},this.handlePointerUp=(b,A)=>{this.end();const{onEnd:D,onSessionEnd:V,resumeAnimation:M}=this.handlers;if(this.dragSnapToOrigin&&M&&M(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const F=zg(b.type==="pointercancel"?this.lastMoveEventInfo:Bg(A,this.transformPagePoint),this.history);this.startEvent&&D&&D(b,F),V&&V(b,F)},!S0(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=a||window;const f=oh(e),m=Bg(f,this.transformPagePoint),{point:p}=m,{timestamp:y}=On;this.history=[{...p,timestamp:y}];const{onSessionStart:v}=n;v&&v(e,zg(m,this.history)),this.removeListeners=sh(_c(this.contextWindow,"pointermove",this.handlePointerMove),_c(this.contextWindow,"pointerup",this.handlePointerUp),_c(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),xa(this.updatePoint)}}function Bg(t,e){return e?{point:e(t.point)}:t}function zS(t,e){return{x:t.x-e.x,y:t.y-e.y}}function zg({point:t},e){return{point:t,delta:zS(t,n2(e)),offset:zS(t,fU(e)),velocity:dU(e,.1)}}function fU(t){return t[0]}function n2(t){return t[t.length-1]}function dU(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=n2(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>Bs(e)));)n--;if(!s)return{x:0,y:0};const l=Ki(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function mU(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?qt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?qt(n,t,s.max):Math.min(t,n)),t}function FS(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function pU(t,{top:e,left:n,bottom:s,right:a}){return{x:FS(t.x,n,a),y:FS(t.y,e,s)}}function HS(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function gU(t,e){return{x:HS(t.x,e.x),y:HS(t.y,e.y)}}function yU(t,e){let n=.5;const s=Wn(t),a=Wn(e);return a>s?n=Pc(e.min,e.max-s,t.min):s>a&&(n=Pc(t.min,t.max-a,e.min)),xr(0,1,n)}function vU(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Hy=.35;function _U(t=Hy){return t===!1?t=0:t===!0&&(t=Hy),{x:qS(t,"left","right"),y:qS(t,"top","bottom")}}function qS(t,e,n){return{min:GS(t,e),max:GS(t,n)}}function GS(t,e){return typeof t=="number"?t:t[e]||0}const TU=new WeakMap;class EU{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=tn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=v=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(oh(v).point)},c=(v,b)=>{const{drag:A,dragPropagation:D,onDragStart:V}=this.getProps();if(A&&!D&&(this.openDragLock&&this.openDragLock(),this.openDragLock=C6(A),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),qi(F=>{let q=this.getAxisMotionValue(F).get()||0;if(zs.test(q)){const{projection:H}=this.visualElement;if(H&&H.layout){const ne=H.layout.layoutBox[F];ne&&(q=Wn(ne)*(parseFloat(q)/100))}}this.originPoint[F]=q}),V&&Ft.postRender(()=>V(v,b)),zy(this.visualElement,"transform");const{animationState:M}=this.visualElement;M&&M.setActive("whileDrag",!0)},f=(v,b)=>{this.latestPointerEvent=v,this.latestPanInfo=b;const{dragPropagation:A,dragDirectionLock:D,onDirectionLock:V,onDrag:M}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:F}=b;if(D&&this.currentDirection===null){this.currentDirection=bU(F),this.currentDirection!==null&&V&&V(this.currentDirection);return}this.updateAxis("x",b.point,F),this.updateAxis("y",b.point,F),this.visualElement.render(),M&&M(v,b)},m=(v,b)=>{this.latestPointerEvent=v,this.latestPanInfo=b,this.stop(v,b),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>qi(v=>{var b;return this.getAnimationState(v)==="paused"&&((b=this.getAxisMotionValue(v).animation)==null?void 0:b.play())}),{dragSnapToOrigin:y}=this.getProps();this.panSession=new t2(e,{onSessionStart:l,onStart:c,onMove:f,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:e2(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:f}=this.getProps();f&&Ft.postRender(()=>f(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!Hf(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=mU(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,a=this.constraints;e&&El(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=pU(s.layoutBox,e):this.constraints=!1,this.elastic=_U(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&qi(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=vU(s.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!El(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=w5(s,a.root,this.visualElement.getTransformPagePoint());let c=gU(a.layout.layoutBox,l);if(n){const f=n(T5(c));this.hasMutatedConstraints=!!f,f&&(c=UR(f))}return c}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},p=qi(y=>{if(!Hf(y,n,this.currentDirection))return;let v=m&&m[y]||{};c&&(v={min:0,max:0});const b=a?200:1e6,A=a?40:1e7,D={type:"inertia",velocity:s?e[y]:0,bounceStiffness:b,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(y,D)});return Promise.all(p).then(f)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return zy(this.visualElement,e),s.start(M0(e,s,0,n,this.visualElement,!1))}stopAnimation(){qi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){qi(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){qi(n=>{const{drag:s}=this.getProps();if(!Hf(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:f}=a.layout.layoutBox[n];l.set(e[n]-qt(c,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!El(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};qi(c=>{const f=this.getAxisMotionValue(c);if(f&&this.constraints!==!1){const m=f.get();a[c]=yU({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),qi(c=>{if(!Hf(c,e,null))return;const f=this.getAxisMotionValue(c),{min:m,max:p}=this.constraints[c];f.set(qt(m,p,a[c]))})}addListeners(){if(!this.visualElement.current)return;TU.set(this.visualElement,this);const e=this.visualElement.current,n=_c(e,"pointerdown",m=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(m)}),s=()=>{const{dragConstraints:m}=this.getProps();El(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Ft.read(s);const c=Bc(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(qi(y=>{const v=this.getAxisMotionValue(y);v&&(this.originPoint[y]+=m[y].translate,v.set(v.get()+m[y].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=Hy,dragMomentum:f=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:f}}}function Hf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function bU(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class wU extends Oa{constructor(e){super(e),this.removeGroupControls=Yi,this.removeListeners=Yi,this.controls=new EU(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Yi}unmount(){this.removeGroupControls(),this.removeListeners()}}const KS=t=>(e,n)=>{t&&Ft.postRender(()=>t(e,n))};class SU extends Oa{constructor(){super(...arguments),this.removePointerDownListener=Yi}onPointerDown(e){this.session=new t2(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:e2(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:KS(e),onStart:KS(n),onMove:s,onEnd:(l,c)=>{delete this.session,a&&Ft.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=_c(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ad={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function YS(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ec={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Le.test(t))t=parseFloat(t);else return t;const n=YS(t,e.target.x),s=YS(t,e.target.y);return`${n}% ${s}%`}},AU={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=Ca.parse(t);if(a.length>5)return s;const l=Ca.createTransformer(t),c=typeof a[0]!="number"?1:0,f=n.x.scale*e.x,m=n.y.scale*e.y;a[0+c]/=f,a[1+c]/=m;const p=qt(f,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}};let Fg=!1;class xU extends O.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;$6(CU),l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),Fg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),ad.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,Fg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||Ft.postRender(()=>{const f=c.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),w0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;Fg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function i2(t){const[e,n]=AR(),s=O.useContext(t0);return T.jsx(xU,{...t,layoutGroup:s,switchLayoutGroup:O.useContext(LR),isPresent:e,safeToRemove:n})}const CU={borderRadius:{...ec,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ec,borderTopRightRadius:ec,borderBottomLeftRadius:ec,borderBottomRightRadius:ec,boxShadow:AU};function RU(t,e,n){const s=Gn(t)?t:jl(t);return s.start(M0("",s,e,n)),s.animation}const IU=(t,e)=>t.depth-e.depth;class NU{constructor(){this.children=[],this.isDirty=!1}add(e){s0(this.children,e),this.isDirty=!0}remove(e){r0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(IU),this.isDirty=!1,this.children.forEach(e)}}function DU(t,e){const n=di.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(xa(s),t(l-e))};return Ft.setup(s,!0),()=>xa(s)}const s2=["TopLeft","TopRight","BottomLeft","BottomRight"],VU=s2.length,$S=t=>typeof t=="string"?parseFloat(t):t,QS=t=>typeof t=="number"||Le.test(t);function OU(t,e,n,s,a,l){a?(t.opacity=qt(0,n.opacity??1,MU(s)),t.opacityExit=qt(e.opacity??1,0,PU(s))):l&&(t.opacity=qt(e.opacity??1,n.opacity??1,s));for(let c=0;c<VU;c++){const f=`border${s2[c]}Radius`;let m=XS(e,f),p=XS(n,f);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||QS(m)===QS(p)?(t[f]=Math.max(qt($S(m),$S(p),s),0),(zs.test(p)||zs.test(m))&&(t[f]+="%")):t[f]=p}(e.rotate||n.rotate)&&(t.rotate=qt(e.rotate||0,n.rotate||0,s))}function XS(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const MU=r2(0,.5,GC),PU=r2(.5,.95,Yi);function r2(t,e,n){return s=>s<t?0:s>e?1:n(Pc(t,e,s))}function WS(t,e){t.min=e.min,t.max=e.max}function Hi(t,e){WS(t.x,e.x),WS(t.y,e.y)}function ZS(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function JS(t,e,n,s,a){return t-=e,t=Md(t,1/n,s),a!==void 0&&(t=Md(t,1/a,s)),t}function kU(t,e=0,n=1,s=.5,a,l=t,c=t){if(zs.test(e)&&(e=parseFloat(e),e=qt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let f=qt(l.min,l.max,s);t===l&&(f-=e),t.min=JS(t.min,e,n,f,a),t.max=JS(t.max,e,n,f,a)}function e1(t,e,[n,s,a],l,c){kU(t,e[n],e[s],e[a],e.scale,l,c)}const LU=["x","scaleX","originX"],jU=["y","scaleY","originY"];function t1(t,e,n,s){e1(t.x,e,LU,n?n.x:void 0,s?s.x:void 0),e1(t.y,e,jU,n?n.y:void 0,s?s.y:void 0)}function n1(t){return t.translate===0&&t.scale===1}function a2(t){return n1(t.x)&&n1(t.y)}function i1(t,e){return t.min===e.min&&t.max===e.max}function UU(t,e){return i1(t.x,e.x)&&i1(t.y,e.y)}function s1(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function o2(t,e){return s1(t.x,e.x)&&s1(t.y,e.y)}function r1(t){return Wn(t.x)/Wn(t.y)}function a1(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class BU{constructor(){this.members=[]}add(e){s0(this.members,e),e.scheduleRender()}remove(e){if(r0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function zU(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((a||l||c)&&(s=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:v,rotateY:b,skewX:A,skewY:D}=n;p&&(s=`perspective(${p}px) ${s}`),y&&(s+=`rotate(${y}deg) `),v&&(s+=`rotateX(${v}deg) `),b&&(s+=`rotateY(${b}deg) `),A&&(s+=`skewX(${A}deg) `),D&&(s+=`skewY(${D}deg) `)}const f=t.x.scale*e.x,m=t.y.scale*e.y;return(f!==1||m!==1)&&(s+=`scale(${f}, ${m})`),s||"none"}const Hg=["","X","Y","Z"],FU=1e3;let HU=0;function qg(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function l2(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=YR(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ft,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&l2(s)}function u2({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},f=e==null?void 0:e()){this.id=HU++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(KU),this.nodes.forEach(XU),this.nodes.forEach(WU),this.nodes.forEach(YU)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new NU)}addEventListener(c,f){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new l0),this.eventHandlers.get(c).add(f)}notifyListeners(c,...f){const m=this.eventHandlers.get(c);m&&m.notify(...f)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=SR(c)&&!O6(c),this.instance=c;const{layoutId:f,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||f)&&(this.isLayoutDirty=!0),t){let y,v=0;const b=()=>this.root.updateBlockedByResize=!1;Ft.read(()=>{v=window.innerWidth}),t(c,()=>{const A=window.innerWidth;A!==v&&(v=A,this.root.updateBlockedByResize=!0,y&&y(),y=DU(b,250),ad.hasAnimatedSinceResize&&(ad.hasAnimatedSinceResize=!1,this.nodes.forEach(u1)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&p&&(f||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeLayoutChanged:b,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const D=this.options.transition||p.getDefaultTransition()||n9,{onLayoutAnimationStart:V,onLayoutAnimationComplete:M}=p.getProps(),F=!this.targetLayout||!o2(this.targetLayout,A),q=!v&&b;if(this.options.layoutRoot||this.resumeFrom||q||v&&(F||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const H={...E0(D,"layout"),onPlay:V,onComplete:M};(p.shouldReduceMotion||this.options.layoutRoot)&&(H.delay=0,H.type=!1),this.startAnimation(H),this.setAnimationOrigin(y,q)}else v||u1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),xa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ZU),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&l2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const v=this.path[y];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:f,layout:m}=this.options;if(f===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(o1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(l1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(QU),this.nodes.forEach(qU),this.nodes.forEach(GU)):this.nodes.forEach(l1),this.clearAllSnapshots();const f=di.now();On.delta=xr(0,1e3/60,f-On.timestamp),On.timestamp=f,On.isProcessing=!0,Vg.update.process(On),Vg.preRender.process(On),Vg.render.process(On),On.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,w0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach($U),this.sharedNodes.forEach(JU)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ft.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ft.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Wn(this.snapshot.measuredBox.x)&&!Wn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=tn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(f=!1),f&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!a2(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;c&&this.instance&&(f||ao(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const f=this.measurePageBox();let m=this.removeElementScroll(f);return c&&(m=this.removeTransform(m)),i9(m),{animationId:this.root.animationId,measuredBox:f,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:c}=this.options;if(!c)return tn();const f=c.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(s9))){const{scroll:y}=this.root;y&&(bl(f.x,y.offset.x),bl(f.y,y.offset.y))}return f}removeElementScroll(c){var m;const f=tn();if(Hi(f,c),(m=this.scroll)!=null&&m.wasRoot)return f;for(let p=0;p<this.path.length;p++){const y=this.path[p],{scroll:v,options:b}=y;y!==this.root&&v&&b.layoutScroll&&(v.wasRoot&&Hi(f,c),bl(f.x,v.offset.x),bl(f.y,v.offset.y))}return f}applyTransform(c,f=!1){const m=tn();Hi(m,c);for(let p=0;p<this.path.length;p++){const y=this.path[p];!f&&y.options.layoutScroll&&y.scroll&&y!==y.root&&wl(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),ao(y.latestValues)&&wl(m,y.latestValues)}return ao(this.latestValues)&&wl(m,this.latestValues),m}removeTransform(c){const f=tn();Hi(f,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!ao(p.latestValues))continue;Ly(p.latestValues)&&p.updateSnapshot();const y=tn(),v=p.measurePageBox();Hi(y,v),t1(f,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return ao(this.latestValues)&&t1(f,this.latestValues),f}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==On.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var b;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!(!this.layout||!(y||v))){if(this.resolvedRelativeTargetAt=On.timestamp,!this.targetDelta&&!this.relativeTarget){const A=this.getClosestProjectingParent();A&&A.layout&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=tn(),this.relativeTargetOrigin=tn(),Ec(this.relativeTargetOrigin,this.layout.layoutBox,A.layout.layoutBox),Hi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=tn(),this.targetWithTransforms=tn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),cU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Hi(this.target,this.layout.layoutBox),zR(this.target,this.targetDelta)):Hi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const A=this.getClosestProjectingParent();A&&!!A.resumingFrom==!!this.resumingFrom&&!A.options.layoutScroll&&A.target&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=tn(),this.relativeTargetOrigin=tn(),Ec(this.relativeTargetOrigin,this.target,A.target),Hi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Ly(this.parent.latestValues)||BR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var D;const c=this.getLead(),f=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||(D=this.parent)!=null&&D.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===On.timestamp&&(m=!1),m)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;Hi(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,b=this.treeScale.y;b5(this.layoutCorrected,this.treeScale,this.path,f),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=tn());const{target:A}=c;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ZS(this.prevProjectionDelta.x,this.projectionDelta.x),ZS(this.prevProjectionDelta.y,this.projectionDelta.y)),Tc(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==b||!a1(this.projectionDelta.x,this.prevProjectionDelta.x)||!a1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var f;if((f=this.options.visualElement)==null||f.scheduleRender(),c){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Sl(),this.projectionDelta=Sl(),this.projectionDeltaWithTransform=Sl()}setAnimationOrigin(c,f=!1){const m=this.snapshot,p=m?m.latestValues:{},y={...this.latestValues},v=Sl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const b=tn(),A=m?m.source:void 0,D=this.layout?this.layout.source:void 0,V=A!==D,M=this.getStack(),F=!M||M.members.length<=1,q=!!(V&&!F&&this.options.crossfade===!0&&!this.path.some(t9));this.animationProgress=0;let H;this.mixTargetDelta=ne=>{const J=ne/1e3;c1(v.x,c.x,J),c1(v.y,c.y,J),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ec(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),e9(this.relativeTarget,this.relativeTargetOrigin,b,J),H&&UU(this.relativeTarget,H)&&(this.isProjectionDirty=!1),H||(H=tn()),Hi(H,this.relativeTarget)),V&&(this.animationValues=y,OU(y,p,this.latestValues,J,q,F)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=J},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var f,m,p;this.notifyListeners("animationStart"),(f=this.currentAnimation)==null||f.stop(),(p=(m=this.resumingFrom)==null?void 0:m.currentAnimation)==null||p.stop(),this.pendingAnimation&&(xa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ft.update(()=>{ad.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=jl(0)),this.currentAnimation=RU(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:y=>{this.mixTargetDelta(y),c.onUpdate&&c.onUpdate(y)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(FU),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:f,target:m,layout:p,latestValues:y}=c;if(!(!f||!m||!p)){if(this!==c&&this.layout&&p&&c2(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||tn();const v=Wn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+v;const b=Wn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+b}Hi(f,m),wl(f,y),Tc(this.projectionDeltaWithTransform,this.layoutCorrected,f,y)}}registerSharedNode(c,f){this.sharedNodes.has(c)||this.sharedNodes.set(c,new BU),this.sharedNodes.get(c).add(f);const p=f.options.initialPromotionConfig;f.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(f):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var f;const{layoutId:c}=this.options;return c?((f=this.getStack())==null?void 0:f.lead)||this:this}getPrevLead(){var f;const{layoutId:c}=this.options;return c?(f=this.getStack())==null?void 0:f.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:f,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let f=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(f=!0),!f)return;const p={};m.z&&qg("z",c,p,this.animationValues);for(let y=0;y<Hg.length;y++)qg(`rotate${Hg[y]}`,c,p,this.animationValues),qg(`skew${Hg[y]}`,c,p,this.animationValues);c.render();for(const y in p)c.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);c.scheduleRender()}applyProjectionStyles(c,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=rd(f==null?void 0:f.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=rd(f==null?void 0:f.pointerEvents)||""),this.hasProjected&&!ao(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let v=zU(this.projectionDeltaWithTransform,this.treeScale,y);m&&(v=m(y,v)),c.transform=v;const{x:b,y:A}=this.projectionDelta;c.transformOrigin=`${b.origin*100}% ${A.origin*100}% 0`,p.animationValues?c.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const D in Uc){if(y[D]===void 0)continue;const{correct:V,applyTo:M,isCSSVariable:F}=Uc[D],q=v==="none"?y[D]:V(y[D],p);if(M){const H=M.length;for(let ne=0;ne<H;ne++)c[M[ne]]=q}else F?this.options.visualElement.renderState.vars[D]=q:c[D]=q}this.options.layoutId&&(c.pointerEvents=p===this?rd(f==null?void 0:f.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var f;return(f=c.currentAnimation)==null?void 0:f.stop()}),this.root.nodes.forEach(o1),this.root.sharedNodes.clear()}}}function qU(t){t.updateLayout()}function GU(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=t.layout,{animationType:l}=t.options,c=e.source!==t.layout.source;l==="size"?qi(v=>{const b=c?e.measuredBox[v]:e.layoutBox[v],A=Wn(b);b.min=s[v].min,b.max=b.min+A}):c2(l,e.layoutBox,s)&&qi(v=>{const b=c?e.measuredBox[v]:e.layoutBox[v],A=Wn(s[v]);b.max=b.min+A,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+A)});const f=Sl();Tc(f,s,e.layoutBox);const m=Sl();c?Tc(m,t.applyTransform(a,!0),e.measuredBox):Tc(m,s,e.layoutBox);const p=!a2(f);let y=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:b,layout:A}=v;if(b&&A){const D=tn();Ec(D,e.layoutBox,b.layoutBox);const V=tn();Ec(V,s,A.layoutBox),o2(D,V)||(y=!0),v.options.layoutRoot&&(t.relativeTarget=V,t.relativeTargetOrigin=D,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:m,layoutDelta:f,hasLayoutChanged:p,hasRelativeLayoutChanged:y})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function KU(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function YU(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function $U(t){t.clearSnapshot()}function o1(t){t.clearMeasurements()}function l1(t){t.isLayoutDirty=!1}function QU(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function u1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function XU(t){t.resolveTargetDelta()}function WU(t){t.calcProjection()}function ZU(t){t.resetSkewAndRotation()}function JU(t){t.removeLeadSnapshot()}function c1(t,e,n){t.translate=qt(e.translate,0,n),t.scale=qt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function h1(t,e,n,s){t.min=qt(e.min,n.min,s),t.max=qt(e.max,n.max,s)}function e9(t,e,n,s){h1(t.x,e.x,n.x,s),h1(t.y,e.y,n.y,s)}function t9(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const n9={duration:.45,ease:[.4,0,.1,1]},f1=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),d1=f1("applewebkit/")&&!f1("chrome/")?Math.round:Yi;function m1(t){t.min=d1(t.min),t.max=d1(t.max)}function i9(t){m1(t.x),m1(t.y)}function c2(t,e,n){return t==="position"||t==="preserve-aspect"&&!uU(r1(e),r1(n),.2)}function s9(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const r9=u2({attachResizeListener:(t,e)=>Bc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Gg={current:void 0},h2=u2({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Gg.current){const t=new r9({});t.mount(window),t.setOptions({layoutScroll:!0}),Gg.current=t}return Gg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),a9={pan:{Feature:SU},drag:{Feature:wU,ProjectionNode:h2,MeasureLayout:i2}};function p1(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&Ft.postRender(()=>l(e,oh(e)))}class o9 extends Oa{mount(){const{current:e}=this.node;e&&(this.unmount=R6(e,(n,s)=>(p1(this.node,s,"Start"),a=>p1(this.node,a,"End"))))}unmount(){}}class l9 extends Oa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=sh(Bc(this.node.current,"focus",()=>this.onFocus()),Bc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function g1(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&Ft.postRender(()=>l(e,oh(e)))}class u9 extends Oa{mount(){const{current:e}=this.node;e&&(this.unmount=V6(e,(n,s)=>(g1(this.node,s,"Start"),(a,{success:l})=>g1(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const qy=new WeakMap,Kg=new WeakMap,c9=t=>{const e=qy.get(t.target);e&&e(t)},h9=t=>{t.forEach(c9)};function f9({root:t,...e}){const n=t||document;Kg.has(n)||Kg.set(n,{});const s=Kg.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(h9,{root:t,...e})),s[a]}function d9(t,e,n){const s=f9(e);return qy.set(t,n),s.observe(t),()=>{qy.delete(t),s.unobserve(t)}}const m9={some:0,all:1};class p9 extends Oa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:m9[a]},f=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:v}=this.node.getProps(),b=p?y:v;b&&b(m)};return d9(this.node.current,c,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(g9(e,n))&&this.startObserver()}unmount(){}}function g9({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const y9={inView:{Feature:p9},tap:{Feature:u9},focus:{Feature:l9},hover:{Feature:o9}},v9={layout:{ProjectionNode:h2,MeasureLayout:i2}},_9={...iU,...y9,...a9,...v9},zt=_5(_9,V5);var lh=t=>t.type==="checkbox",fo=t=>t instanceof Date,ci=t=>t==null;const f2=t=>typeof t=="object";var vn=t=>!ci(t)&&!Array.isArray(t)&&f2(t)&&!fo(t),T9=t=>vn(t)&&t.target?lh(t.target)?t.target.checked:t.target.value:t,E9=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,b9=(t,e)=>t.has(E9(e)),w9=t=>{const e=t.constructor&&t.constructor.prototype;return vn(e)&&e.hasOwnProperty("isPrototypeOf")},P0=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function An(t){let e;const n=Array.isArray(t),s=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(P0&&(t instanceof Blob||s))&&(n||vn(t)))if(e=n?[]:Object.create(Object.getPrototypeOf(t)),!n&&!w9(t))e=t;else for(const a in t)t.hasOwnProperty(a)&&(e[a]=An(t[a]));else return t;return e}var gm=t=>/^\w*$/.test(t),sn=t=>t===void 0,k0=t=>Array.isArray(t)?t.filter(Boolean):[],L0=t=>k0(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Ce=(t,e,n)=>{if(!e||!vn(t))return n;const s=(gm(e)?[e]:L0(e)).reduce((a,l)=>ci(a)?a:a[l],t);return sn(s)||s===t?sn(t[e])?n:t[e]:s},Os=t=>typeof t=="boolean",Bt=(t,e,n)=>{let s=-1;const a=gm(e)?[e]:L0(e),l=a.length,c=l-1;for(;++s<l;){const f=a[s];let m=n;if(s!==c){const p=t[f];m=vn(p)||Array.isArray(p)?p:isNaN(+a[s+1])?{}:[]}if(f==="__proto__"||f==="constructor"||f==="prototype")return;t[f]=m,t=t[f]}};const y1={BLUR:"blur",FOCUS_OUT:"focusout"},os={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},dr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},S9=mn.createContext(null);S9.displayName="HookFormContext";var A9=(t,e,n,s=!0)=>{const a={defaultValues:e._defaultValues};for(const l in t)Object.defineProperty(a,l,{get:()=>{const c=l;return e._proxyFormState[c]!==os.all&&(e._proxyFormState[c]=!s||os.all),t[c]}});return a};const x9=typeof window<"u"?mn.useLayoutEffect:mn.useEffect;var Ai=t=>typeof t=="string",C9=(t,e,n,s,a)=>Ai(t)?(s&&e.watch.add(t),Ce(n,t,a)):Array.isArray(t)?t.map(l=>(s&&e.watch.add(l),Ce(n,l))):(s&&(e.watchAll=!0),n),Gy=t=>ci(t)||!f2(t);function da(t,e,n=new WeakSet){if(Gy(t)||Gy(e))return t===e;if(fo(t)&&fo(e))return t.getTime()===e.getTime();const s=Object.keys(t),a=Object.keys(e);if(s.length!==a.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const l of s){const c=t[l];if(!a.includes(l))return!1;if(l!=="ref"){const f=e[l];if(fo(c)&&fo(f)||vn(c)&&vn(f)||Array.isArray(c)&&Array.isArray(f)?!da(c,f,n):c!==f)return!1}}return!0}var R9=(t,e,n,s,a)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[s]:a||!0}}:{},bc=t=>Array.isArray(t)?t:[t],v1=()=>{let t=[];return{get observers(){return t},next:a=>{for(const l of t)l.next&&l.next(a)},subscribe:a=>(t.push(a),{unsubscribe:()=>{t=t.filter(l=>l!==a)}}),unsubscribe:()=>{t=[]}}};function d2(t,e){const n={};for(const s in t)if(t.hasOwnProperty(s)){const a=t[s],l=e[s];if(a&&vn(a)&&l){const c=d2(a,l);vn(c)&&(n[s]=c)}else t[s]&&(n[s]=l)}return n}var Xn=t=>vn(t)&&!Object.keys(t).length,j0=t=>t.type==="file",ls=t=>typeof t=="function",Pd=t=>{if(!P0)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},m2=t=>t.type==="select-multiple",U0=t=>t.type==="radio",I9=t=>U0(t)||lh(t),Yg=t=>Pd(t)&&t.isConnected;function N9(t,e){const n=e.slice(0,-1).length;let s=0;for(;s<n;)t=sn(t)?s++:t[e[s++]];return t}function D9(t){for(const e in t)if(t.hasOwnProperty(e)&&!sn(t[e]))return!1;return!0}function fn(t,e){const n=Array.isArray(e)?e:gm(e)?[e]:L0(e),s=n.length===1?t:N9(t,n),a=n.length-1,l=n[a];return s&&delete s[l],a!==0&&(vn(s)&&Xn(s)||Array.isArray(s)&&D9(s))&&fn(t,n.slice(0,-1)),t}var V9=t=>{for(const e in t)if(ls(t[e]))return!0;return!1};function p2(t){return Array.isArray(t)||vn(t)&&!V9(t)}function Ky(t,e={}){for(const n in t)p2(t[n])?(e[n]=Array.isArray(t[n])?[]:{},Ky(t[n],e[n])):sn(t[n])||(e[n]=!0);return e}function _l(t,e,n){n||(n=Ky(e));for(const s in t)p2(t[s])?sn(e)||Gy(n[s])?n[s]=Ky(t[s],Array.isArray(t[s])?[]:{}):_l(t[s],ci(e)?{}:e[s],n[s]):n[s]=!da(t[s],e[s]);return n}const _1={value:!1,isValid:!1},T1={value:!0,isValid:!0};var g2=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!sn(t[0].attributes.value)?sn(t[0].value)||t[0].value===""?T1:{value:t[0].value,isValid:!0}:T1:_1}return _1},y2=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:s})=>sn(t)?t:e?t===""?NaN:t&&+t:n&&Ai(t)?new Date(t):s?s(t):t;const E1={isValid:!1,value:null};var v2=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,E1):E1;function b1(t){const e=t.ref;return j0(e)?e.files:U0(e)?v2(t.refs).value:m2(e)?[...e.selectedOptions].map(({value:n})=>n):lh(e)?g2(t.refs).value:y2(sn(e.value)?t.ref.value:e.value,t)}var O9=(t,e,n,s)=>{const a={};for(const l of t){const c=Ce(e,l);c&&Bt(a,l,c._f)}return{criteriaMode:n,names:[...t],fields:a,shouldUseNativeValidation:s}},kd=t=>t instanceof RegExp,tc=t=>sn(t)?t:kd(t)?t.source:vn(t)?kd(t.value)?t.value.source:t.value:t,w1=t=>({isOnSubmit:!t||t===os.onSubmit,isOnBlur:t===os.onBlur,isOnChange:t===os.onChange,isOnAll:t===os.all,isOnTouch:t===os.onTouched});const S1="AsyncFunction";var M9=t=>!!t&&!!t.validate&&!!(ls(t.validate)&&t.validate.constructor.name===S1||vn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===S1)),P9=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),A1=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(s=>t.startsWith(s)&&/^\.\w+/.test(t.slice(s.length))));const wc=(t,e,n,s)=>{for(const a of n||Object.keys(t)){const l=Ce(t,a);if(l){const{_f:c,...f}=l;if(c){if(c.refs&&c.refs[0]&&e(c.refs[0],a)&&!s)return!0;if(c.ref&&e(c.ref,c.name)&&!s)return!0;if(wc(f,e))break}else if(vn(f)&&wc(f,e))break}}};function x1(t,e,n){const s=Ce(t,n);if(s||gm(n))return{error:s,name:n};const a=n.split(".");for(;a.length;){const l=a.join("."),c=Ce(e,l),f=Ce(t,l);if(c&&!Array.isArray(c)&&n!==l)return{name:n};if(f&&f.type)return{name:l,error:f};if(f&&f.root&&f.root.type)return{name:`${l}.root`,error:f.root};a.pop()}return{name:n}}var k9=(t,e,n,s)=>{n(t);const{name:a,...l}=t;return Xn(l)||Object.keys(l).length>=Object.keys(e).length||Object.keys(l).find(c=>e[c]===(!s||os.all))},L9=(t,e,n)=>!t||!e||t===e||bc(t).some(s=>s&&(n?s===e:s.startsWith(e)||e.startsWith(s))),j9=(t,e,n,s,a)=>a.isOnAll?!1:!n&&a.isOnTouch?!(e||t):(n?s.isOnBlur:a.isOnBlur)?!t:(n?s.isOnChange:a.isOnChange)?t:!0,U9=(t,e)=>!k0(Ce(t,e)).length&&fn(t,e),B9=(t,e,n)=>{const s=bc(Ce(t,n));return Bt(s,"root",e[n]),Bt(t,n,s),t};function C1(t,e,n="validate"){if(Ai(t)||Array.isArray(t)&&t.every(Ai)||Os(t)&&!t)return{type:n,message:Ai(t)?t:"",ref:e}}var ml=t=>vn(t)&&!kd(t)?t:{value:t,message:""},R1=async(t,e,n,s,a,l)=>{const{ref:c,refs:f,required:m,maxLength:p,minLength:y,min:v,max:b,pattern:A,validate:D,name:V,valueAsNumber:M,mount:F}=t._f,q=Ce(n,V);if(!F||e.has(V))return{};const H=f?f[0]:c,ne=U=>{a&&H.reportValidity&&(H.setCustomValidity(Os(U)?"":U||""),H.reportValidity())},J={},he=U0(c),I=lh(c),C=he||I,R=(M||j0(c))&&sn(c.value)&&sn(q)||Pd(c)&&c.value===""||q===""||Array.isArray(q)&&!q.length,L=R9.bind(null,V,s,J),k=(U,N,Re,Fe=dr.maxLength,Y=dr.minLength)=>{const ie=U?N:Re;J[V]={type:U?Fe:Y,message:ie,ref:c,...L(U?Fe:Y,ie)}};if(l?!Array.isArray(q)||!q.length:m&&(!C&&(R||ci(q))||Os(q)&&!q||I&&!g2(f).isValid||he&&!v2(f).isValid)){const{value:U,message:N}=Ai(m)?{value:!!m,message:m}:ml(m);if(U&&(J[V]={type:dr.required,message:N,ref:H,...L(dr.required,N)},!s))return ne(N),J}if(!R&&(!ci(v)||!ci(b))){let U,N;const Re=ml(b),Fe=ml(v);if(!ci(q)&&!isNaN(q)){const Y=c.valueAsNumber||q&&+q;ci(Re.value)||(U=Y>Re.value),ci(Fe.value)||(N=Y<Fe.value)}else{const Y=c.valueAsDate||new Date(q),ie=He=>new Date(new Date().toDateString()+" "+He),ve=c.type=="time",Oe=c.type=="week";Ai(Re.value)&&q&&(U=ve?ie(q)>ie(Re.value):Oe?q>Re.value:Y>new Date(Re.value)),Ai(Fe.value)&&q&&(N=ve?ie(q)<ie(Fe.value):Oe?q<Fe.value:Y<new Date(Fe.value))}if((U||N)&&(k(!!U,Re.message,Fe.message,dr.max,dr.min),!s))return ne(J[V].message),J}if((p||y)&&!R&&(Ai(q)||l&&Array.isArray(q))){const U=ml(p),N=ml(y),Re=!ci(U.value)&&q.length>+U.value,Fe=!ci(N.value)&&q.length<+N.value;if((Re||Fe)&&(k(Re,U.message,N.message),!s))return ne(J[V].message),J}if(A&&!R&&Ai(q)){const{value:U,message:N}=ml(A);if(kd(U)&&!q.match(U)&&(J[V]={type:dr.pattern,message:N,ref:c,...L(dr.pattern,N)},!s))return ne(N),J}if(D){if(ls(D)){const U=await D(q,n),N=C1(U,H);if(N&&(J[V]={...N,...L(dr.validate,N.message)},!s))return ne(N.message),J}else if(vn(D)){let U={};for(const N in D){if(!Xn(U)&&!s)break;const Re=C1(await D[N](q,n),H,N);Re&&(U={...Re,...L(N,Re.message)},ne(Re.message),s&&(J[V]=U))}if(!Xn(U)&&(J[V]={ref:H,...U},!s))return J}}return ne(!0),J};const z9={mode:os.onSubmit,reValidateMode:os.onChange,shouldFocusError:!0};function F9(t={}){let e={...z9,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:ls(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},s={},a=vn(e.defaultValues)||vn(e.values)?An(e.defaultValues||e.values)||{}:{},l=e.shouldUnregister?{}:An(a),c={action:!1,mount:!1,watch:!1},f={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},m,p=0;const y={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let v={...y};const b={array:v1(),state:v1()},A=e.criteriaMode===os.all,D=P=>$=>{clearTimeout(p),p=setTimeout(P,$)},V=async P=>{if(!e.disabled&&(y.isValid||v.isValid||P)){const $=e.resolver?Xn((await I()).errors):await R(s,!0);$!==n.isValid&&b.state.next({isValid:$})}},M=(P,$)=>{!e.disabled&&(y.isValidating||y.validatingFields||v.isValidating||v.validatingFields)&&((P||Array.from(f.mount)).forEach(se=>{se&&($?Bt(n.validatingFields,se,$):fn(n.validatingFields,se))}),b.state.next({validatingFields:n.validatingFields,isValidating:!Xn(n.validatingFields)}))},F=(P,$=[],se,_e,de=!0,me=!0)=>{if(_e&&se&&!e.disabled){if(c.action=!0,me&&Array.isArray(Ce(s,P))){const Ae=se(Ce(s,P),_e.argA,_e.argB);de&&Bt(s,P,Ae)}if(me&&Array.isArray(Ce(n.errors,P))){const Ae=se(Ce(n.errors,P),_e.argA,_e.argB);de&&Bt(n.errors,P,Ae),U9(n.errors,P)}if((y.touchedFields||v.touchedFields)&&me&&Array.isArray(Ce(n.touchedFields,P))){const Ae=se(Ce(n.touchedFields,P),_e.argA,_e.argB);de&&Bt(n.touchedFields,P,Ae)}(y.dirtyFields||v.dirtyFields)&&(n.dirtyFields=_l(a,l)),b.state.next({name:P,isDirty:k(P,$),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Bt(l,P,$)},q=(P,$)=>{Bt(n.errors,P,$),b.state.next({errors:n.errors})},H=P=>{n.errors=P,b.state.next({errors:n.errors,isValid:!1})},ne=(P,$,se,_e)=>{const de=Ce(s,P);if(de){const me=Ce(l,P,sn(se)?Ce(a,P):se);sn(me)||_e&&_e.defaultChecked||$?Bt(l,P,$?me:b1(de._f)):Re(P,me),c.mount&&V()}},J=(P,$,se,_e,de)=>{let me=!1,Ae=!1;const Je={name:P};if(!e.disabled){if(!se||_e){(y.isDirty||v.isDirty)&&(Ae=n.isDirty,n.isDirty=Je.isDirty=k(),me=Ae!==Je.isDirty);const qe=da(Ce(a,P),$);Ae=!!Ce(n.dirtyFields,P),qe?fn(n.dirtyFields,P):Bt(n.dirtyFields,P,!0),Je.dirtyFields=n.dirtyFields,me=me||(y.dirtyFields||v.dirtyFields)&&Ae!==!qe}if(se){const qe=Ce(n.touchedFields,P);qe||(Bt(n.touchedFields,P,se),Je.touchedFields=n.touchedFields,me=me||(y.touchedFields||v.touchedFields)&&qe!==se)}me&&de&&b.state.next(Je)}return me?Je:{}},he=(P,$,se,_e)=>{const de=Ce(n.errors,P),me=(y.isValid||v.isValid)&&Os($)&&n.isValid!==$;if(e.delayError&&se?(m=D(()=>q(P,se)),m(e.delayError)):(clearTimeout(p),m=null,se?Bt(n.errors,P,se):fn(n.errors,P)),(se?!da(de,se):de)||!Xn(_e)||me){const Ae={..._e,...me&&Os($)?{isValid:$}:{},errors:n.errors,name:P};n={...n,...Ae},b.state.next(Ae)}},I=async P=>{M(P,!0);const $=await e.resolver(l,e.context,O9(P||f.mount,s,e.criteriaMode,e.shouldUseNativeValidation));return M(P),$},C=async P=>{const{errors:$}=await I(P);if(P)for(const se of P){const _e=Ce($,se);_e?Bt(n.errors,se,_e):fn(n.errors,se)}else n.errors=$;return $},R=async(P,$,se={valid:!0})=>{for(const _e in P){const de=P[_e];if(de){const{_f:me,...Ae}=de;if(me){const Je=f.array.has(me.name),qe=de._f&&M9(de._f);qe&&y.validatingFields&&M([me.name],!0);const Wt=await R1(de,f.disabled,l,A,e.shouldUseNativeValidation&&!$,Je);if(qe&&y.validatingFields&&M([me.name]),Wt[me.name]&&(se.valid=!1,$))break;!$&&(Ce(Wt,me.name)?Je?B9(n.errors,Wt,me.name):Bt(n.errors,me.name,Wt[me.name]):fn(n.errors,me.name))}!Xn(Ae)&&await R(Ae,$,se)}}return se.valid},L=()=>{for(const P of f.unMount){const $=Ce(s,P);$&&($._f.refs?$._f.refs.every(se=>!Yg(se)):!Yg($._f.ref))&&We(P)}f.unMount=new Set},k=(P,$)=>!e.disabled&&(P&&$&&Bt(l,P,$),!da(He(),a)),U=(P,$,se)=>C9(P,f,{...c.mount?l:sn($)?a:Ai(P)?{[P]:$}:$},se,$),N=P=>k0(Ce(c.mount?l:a,P,e.shouldUnregister?Ce(a,P,[]):[])),Re=(P,$,se={})=>{const _e=Ce(s,P);let de=$;if(_e){const me=_e._f;me&&(!me.disabled&&Bt(l,P,y2($,me)),de=Pd(me.ref)&&ci($)?"":$,m2(me.ref)?[...me.ref.options].forEach(Ae=>Ae.selected=de.includes(Ae.value)):me.refs?lh(me.ref)?me.refs.forEach(Ae=>{(!Ae.defaultChecked||!Ae.disabled)&&(Array.isArray(de)?Ae.checked=!!de.find(Je=>Je===Ae.value):Ae.checked=de===Ae.value||!!de)}):me.refs.forEach(Ae=>Ae.checked=Ae.value===de):j0(me.ref)?me.ref.value="":(me.ref.value=de,me.ref.type||b.state.next({name:P,values:An(l)})))}(se.shouldDirty||se.shouldTouch)&&J(P,de,se.shouldTouch,se.shouldDirty,!0),se.shouldValidate&&Oe(P)},Fe=(P,$,se)=>{for(const _e in $){if(!$.hasOwnProperty(_e))return;const de=$[_e],me=P+"."+_e,Ae=Ce(s,me);(f.array.has(P)||vn(de)||Ae&&!Ae._f)&&!fo(de)?Fe(me,de,se):Re(me,de,se)}},Y=(P,$,se={})=>{const _e=Ce(s,P),de=f.array.has(P),me=An($);Bt(l,P,me),de?(b.array.next({name:P,values:An(l)}),(y.isDirty||y.dirtyFields||v.isDirty||v.dirtyFields)&&se.shouldDirty&&b.state.next({name:P,dirtyFields:_l(a,l),isDirty:k(P,me)})):_e&&!_e._f&&!ci(me)?Fe(P,me,se):Re(P,me,se),A1(P,f)&&b.state.next({...n,name:P}),b.state.next({name:c.mount?P:void 0,values:An(l)})},ie=async P=>{c.mount=!0;const $=P.target;let se=$.name,_e=!0;const de=Ce(s,se),me=qe=>{_e=Number.isNaN(qe)||fo(qe)&&isNaN(qe.getTime())||da(qe,Ce(l,se,qe))},Ae=w1(e.mode),Je=w1(e.reValidateMode);if(de){let qe,Wt;const Ri=$.type?b1(de._f):T9(P),Jn=P.type===y1.BLUR||P.type===y1.FOCUS_OUT,Nr=!P9(de._f)&&!e.resolver&&!Ce(n.errors,se)&&!de._f.deps||j9(Jn,Ce(n.touchedFields,se),n.isSubmitted,Je,Ae),Cn=A1(se,f,Jn);Bt(l,se,Ri),Jn?(!$||!$.readOnly)&&(de._f.onBlur&&de._f.onBlur(P),m&&m(0)):de._f.onChange&&de._f.onChange(P);const Nt=J(se,Ri,Jn),Ot=!Xn(Nt)||Cn;if(!Jn&&b.state.next({name:se,type:P.type,values:An(l)}),Nr)return(y.isValid||v.isValid)&&(e.mode==="onBlur"?Jn&&V():Jn||V()),Ot&&b.state.next({name:se,...Cn?{}:Nt});if(!Jn&&Cn&&b.state.next({...n}),e.resolver){const{errors:Rt}=await I([se]);if(me(Ri),_e){const G=x1(n.errors,s,se),fe=x1(Rt,s,G.name||se);qe=fe.error,se=fe.name,Wt=Xn(Rt)}}else M([se],!0),qe=(await R1(de,f.disabled,l,A,e.shouldUseNativeValidation))[se],M([se]),me(Ri),_e&&(qe?Wt=!1:(y.isValid||v.isValid)&&(Wt=await R(s,!0)));_e&&(de._f.deps&&(!Array.isArray(de._f.deps)||de._f.deps.length>0)&&Oe(de._f.deps),he(se,Wt,qe,Nt))}},ve=(P,$)=>{if(Ce(n.errors,$)&&P.focus)return P.focus(),1},Oe=async(P,$={})=>{let se,_e;const de=bc(P);if(e.resolver){const me=await C(sn(P)?P:de);se=Xn(me),_e=P?!de.some(Ae=>Ce(me,Ae)):se}else P?(_e=(await Promise.all(de.map(async me=>{const Ae=Ce(s,me);return await R(Ae&&Ae._f?{[me]:Ae}:Ae)}))).every(Boolean),!(!_e&&!n.isValid)&&V()):_e=se=await R(s);return b.state.next({...!Ai(P)||(y.isValid||v.isValid)&&se!==n.isValid?{}:{name:P},...e.resolver||!P?{isValid:se}:{},errors:n.errors}),$.shouldFocus&&!_e&&wc(s,ve,P?de:f.mount),_e},He=(P,$)=>{let se={...c.mount?l:a};return $&&(se=d2($.dirtyFields?n.dirtyFields:n.touchedFields,se)),sn(P)?se:Ai(P)?Ce(se,P):P.map(_e=>Ce(se,_e))},B=(P,$)=>({invalid:!!Ce(($||n).errors,P),isDirty:!!Ce(($||n).dirtyFields,P),error:Ce(($||n).errors,P),isValidating:!!Ce(n.validatingFields,P),isTouched:!!Ce(($||n).touchedFields,P)}),ae=P=>{P&&bc(P).forEach($=>fn(n.errors,$)),b.state.next({errors:P?n.errors:{}})},ye=(P,$,se)=>{const _e=(Ce(s,P,{_f:{}})._f||{}).ref,de=Ce(n.errors,P)||{},{ref:me,message:Ae,type:Je,...qe}=de;Bt(n.errors,P,{...qe,...$,ref:_e}),b.state.next({name:P,errors:n.errors,isValid:!1}),se&&se.shouldFocus&&_e&&_e.focus&&_e.focus()},Te=(P,$)=>ls(P)?b.state.subscribe({next:se=>"values"in se&&P(U(void 0,$),se)}):U(P,$,!0),Ve=P=>b.state.subscribe({next:$=>{L9(P.name,$.name,P.exact)&&k9($,P.formState||y,Zn,P.reRenderRoot)&&P.callback({values:{...l},...n,...$,defaultValues:a})}}).unsubscribe,je=P=>(c.mount=!0,v={...v,...P.formState},Ve({...P,formState:v})),We=(P,$={})=>{for(const se of P?bc(P):f.mount)f.mount.delete(se),f.array.delete(se),$.keepValue||(fn(s,se),fn(l,se)),!$.keepError&&fn(n.errors,se),!$.keepDirty&&fn(n.dirtyFields,se),!$.keepTouched&&fn(n.touchedFields,se),!$.keepIsValidating&&fn(n.validatingFields,se),!e.shouldUnregister&&!$.keepDefaultValue&&fn(a,se);b.state.next({values:An(l)}),b.state.next({...n,...$.keepDirty?{isDirty:k()}:{}}),!$.keepIsValid&&V()},yt=({disabled:P,name:$})=>{(Os(P)&&c.mount||P||f.disabled.has($))&&(P?f.disabled.add($):f.disabled.delete($))},ft=(P,$={})=>{let se=Ce(s,P);const _e=Os($.disabled)||Os(e.disabled);return Bt(s,P,{...se||{},_f:{...se&&se._f?se._f:{ref:{name:P}},name:P,mount:!0,...$}}),f.mount.add(P),se?yt({disabled:Os($.disabled)?$.disabled:e.disabled,name:P}):ne(P,!0,$.value),{..._e?{disabled:$.disabled||e.disabled}:{},...e.progressive?{required:!!$.required,min:tc($.min),max:tc($.max),minLength:tc($.minLength),maxLength:tc($.maxLength),pattern:tc($.pattern)}:{},name:P,onChange:ie,onBlur:ie,ref:de=>{if(de){ft(P,$),se=Ce(s,P);const me=sn(de.value)&&de.querySelectorAll&&de.querySelectorAll("input,select,textarea")[0]||de,Ae=I9(me),Je=se._f.refs||[];if(Ae?Je.find(qe=>qe===me):me===se._f.ref)return;Bt(s,P,{_f:{...se._f,...Ae?{refs:[...Je.filter(Yg),me,...Array.isArray(Ce(a,P))?[{}]:[]],ref:{type:me.type,name:P}}:{ref:me}}}),ne(P,!1,void 0,me)}else se=Ce(s,P,{}),se._f&&(se._f.mount=!1),(e.shouldUnregister||$.shouldUnregister)&&!(b9(f.array,P)&&c.action)&&f.unMount.add(P)}}},Yn=()=>e.shouldFocusError&&wc(s,ve,f.mount),Ln=P=>{Os(P)&&(b.state.next({disabled:P}),wc(s,($,se)=>{const _e=Ce(s,se);_e&&($.disabled=_e._f.disabled||P,Array.isArray(_e._f.refs)&&_e._f.refs.forEach(de=>{de.disabled=_e._f.disabled||P}))},0,!1))},Vt=(P,$)=>async se=>{let _e;se&&(se.preventDefault&&se.preventDefault(),se.persist&&se.persist());let de=An(l);if(b.state.next({isSubmitting:!0}),e.resolver){const{errors:me,values:Ae}=await I();n.errors=me,de=An(Ae)}else await R(s);if(f.disabled.size)for(const me of f.disabled)fn(de,me);if(fn(n.errors,"root"),Xn(n.errors)){b.state.next({errors:{}});try{await P(de,se)}catch(me){_e=me}}else $&&await $({...n.errors},se),Yn(),setTimeout(Yn);if(b.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Xn(n.errors)&&!_e,submitCount:n.submitCount+1,errors:n.errors}),_e)throw _e},Ci=(P,$={})=>{Ce(s,P)&&(sn($.defaultValue)?Y(P,An(Ce(a,P))):(Y(P,$.defaultValue),Bt(a,P,An($.defaultValue))),$.keepTouched||fn(n.touchedFields,P),$.keepDirty||(fn(n.dirtyFields,P),n.isDirty=$.defaultValue?k(P,An(Ce(a,P))):k()),$.keepError||(fn(n.errors,P),y.isValid&&V()),b.state.next({...n}))},jn=(P,$={})=>{const se=P?An(P):a,_e=An(se),de=Xn(P),me=de?a:_e;if($.keepDefaultValues||(a=se),!$.keepValues){if($.keepDirtyValues){const Ae=new Set([...f.mount,...Object.keys(_l(a,l))]);for(const Je of Array.from(Ae))Ce(n.dirtyFields,Je)?Bt(me,Je,Ce(l,Je)):Y(Je,Ce(me,Je))}else{if(P0&&sn(P))for(const Ae of f.mount){const Je=Ce(s,Ae);if(Je&&Je._f){const qe=Array.isArray(Je._f.refs)?Je._f.refs[0]:Je._f.ref;if(Pd(qe)){const Wt=qe.closest("form");if(Wt){Wt.reset();break}}}}if($.keepFieldsRef)for(const Ae of f.mount)Y(Ae,Ce(me,Ae));else s={}}l=e.shouldUnregister?$.keepDefaultValues?An(a):{}:An(me),b.array.next({values:{...me}}),b.state.next({values:{...me}})}f={mount:$.keepDirtyValues?f.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!y.isValid||!!$.keepIsValid||!!$.keepDirtyValues||!e.shouldUnregister&&!Xn(me),c.watch=!!e.shouldUnregister,b.state.next({submitCount:$.keepSubmitCount?n.submitCount:0,isDirty:de?!1:$.keepDirty?n.isDirty:!!($.keepDefaultValues&&!da(P,a)),isSubmitted:$.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:de?{}:$.keepDirtyValues?$.keepDefaultValues&&l?_l(a,l):n.dirtyFields:$.keepDefaultValues&&P?_l(a,P):$.keepDirty?n.dirtyFields:{},touchedFields:$.keepTouched?n.touchedFields:{},errors:$.keepErrors?n.errors:{},isSubmitSuccessful:$.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},Xi=(P,$)=>jn(ls(P)?P(l):P,$),Wi=(P,$={})=>{const se=Ce(s,P),_e=se&&se._f;if(_e){const de=_e.refs?_e.refs[0]:_e.ref;de.focus&&(de.focus(),$.shouldSelect&&ls(de.select)&&de.select())}},Zn=P=>{n={...n,...P}},Ct={control:{register:ft,unregister:We,getFieldState:B,handleSubmit:Vt,setError:ye,_subscribe:Ve,_runSchema:I,_focusError:Yn,_getWatch:U,_getDirty:k,_setValid:V,_setFieldArray:F,_setDisabledField:yt,_setErrors:H,_getFieldArray:N,_reset:jn,_resetDefaultValues:()=>ls(e.defaultValues)&&e.defaultValues().then(P=>{Xi(P,e.resetOptions),b.state.next({isLoading:!1})}),_removeUnmounted:L,_disableForm:Ln,_subjects:b,_proxyFormState:y,get _fields(){return s},get _formValues(){return l},get _state(){return c},set _state(P){c=P},get _defaultValues(){return a},get _names(){return f},set _names(P){f=P},get _formState(){return n},get _options(){return e},set _options(P){e={...e,...P}}},subscribe:je,trigger:Oe,register:ft,handleSubmit:Vt,watch:Te,setValue:Y,getValues:He,reset:Xi,resetField:Ci,clearErrors:ae,unregister:We,setError:ye,setFocus:Wi,getFieldState:B};return{...Ct,formControl:Ct}}function B0(t={}){const e=mn.useRef(void 0),n=mn.useRef(void 0),[s,a]=mn.useState({isDirty:!1,isValidating:!1,isLoading:ls(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:ls(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:s},t.defaultValues&&!ls(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:c,...f}=F9(t);e.current={...f,formState:s}}const l=e.current.control;return l._options=t,x9(()=>{const c=l._subscribe({formState:l._proxyFormState,callback:()=>a({...l._formState}),reRenderRoot:!0});return a(f=>({...f,isReady:!0})),l._formState.isReady=!0,c},[l]),mn.useEffect(()=>l._disableForm(t.disabled),[l,t.disabled]),mn.useEffect(()=>{t.mode&&(l._options.mode=t.mode),t.reValidateMode&&(l._options.reValidateMode=t.reValidateMode)},[l,t.mode,t.reValidateMode]),mn.useEffect(()=>{t.errors&&(l._setErrors(t.errors),l._focusError())},[l,t.errors]),mn.useEffect(()=>{t.shouldUnregister&&l._subjects.state.next({values:l._getWatch()})},[l,t.shouldUnregister]),mn.useEffect(()=>{if(l._proxyFormState.isDirty){const c=l._getDirty();c!==s.isDirty&&l._subjects.state.next({isDirty:c})}},[l,s.isDirty]),mn.useEffect(()=>{t.values&&!da(t.values,n.current)?(l._reset(t.values,{keepFieldsRef:!0,...l._options.resetOptions}),n.current=t.values,a(c=>({...c}))):l._resetDefaultValues()},[l,t.values]),mn.useEffect(()=>{l._state.mount||(l._setValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),e.current.formState=A9(s,l),e.current}const ht=({children:t,className:e="",variant:n="primary",size:s="md",onClick:a,type:l="button",disabled:c=!1,...f})=>{const m="font-medium rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2",p={primary:"bg-indigo-600 text-white hover:bg-indigo-700 focus:ring-indigo-500",secondary:"bg-gray-200 text-gray-800 hover:bg-gray-300 focus:ring-gray-500",outline:"border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 focus:ring-indigo-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500"},y={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"},v=`${m} ${p[n]} ${y[s]} ${e}`;return T.jsx(zt.button,{className:v,onClick:a,type:l,disabled:c,whileHover:{scale:1.02},whileTap:{scale:.98},transition:{type:"spring",stiffness:400,damping:17},...f,children:t})},yr=O.forwardRef(({className:t="",label:e,error:n,...s},a)=>T.jsxs("div",{className:"mb-4",children:[e&&T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e}),T.jsx("input",{ref:a,className:`w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 ${t}`,...s}),n&&T.jsx("p",{className:"mt-1 text-sm text-red-600",children:n})]}));var _2={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},I1=mn.createContext&&mn.createContext(_2),H9=["attr","size","title"];function q9(t,e){if(t==null)return{};var n=G9(t,e),s,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)s=l[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function G9(t,e){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;n[s]=t[s]}return n}function Ld(){return Ld=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Ld.apply(this,arguments)}function N1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function jd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N1(Object(n),!0).forEach(function(s){K9(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N1(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function K9(t,e,n){return e=Y9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y9(t){var e=$9(t,"string");return typeof e=="symbol"?e:e+""}function $9(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function T2(t){return t&&t.map((e,n)=>mn.createElement(e.tag,jd({key:n},e.attr),T2(e.child)))}function _t(t){return e=>mn.createElement(Q9,Ld({attr:jd({},t.attr)},e),T2(t.child))}function Q9(t){var e=n=>{var{attr:s,size:a,title:l}=t,c=q9(t,H9),f=a||n.size||"1em",m;return n.className&&(m=n.className),t.className&&(m=(m?m+" ":"")+t.className),mn.createElement("svg",Ld({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,c,{className:m,style:jd(jd({color:t.color||n.color},n.style),t.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),l&&mn.createElement("title",null,l),t.children)};return I1!==void 0?mn.createElement(I1.Consumer,null,n=>e(n)):e(_2)}function E2(t){return _t({attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(t)}const X9=({onToggleForm:t})=>{var b,A;const[e,n]=O.useState(""),[s,a]=O.useState(!1),{login:l,loginWithGoogle:c}=ih(),{register:f,handleSubmit:m,formState:{errors:p}}=B0(),y=async D=>{try{n(""),a(!0),await l(D.email,D.password)}catch(V){n("Failed to log in. Please check your credentials."),console.error(V)}finally{a(!1)}},v=async()=>{try{n(""),a(!0),await c()}catch(D){n("Failed to log in with Google."),console.error(D)}finally{a(!1)}};return T.jsxs("div",{className:"w-full max-w-md mx-auto p-6 bg-white rounded-xl shadow-md",children:[T.jsx("h2",{className:"text-2xl font-bold text-center text-gray-800 mb-6",children:"Log In to Your Wardrobe"}),e&&T.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:e}),T.jsxs("form",{onSubmit:m(y),children:[T.jsx(yr,{label:"Email",type:"email",placeholder:"Enter your email",...f("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),error:(b=p.email)==null?void 0:b.message}),T.jsx(yr,{label:"Password",type:"password",placeholder:"Enter your password",...f("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}),error:(A=p.password)==null?void 0:A.message}),T.jsx(ht,{type:"submit",className:"w-full",disabled:s,children:s?"Logging in...":"Log In"})]}),T.jsxs("div",{className:"mt-6",children:[T.jsxs("div",{className:"relative",children:[T.jsx("div",{className:"absolute inset-0 flex items-center",children:T.jsx("div",{className:"w-full border-t border-gray-300"})}),T.jsx("div",{className:"relative flex justify-center text-sm",children:T.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),T.jsxs(ht,{variant:"outline",className:"w-full mt-4 flex items-center justify-center",onClick:v,disabled:s,children:[T.jsx(E2,{className:"mr-2 text-xl"}),"Google"]})]}),T.jsxs("p",{className:"mt-6 text-center text-gray-600",children:["Don't have an account?"," ",T.jsx("button",{type:"button",className:"font-medium text-indigo-600 hover:text-indigo-500",onClick:t,children:"Sign up"})]})]})},W9=({onToggleForm:t})=>{var D,V,M,F;const[e,n]=O.useState(""),[s,a]=O.useState(!1),{signup:l,loginWithGoogle:c}=ih(),{register:f,handleSubmit:m,watch:p,formState:{errors:y}}=B0(),v=p("password"),b=async q=>{try{n(""),a(!0),await l(q.email,q.password,q.displayName)}catch(H){n("Failed to create an account. Please try again."),console.error(H)}finally{a(!1)}},A=async()=>{try{n(""),a(!0),await c()}catch(q){n("Failed to sign up with Google."),console.error(q)}finally{a(!1)}};return T.jsxs("div",{className:"w-full max-w-md mx-auto p-6 bg-white rounded-xl shadow-md",children:[T.jsx("h2",{className:"text-2xl font-bold text-center text-gray-800 mb-6",children:"Create Your Wardrobe Account"}),e&&T.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:e}),T.jsxs("form",{onSubmit:m(b),children:[T.jsx(yr,{label:"Display Name",type:"text",placeholder:"Enter your name",...f("displayName",{required:"Name is required",minLength:{value:2,message:"Name must be at least 2 characters"}}),error:(D=y.displayName)==null?void 0:D.message}),T.jsx(yr,{label:"Email",type:"email",placeholder:"Enter your email",...f("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),error:(V=y.email)==null?void 0:V.message}),T.jsx(yr,{label:"Password",type:"password",placeholder:"Enter your password",...f("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}),error:(M=y.password)==null?void 0:M.message}),T.jsx(yr,{label:"Confirm Password",type:"password",placeholder:"Confirm your password",...f("confirmPassword",{required:"Please confirm your password",validate:q=>q===v||"Passwords do not match"}),error:(F=y.confirmPassword)==null?void 0:F.message}),T.jsx(ht,{type:"submit",className:"w-full",disabled:s,children:s?"Creating Account...":"Sign Up"})]}),T.jsxs("div",{className:"mt-6",children:[T.jsxs("div",{className:"relative",children:[T.jsx("div",{className:"absolute inset-0 flex items-center",children:T.jsx("div",{className:"w-full border-t border-gray-300"})}),T.jsx("div",{className:"relative flex justify-center text-sm",children:T.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),T.jsxs(ht,{variant:"outline",className:"w-full mt-4 flex items-center justify-center",onClick:A,disabled:s,children:[T.jsx(E2,{className:"mr-2 text-xl"}),"Google"]})]}),T.jsxs("p",{className:"mt-6 text-center text-gray-600",children:["Already have an account?"," ",T.jsx("button",{type:"button",className:"font-medium text-indigo-600 hover:text-indigo-500",onClick:t,children:"Log in"})]})]})},Z9=()=>{const[t,e]=O.useState(!0),n=()=>{e(!t)};return T.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 flex items-center justify-center p-4",children:T.jsxs(zt.div,{className:"w-full max-w-md",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[T.jsxs("div",{className:"text-center mb-8",children:[T.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Wardrobe"}),T.jsx("p",{className:"text-white text-opacity-90",children:"Organize your clothes and discover new outfit combinations"})]}),T.jsx(zt.div,{initial:{opacity:0,x:t?-20:20},animate:{opacity:1,x:0},transition:{duration:.3},children:t?T.jsx(X9,{onToggleForm:n}):T.jsx(W9,{onToggleForm:n})},t?"login":"register")]})})},D1=({isOpen:t,onClose:e,children:n,size:s="md"})=>{O.useEffect(()=>{const c=f=>{f.key==="Escape"&&t&&e()};return document.addEventListener("keydown",c),()=>document.removeEventListener("keydown",c)},[t,e]);const a={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"},l=c=>{c.stopPropagation()};return T.jsx(oo,{children:t&&T.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:T.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[T.jsx(zt.div,{className:"fixed inset-0 z-10 transition-opacity","aria-hidden":"true",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:T.jsx("div",{className:"absolute inset-0 bg-gray-900 opacity-75",onClick:e})}),T.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:""}),T.jsx(zt.div,{className:`relative z-20 inline-block w-full my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-lg ${a[s]}`,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{type:"spring",damping:20,stiffness:300},onClick:l,children:n})]})})})},J9=["White","Black","Gray","Navy","Blue","Red","Green","Yellow","Pink","Purple","Orange","Brown","Beige","Khaki","Cream","Silver","other"],V1={shirt:{fields:["sleeveLength","style","pattern","material"],options:{sleeveLength:["Full Sleeve","Half Sleeve","Sleeveless"],style:["Formal","Casual","Party"],pattern:["Solid","Striped","Checked","Printed"],material:["Cotton","Polyester","Linen","Silk","Blend"]}},tshirt:{fields:["sleeveLength","style","pattern","material"],options:{sleeveLength:["Full Sleeve","Half Sleeve","Sleeveless"],style:["Casual","Sports","Graphic"],pattern:["Solid","Graphic","Text","Striped"],material:["Cotton","Polyester","Blend"]}},pants:{fields:["pantsType","fit","material"],options:{pantsType:["Jeans","Trousers","Cargo","Track Pants","Chinos","Shorts"],fit:["Slim Fit","Regular Fit","Baggy","Skinny"],material:["Denim","Cotton","Polyester","Nylon","Blend"]}},innerwear:{fields:["innerwearType","material"],options:{innerwearType:["Briefs","Boxers","Trunks","Vests"],material:["Cotton","Modal","Synthetic Blend"]}},shoes:{fields:["shoesType","style","material"],options:{shoesType:["Sneakers","Formal Shoes","Sandals","Boots","Loafers","Sports Shoes"],style:["Casual","Formal","Sports","Outdoor"],material:["Leather","Canvas","Synthetic","Rubber"]}}},eB=["#FFFFFF","#000000","#808080","#1E3A8A","#2563EB","#DC2626","#22C55E","#EAB308","#EC4899","#8B5CF6","#F97316","#92400E","#F5F5DC","#D1C5A3","#FFFDD0","#C0C0C0"],b2=({isOpen:t,onClose:e,editingItem:n=null})=>{var Fe;const[s,a]=O.useState(null),[l,c]=O.useState((n==null?void 0:n.imageUrl)||""),[f,m]=O.useState(!1),[p,y]=O.useState(""),[v,b]=O.useState(""),[A,D]=O.useState(!1),{addClothing:V,updateClothing:M}=hm(),{register:F,handleSubmit:q,watch:H,formState:{errors:ne},reset:J,setValue:he}=B0({defaultValues:n||{type:"shirt",name:"",color:"",brand:"",size:"",favorite:!1}});O.useEffect(()=>{n&&(J({type:n.type,name:n.name,color:n.color,brand:n.brand,size:n.size,favorite:n.favorite}),n.imageUrl&&c(n.imageUrl))},[n]);const I=H("type"),C=V1[I]||V1.shirt,R=Y=>{const ie=Y.target.files[0];if(!ie)return;if(ie.size>5*1024*1024){y("Image must be less than 5MB");return}a(ie);const ve=new FileReader;ve.onloadend=()=>c(ve.result),ve.readAsDataURL(ie)},L=Y=>{const ie=Y.target.value;ie==="other"?(b("#000000"),he("color","#000000")):(b(""),he("color",ie))},k=Y=>{he("color",Y),b(""),D(!1)},U=async Y=>{try{m(!0),y("");const ie={...Y,color:v||Y.color};n?await M(n.id,ie,s):await V(ie,s),J(),a(null),c(""),b(""),e()}catch(ie){y(ie.message||"Failed to save clothing item.")}finally{m(!1)}},N=()=>{J(),a(null),c(""),b(""),y(""),e()},Re=Y=>{switch(Y){case"pantsType":case"innerwearType":case"shoesType":return"Type";default:return Y.replace(/([A-Z])/g," $1").trim()}};return T.jsxs(T.Fragment,{children:[T.jsx(D1,{isOpen:t,onClose:N,size:"lg",children:T.jsxs("div",{className:"p-6",children:[T.jsx("h3",{className:"mb-4 text-xl font-semibold",children:n?"Edit Clothing Item":"Add New Clothing Item"}),p&&T.jsx("div",{className:"p-3 mb-4 text-red-700 bg-red-100 border",children:p}),T.jsxs("form",{onSubmit:q(U),children:[T.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[T.jsxs("div",{children:[T.jsx(yr,{label:"Item Name",placeholder:"e.g., Blue Striped Shirt",...F("name",{required:"Item name is required"}),error:(Fe=ne.name)==null?void 0:Fe.message}),T.jsxs("div",{className:"mb-4",children:[T.jsx("label",{className:"block mb-1 text-sm font-medium",children:"Type"}),T.jsxs("select",{...F("type",{required:!0}),className:"w-full px-3 py-2 border rounded",children:[T.jsx("option",{value:"shirt",children:"Shirt"}),T.jsx("option",{value:"tshirt",children:"T-Shirt"}),T.jsx("option",{value:"pants",children:"Pants"}),T.jsx("option",{value:"innerwear",children:"Innerwear"}),T.jsx("option",{value:"shoes",children:"Shoes"})]})]}),T.jsxs("div",{className:"mb-4",children:[T.jsx("label",{className:"block mb-1 text-sm font-medium",children:"Color"}),T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsxs("select",{...F("color",{required:!0}),onChange:L,className:"w-full px-3 py-2 border rounded",children:[T.jsx("option",{value:"",children:"Select a color"}),J9.map(Y=>T.jsx("option",{value:Y,children:Y},Y))]}),T.jsx("button",{type:"button",onClick:()=>D(!0),className:"px-3 py-2 border rounded",children:"Chart"})]})]}),T.jsx(yr,{label:"Brand",...F("brand")}),T.jsx(yr,{label:"Size",...F("size")})]}),T.jsxs("div",{children:[C.fields.map(Y=>T.jsxs("div",{className:"mb-4",children:[T.jsx("label",{className:"block mb-1 text-sm font-medium",children:Re(Y)}),T.jsxs("select",{...F(Y),className:"w-full px-3 py-2 border rounded",children:[T.jsxs("option",{value:"",children:["Select ",Re(Y)]}),C.options[Y].map(ie=>T.jsx("option",{value:ie,children:ie},ie))]})]},Y)),T.jsxs("div",{className:"mb-4",children:[T.jsx("label",{className:"block mb-1 text-sm font-medium",children:"Image"}),T.jsx("input",{type:"file",accept:"image/*",onChange:R,className:"w-full px-3 py-2 border rounded"})]}),l&&T.jsx("img",{src:l,className:"object-cover w-full h-32 mb-4 rounded"}),T.jsxs("div",{className:"flex items-center",children:[T.jsx("input",{type:"checkbox",...F("favorite")}),T.jsx("label",{className:"ml-2 text-sm",children:"Mark as favorite"})]})]})]}),T.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[T.jsx(ht,{type:"button",variant:"secondary",onClick:N,children:"Cancel"}),T.jsx(ht,{type:"submit",disabled:f,children:f?"Saving...":n?"Update":"Add"})]})]})]})}),T.jsxs(D1,{isOpen:A,onClose:()=>D(!1),size:"sm",children:[T.jsx("h3",{className:"mb-4 text-lg font-semibold",children:"Select a Color"}),T.jsx("div",{className:"grid grid-cols-4 gap-3 p-2",children:eB.map(Y=>T.jsx("div",{onClick:()=>k(Y),className:"w-12 h-12 border rounded shadow cursor-pointer",style:{backgroundColor:Y}},Y))})]})]})};function tB(t){return _t({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(t)}function O1(t){return _t({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(t)}function M1(t){return _t({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(t)}function P1(t){return _t({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(t)}function k1(t){return _t({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"},child:[]}]})(t)}function nB(t){return _t({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polygon",attr:{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76"},child:[]}]})(t)}function iB(t){return _t({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(t)}function cc(t){return _t({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(t)}function w2(t){return _t({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(t)}function sB(t){return _t({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"},child:[]}]})(t)}function S2(t){return _t({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"14",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"3",y:"14",width:"7",height:"7"},child:[]}]})(t)}function A2(t){return _t({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"},child:[]}]})(t)}function L1(t){return _t({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(t)}function j1(t){return _t({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"},child:[]}]})(t)}function U1(t){return _t({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(t)}function rB(t){return _t({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(t)}function aB(t){return _t({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"17 1 21 5 17 9"},child:[]},{tag:"path",attr:{d:"M3 11V9a4 4 0 0 1 4-4h14"},child:[]},{tag:"polyline",attr:{points:"7 23 3 19 7 15"},child:[]},{tag:"path",attr:{d:"M21 13v2a4 4 0 0 1-4 4H3"},child:[]}]})(t)}function qf(t){return _t({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(t)}function oB(t){return _t({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(t)}function lB(t){return _t({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"18",cy:"5",r:"3"},child:[]},{tag:"circle",attr:{cx:"6",cy:"12",r:"3"},child:[]},{tag:"circle",attr:{cx:"18",cy:"19",r:"3"},child:[]},{tag:"line",attr:{x1:"8.59",y1:"13.51",x2:"15.42",y2:"17.49"},child:[]},{tag:"line",attr:{x1:"15.41",y1:"6.51",x2:"8.59",y2:"10.49"},child:[]}]})(t)}function uB(t){return _t({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"path",attr:{d:"M16 10a4 4 0 0 1-8 0"},child:[]}]})(t)}function B1(t){return _t({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"},child:[]}]})(t)}function cB(t){return _t({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"5"},child:[]},{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"3"},child:[]},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"23"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"},child:[]},{tag:"line",attr:{x1:"1",y1:"12",x2:"3",y2:"12"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"23",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"},child:[]}]})(t)}function x2(t){return _t({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(t)}function $g(t){return _t({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(t)}function hB(t){return _t({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"},child:[]}]})(t)}function z1(t){return _t({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(t)}function od(t){return _t({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}function fB(t){return _t({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"},child:[]}]})(t)}const C2=({isOpen:t,onClose:e,item:n,onEdit:s,onDelete:a})=>{if(!n)return null;const l=f=>{switch(f){case"shirt":return"";case"tshirt":return"";case"pants":return"";case"innerwear":return"";case"shoes":return"";default:return""}},c=f=>{f.stopPropagation()};return T.jsx("div",{className:`fixed inset-0 z-50 overflow-y-auto ${t?"block":"hidden"}`,children:T.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[T.jsx(zt.div,{className:"fixed inset-0 transition-opacity","aria-hidden":"true",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,children:T.jsx("div",{className:"absolute inset-0 bg-gray-900 opacity-75"})}),T.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:""}),T.jsx(zt.div,{className:"relative z-20 inline-block w-full my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-lg max-w-4xl max-h-[90vh]",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{type:"spring",damping:20,stiffness:300},onClick:c,children:T.jsxs("div",{className:"px-4 pt-5 pb-4 bg-white sm:p-6 sm:pb-4",children:[T.jsxs("div",{className:"flex items-start justify-between mb-4",children:[T.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:n.name}),T.jsxs("button",{type:"button",className:"text-gray-400 bg-white hover:text-gray-500 focus:outline-none",onClick:e,children:[T.jsx("span",{className:"sr-only",children:"Close"}),T.jsx(od,{className:"w-6 h-6"})]})]}),T.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[T.jsxs("div",{children:[T.jsx("div",{className:"relative h-64 mb-4 overflow-hidden bg-gray-200 rounded-lg",children:n.imageUrl?T.jsx("img",{src:n.imageUrl,alt:n.name,className:"object-cover w-full h-full"}):T.jsx("div",{className:"flex items-center justify-center h-full",children:T.jsx("span",{className:"text-6xl",children:l(n.type)})})}),T.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.favorite&&T.jsx("span",{className:"px-3 py-1 text-xs text-white bg-red-800 rounded-full",children:"Favorite"}),n.color&&T.jsx("span",{className:"px-3 py-1 text-xs text-white bg-gray-800 rounded-full",children:n.color}),n.size&&T.jsxs("span",{className:"px-3 py-1 text-xs text-white bg-gray-800 rounded-full",children:["Size: ",n.size]})]})]}),T.jsx("div",{children:T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Type"}),T.jsx("p",{className:"text-lg text-gray-900 capitalize",children:n.type})]}),T.jsxs("div",{children:[T.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Brand"}),T.jsx("p",{className:"text-lg text-gray-900",children:n.brand||"Not specified"})]}),n.style&&T.jsxs("div",{children:[T.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Style"}),T.jsx("p",{className:"text-lg text-gray-900",children:n.style})]}),n.sleeveLength&&T.jsxs("div",{children:[T.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Sleeve Length"}),T.jsx("p",{className:"text-lg text-gray-900",children:n.sleeveLength})]}),n.pantsType&&T.jsxs("div",{children:[T.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Pants Type"}),T.jsx("p",{className:"text-lg text-gray-900",children:n.pantsType})]}),n.shoesType&&T.jsxs("div",{children:[T.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Shoes Type"}),T.jsx("p",{className:"text-lg text-gray-900",children:n.shoesType})]}),n.pattern&&T.jsxs("div",{children:[T.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Pattern"}),T.jsx("p",{className:"text-lg text-gray-900",children:n.pattern})]}),n.material&&T.jsxs("div",{children:[T.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Material"}),T.jsx("p",{className:"text-lg text-gray-900",children:n.material})]}),n.fit&&T.jsxs("div",{children:[T.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Fit"}),T.jsx("p",{className:"text-lg text-gray-900",children:n.fit})]})]})})]}),T.jsxs("div",{className:"mt-6 sm:flex sm:flex-row-reverse",children:[T.jsx("button",{type:"button",className:"inline-flex justify-center w-full px-4 py-2 text-base font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:ml-3 sm:w-auto sm:text-sm",onClick:e,children:"Close"}),s&&T.jsxs("button",{type:"button",className:"inline-flex justify-center w-full px-4 py-2 mt-3 text-base font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:w-auto sm:text-sm",onClick:()=>{e(),s(n)},children:[T.jsx(iB,{className:"w-5 h-5 mr-2 -ml-1"}),"Edit"]}),a&&T.jsxs("button",{type:"button",className:"inline-flex justify-center w-full px-4 py-2 mt-3 text-base font-medium text-red-700 bg-red-100 border border-transparent rounded-md shadow-sm hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:mt-0 sm:w-auto sm:text-sm",onClick:()=>a(n),children:[T.jsx(x2,{className:"w-5 h-5 mr-2 -ml-1"}),"Delete"]})]})]})})]})})},dB=({item:t,onClick:e})=>{const[n,s]=O.useState(!1),[a,l]=O.useState(!1),{deleteClothing:c}=hm(),f=async()=>{if(window.confirm("Are you sure you want to delete this item?"))try{await c(t.id)}catch(y){console.error("Error deleting item:",y)}},m=y=>{switch(y){case"shirt":return"";case"tshirt":return"";case"pants":return"";case"innerwear":return"";case"shoes":return"";default:return""}},p=y=>({white:"#FFFFFF",black:"#000000",gray:"#808080",navy:"#000080",blue:"#0000FF",red:"#FF0000",green:"#008000",yellow:"#FFFF00",pink:"#FFC0CB",purple:"#800080",orange:"#FFA500",brown:"#A52A2A",beige:"#F5F5DC",khaki:"#F0E68C",cream:"#FFFDD0",silver:"#C0C0C0"})[y==null?void 0:y.toLowerCase()]||"#CCCCCC";return T.jsxs(T.Fragment,{children:[T.jsxs(zt.div,{className:"overflow-hidden transition-shadow duration-300 bg-white rounded-lg shadow-md cursor-pointer hover:shadow-lg",whileHover:{y:-5},transition:{type:"spring",stiffness:300,damping:20},onClick:e,style:{backgroundColor:t.color?p(t.color)+"20":"#FFFFFF"},children:[T.jsxs("div",{className:"relative h-48 bg-gray-200",children:[t.imageUrl?T.jsx("img",{src:t.imageUrl,alt:t.name,className:"object-cover w-full h-full"}):T.jsx("div",{className:"flex items-center justify-center h-full",children:T.jsx("span",{className:"text-6xl",children:m(t.type)})}),t.favorite&&T.jsx("div",{className:"absolute top-2 right-2",children:T.jsx(A2,{className:"text-xl text-red-500 fill-current"})})]}),T.jsxs("div",{className:"p-4",children:[T.jsx("h3",{className:"mb-1 text-lg font-semibold text-gray-800",children:t.name}),T.jsx("p",{className:"mb-2 text-sm text-gray-600",children:t.brand}),T.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[t.color&&T.jsx("span",{className:"px-2 py-1 text-xs text-gray-800 rounded-full",style:{backgroundColor:p(t.color),color:t.color==="white"||t.color==="beige"||t.color==="cream"||t.color==="silver"?"black":"white"},children:t.color}),t.style&&T.jsx("span",{className:"px-2 py-1 text-xs text-gray-800 rounded-full",children:t.style}),t.size&&T.jsxs("span",{className:"px-2 py-1 text-xs text-gray-800 rounded-full",children:["Size: ",t.size]})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsxs(ht,{variant:"outline",size:"sm",onClick:y=>{y.stopPropagation(),l(!0)},children:[T.jsx(cc,{className:"mr-1"})," View"]}),T.jsxs(ht,{variant:"danger",size:"sm",onClick:y=>{y.stopPropagation(),f()},children:[T.jsx(x2,{className:"mr-1"})," Delete"]})]})]})]}),T.jsx(b2,{isOpen:n,onClose:()=>s(!1),editingItem:t}),T.jsx(C2,{isOpen:a,onClose:()=>l(!1),item:t,onEdit:y=>{l(!1),s(!0)},onDelete:y=>{l(!1),f()}})]})},Ud=({size:t="md"})=>{const e={sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12",xl:"h-16 w-16"};return T.jsx("div",{className:"flex justify-center items-center p-8",children:T.jsx(zt.div,{className:`${e[t]} border-4 border-indigo-200 border-t-indigo-600 rounded-full`,animate:{rotate:360},transition:{repeat:1/0,repeatType:"loop",duration:1,ease:"linear"}})})},mB=()=>{const[t,e]=O.useState(!1),[n,s]=O.useState({type:"all",favorite:!1}),{clothingItems:a,loading:l}=hm(),[c,f]=O.useState(""),[m,p]=O.useState(""),y=O.useRef(null),[v,b]=O.useState(null),[A,D]=O.useState(!1);O.useEffect(()=>{if(y.current&&clearTimeout(y.current),!c.trim()){p("");return}return y.current=setTimeout(()=>{p(c.trim().toLowerCase())},300),()=>{y.current&&clearTimeout(y.current)}},[c]);const V=O.useMemo(()=>{if(!a||a.length===0)return[];let ne=[...a];if(m){const J=m.split(/\s+/).filter(Boolean);ne=ne.filter(he=>{const I=[he.name||"",he.brand||"",he.color||"",he.type||"",he.style||"",he.pantsType||"",he.shoesType||""].join(" ").toLowerCase();return J.some(C=>I.includes(C))})}return n.type!=="all"&&(ne=ne.filter(J=>J.type===n.type)),n.favorite&&(ne=ne.filter(J=>J.favorite)),ne},[a,m,n]),M={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.08}}},F={hidden:{y:14,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:320,damping:24}}},q=O.useCallback(ne=>{b(ne),D(!0),document.documentElement.style.overflow="hidden"},[]),H=O.useCallback(()=>{D(!1),b(null),document.documentElement.style.overflow=""},[]);return O.useEffect(()=>{const ne=J=>{J.key==="Escape"&&A&&H()};return window.addEventListener("keydown",ne),()=>window.removeEventListener("keydown",ne)},[A,H]),l?T.jsx(Ud,{}):T.jsxs("div",{children:[T.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 mb-6 sm:flex-row sm:items-center",children:[T.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"My Wardrobe"}),T.jsxs("div",{className:"flex items-center w-full gap-2 sm:w-auto",children:[T.jsxs("div",{className:"relative flex-1 w-full sm:flex-none sm:w-72",children:[T.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-400 pointer-events-none",children:T.jsx(oB,{})}),T.jsx("input",{"aria-label":"Search wardrobe",value:c,onChange:ne=>f(ne.target.value),placeholder:"Search by name, brand, color...",className:"w-full py-2 pl-10 pr-10 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500"}),c&&T.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400 hover:text-gray-600",onClick:()=>f(""),children:""})]}),T.jsxs("div",{className:"relative",children:[T.jsxs("select",{className:"py-2 pl-4 pr-8 leading-tight text-gray-700 bg-white border border-gray-300 rounded-md appearance-none focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",value:n.type,onChange:ne=>s({...n,type:ne.target.value}),children:[T.jsx("option",{value:"all",children:"All Types"}),T.jsx("option",{value:"shirt",children:"Shirts"}),T.jsx("option",{value:"tshirt",children:"T-Shirts"}),T.jsx("option",{value:"pants",children:"Pants"}),T.jsx("option",{value:"innerwear",children:"Innerwear"}),T.jsx("option",{value:"shoes",children:"Shoes"})]}),T.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 text-gray-700 pointer-events-none",children:T.jsx(w2,{})})]}),T.jsxs(ht,{onClick:()=>e(!0),className:"flex items-center",children:[T.jsx(U1,{className:"mr-2"})," Add Item"]})]})]}),T.jsx("div",{className:"mb-4",children:T.jsxs("label",{className:"flex items-center",children:[T.jsx("input",{type:"checkbox",className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500",checked:n.favorite,onChange:ne=>s({...n,favorite:ne.target.checked})}),T.jsx("span",{className:"ml-2 text-gray-700",children:"Show favorites only"})]})}),T.jsxs("div",{className:"mb-4 text-sm text-gray-600",children:[V.length," of ",a.length," items",(c||n.type!=="all"||n.favorite)&&T.jsx("button",{type:"button",className:"ml-2 text-indigo-600 hover:text-indigo-800",onClick:()=>{f(""),s({type:"all",favorite:!1})},children:"Clear filters"})]}),V.length===0?T.jsxs("div",{className:"py-12 text-center",children:[T.jsx("p",{className:"mb-4 text-lg text-gray-500",children:a.length===0?"Your wardrobe is empty. Add your first clothing item!":m?"No items match your search or filters.":"No items match your filters."}),a.length===0&&T.jsxs(ht,{onClick:()=>e(!0),children:[T.jsx(U1,{className:"mr-2"})," Add Your First Item"]})]}):T.jsx(zt.div,{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",variants:M,initial:"hidden",animate:"visible",children:T.jsx(oo,{mode:"popLayout",children:V.map(ne=>T.jsx(zt.div,{layout:!0,variants:F,initial:"hidden",animate:"visible",exit:{opacity:0,scale:.95,transition:{duration:.2}},children:T.jsx("div",{className:"bg-white border border-gray-200 rounded-md shadow-sm",children:T.jsx(dB,{item:ne,onClick:()=>q(ne)})})},ne.id))})}),T.jsx(b2,{isOpen:t,onClose:()=>e(!1)}),T.jsx(C2,{isOpen:A,onClose:H,item:v})]})},R2=()=>{const{currentUser:t,logout:e}=ih(),n=Rr(),s=Wy(),[a,l]=O.useState(!1),c=async()=>{try{await e(),s("/auth")}catch(m){console.error("Failed to log out:",m)}},f=[{path:"/wardrobe",label:"My Wardrobe",icon:S2},{path:"/outfits",label:"Outfit Ideas",icon:nB}];return T.jsx("header",{className:"bg-white shadow-sm sticky top-0 z-40",children:T.jsxs("div",{className:"container mx-auto px-4",children:[T.jsxs("div",{className:"flex justify-between items-center h-16",children:[T.jsx(Al,{to:"/wardrobe",className:"flex items-center",children:T.jsx("span",{className:"text-2xl font-bold text-indigo-600",children:"Wardrobe"})}),T.jsx("nav",{className:"hidden md:flex space-x-8",children:f.map(m=>{const p=m.icon,y=n.pathname===m.path;return T.jsxs(Al,{to:m.path,className:`flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors ${y?"text-indigo-600 bg-indigo-50":"text-gray-700 hover:text-indigo-600 hover:bg-gray-50"}`,children:[T.jsx(p,{className:"mr-2"}),m.label]},m.path)})}),T.jsxs("div",{className:"flex items-center space-x-4",children:[T.jsxs("div",{className:"hidden md:flex items-center space-x-2",children:[T.jsx(z1,{className:"text-gray-500"}),T.jsx("span",{className:"text-sm text-gray-700",children:(t==null?void 0:t.displayName)||(t==null?void 0:t.email)})]}),T.jsxs(ht,{variant:"outline",size:"sm",onClick:c,className:"hidden md:flex items-center",children:[T.jsx(L1,{className:"mr-1"})," Logout"]}),T.jsx("button",{className:"md:hidden text-gray-500 hover:text-gray-700 focus:outline-none",onClick:()=>l(!a),children:T.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:a?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})})]})]}),a&&T.jsx(zt.div,{className:"md:hidden py-4 border-t border-gray-200",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:T.jsxs("nav",{className:"flex flex-col space-y-2",children:[f.map(m=>{const p=m.icon,y=n.pathname===m.path;return T.jsxs(Al,{to:m.path,className:`flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors ${y?"text-indigo-600 bg-indigo-50":"text-gray-700 hover:text-indigo-600 hover:bg-gray-50"}`,onClick:()=>l(!1),children:[T.jsx(p,{className:"mr-2"}),m.label]},m.path)}),T.jsxs("div",{className:"pt-4 mt-2 border-t border-gray-200",children:[T.jsxs("div",{className:"flex items-center space-x-2 px-3 py-2",children:[T.jsx(z1,{className:"text-gray-500"}),T.jsx("span",{className:"text-sm text-gray-700",children:(t==null?void 0:t.displayName)||(t==null?void 0:t.email)})]}),T.jsxs(ht,{variant:"outline",size:"sm",onClick:c,className:"mx-3 mt-2 flex items-center",children:[T.jsx(L1,{className:"mr-1"})," Logout"]})]})]})})]})})},I2=()=>T.jsx("footer",{className:"bg-white border-t border-gray-200",children:T.jsxs("div",{className:"container mx-auto px-4 py-8",children:[T.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[T.jsxs("div",{className:"mb-4 md:mb-0",children:[T.jsx(Al,{to:"/wardrobe",className:"text-xl font-bold text-indigo-600",children:"Wardrobe"}),T.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Organize your clothes and discover new outfit combinations"})]}),T.jsxs("div",{className:"flex space-x-6",children:[T.jsx("a",{href:"https://github.com",target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 hover:text-indigo-600 transition-colors",children:T.jsx(sB,{className:"text-xl"})}),T.jsx("a",{href:"https://twitter.com",target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 hover:text-indigo-600 transition-colors",children:T.jsx(hB,{className:"text-xl"})})]})]}),T.jsx("div",{className:"mt-8 pt-8 border-t border-gray-200 text-center",children:T.jsxs("p",{className:"text-sm text-gray-500",children:[" ",new Date().getFullYear()," Wardrobe. All rights reserved."]})})]})}),pB=()=>T.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[T.jsx(R2,{}),T.jsx(zt.main,{className:"flex-grow container mx-auto px-4 py-8",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:T.jsx(mB,{})}),T.jsx(I2,{})]}),gB=()=>{var Rt;const{clothingItems:t,saveOutfitCombination:e,savedOutfits:n,fetchSavedOutfits:s,loading:a}=hm(),[l,c]=O.useState([]),[f,m]=O.useState(!1),[p,y]=O.useState(""),[v,b]=O.useState(null),[A,D]=O.useState(!1),[V,M]=O.useState(!1),[F,q]=O.useState(""),[H,ne]=O.useState(""),[J,he]=O.useState(0),[I,C]=O.useState(new Set),[R,L]=O.useState(0),[k,U]=O.useState("grid"),[N,Re]=O.useState(new Set),[Fe,Y]=O.useState(!1),[ie,ve]=O.useState("sunny"),[Oe,He]=O.useState(!1),[B,ae]=O.useState("score"),[ye,Te]=O.useState(!1),[Ve,je]=O.useState([]),We=O.useRef(null),[yt,ft]=O.useState(12);O.useEffect(()=>{const G=()=>{const fe=window.innerWidth;fe<640?ft(6):fe<1024?ft(8):ft(12)};return G(),window.addEventListener("resize",G),()=>window.removeEventListener("resize",G)},[]);const Yn=O.useMemo(()=>({neutral:["black","white","gray","beige","tan","brown","navy"],warm:["red","orange","yellow","pink","brown","tan"],cool:["blue","green","purple","navy","teal"],vibrant:["red","orange","yellow","pink","purple","green"]}),[]),Ln=O.useMemo(()=>({casual:{tops:["tshirt","shirt","polo"],bottoms:["jeans","shorts","pants","casual"],shoes:["sneakers","casual","sandals"],name:"Casual Comfort",description:"A relaxed and comfortable outfit perfect for everyday activities."},formal:{tops:["dress shirt","formal shirt","blazer"],bottoms:["dress pants","trousers"],shoes:["dress shoes","oxfords","loafers"],name:"Formal Elegance",description:"A sophisticated outfit suitable for formal events and professional settings."},business:{tops:["dress shirt","button-down","blazer"],bottoms:["dress pants","slacks","chinos"],shoes:["dress shoes","oxfords","loafers"],name:"Business Professional",description:"A polished outfit perfect for the office or business meetings."},party:{tops:["stylish shirt","fashion top","blazer"],bottoms:["designer jeans","chinos","stylish pants"],shoes:["fashionable shoes","stylish sneakers","boots"],name:"Party Ready",description:"A trendy outfit that will make you stand out at any social gathering."},date:{tops:["stylish shirt","fashion top","casual blazer"],bottoms:["dark jeans","chinos","stylish pants"],shoes:["fashionable shoes","stylish sneakers","boots"],name:"Date Night Charm",description:"A stylish and romantic outfit perfect for a special evening out."},wedding:{tops:["dress shirt","formal shirt","blazer"],bottoms:["dress pants","trousers"],shoes:["dress shoes","oxfords"],name:"Wedding Guest",description:"An elegant outfit appropriate for celebrating special moments."},outdoor:{tops:["casual shirt","tshirt","outdoor jacket"],bottoms:["casual pants","jeans","shorts"],shoes:["casual shoes","sneakers","outdoor shoes"],name:"Outdoor Adventure",description:"A practical and comfortable outfit for outdoor activities."},sport:{tops:["athletic shirt","sport tshirt","jersey"],bottoms:["athletic pants","shorts","track pants"],shoes:["athletic shoes","sneakers","running shoes"],name:"Sport Active",description:"A functional outfit designed for physical activities and sports."}}),[]),Vt=O.useMemo(()=>({sunny:{name:"Sunny",icon:T.jsx(cB,{className:"text-yellow-500"}),recommendations:{tops:["tshirt","shirt","polo","lightweight"],bottoms:["shorts","light pants","linen"],shoes:["sandals","sneakers","loafers"]}},cloudy:{name:"Cloudy",icon:T.jsx(k1,{className:"text-gray-500"}),recommendations:{tops:["shirt","light sweater","polo"],bottoms:["jeans","chinos","casual pants"],shoes:["sneakers","casual shoes"]}},rainy:{name:"Rainy",icon:T.jsx(k1,{className:"text-blue-500"}),recommendations:{tops:["shirt","sweater","jacket"],bottoms:["jeans","pants","waterproof"],shoes:["boots","waterproof shoes","sneakers"]}}}),[]),Ci=G=>(G||"").toString().trim().toLowerCase(),jn=(G,fe)=>{const pe=Ci(G),we=Ci(fe);if(!pe||!we||Yn.neutral.includes(pe)||Yn.neutral.includes(we))return!0;for(const Ie of Object.values(Yn))if(Ie.includes(pe)&&Ie.includes(we))return!0;return!![["blue","orange"],["red","green"],["purple","yellow"]].some(([Ie,Ke])=>pe===Ie&&we===Ke||pe===Ke&&we===Ie)},Xi=(G,fe,pe,we,Ze)=>{let Ie=0;if(jn(G==null?void 0:G.color,fe==null?void 0:fe.color)&&(Ie+=25),pe&&jn(fe==null?void 0:fe.color,pe.color)&&(Ie+=25),Ln[we]){const Ke=Ln[we];Ke.tops.some(it=>{var Qe,et;return(et=(Qe=G==null?void 0:G.type)==null?void 0:Qe.toLowerCase())==null?void 0:et.includes(it.split(" ")[0])})&&(Ie+=20),Ke.bottoms.some(it=>{var Qe,et;return(et=(Qe=fe==null?void 0:fe.type)==null?void 0:Qe.toLowerCase())==null?void 0:et.includes(it.split(" ")[0])})&&(Ie+=20),pe&&Ke.shoes.some(it=>{var Qe,et;return(et=(Qe=pe==null?void 0:pe.type)==null?void 0:Qe.toLowerCase())==null?void 0:et.includes(it.split(" ")[0])})&&(Ie+=10)}else Ie+=20;if(Ze&&Vt[Ze]){const Ke=Vt[Ze].recommendations;Ke.tops.some(it=>{var Qe,et;return(et=(Qe=G==null?void 0:G.type)==null?void 0:Qe.toLowerCase())==null?void 0:et.includes(it)})&&(Ie+=5),Ke.bottoms.some(it=>{var Qe,et;return(et=(Qe=fe==null?void 0:fe.type)==null?void 0:Qe.toLowerCase())==null?void 0:et.includes(it)})&&(Ie+=5),pe&&Ke.shoes.some(it=>{var Qe,et;return(et=(Qe=pe==null?void 0:pe.type)==null?void 0:Qe.toLowerCase())==null?void 0:et.includes(it)})&&(Ie+=5)}return Math.min(100,Math.round(Ie))},Wi=(G,fe,pe)=>{const we=[];[G,fe,pe].forEach(Qe=>{if(!Qe)return;const et=Qe.color||Qe.colorName||Qe.colorHex||"",Ge=Ci(et);Ge&&(we.includes(Ge)||we.push(Ge))});const Ze=new Date().getMonth()+1;let Ie="Unknown";[12,1,2].includes(Ze)?Ie="Winter":[3,4,5].includes(Ze)?Ie="Spring":[6,7,8].includes(Ze)?Ie="Summer":[9,10,11].includes(Ze)&&(Ie="Autumn");const Ke=new Set;[G,fe,pe].forEach(Qe=>{const et=((Qe==null?void 0:Qe.type)||"").toLowerCase();(et.includes("jean")||et.includes("denim"))&&Ke.add("casual"),(et.includes("dress")||et.includes("formal")||et.includes("blazer"))&&Ke.add("formal"),(et.includes("sport")||et.includes("athletic"))&&Ke.add("sport"),(et.includes("sneaker")||et.includes("sneakers"))&&Ke.add("street")});const it=new Date().toISOString();return{palette:we,season:Ie,styleTags:Array.from(Ke),localTime:it}},Zn=O.useCallback((G="",fe="",pe="sunny")=>{if(!t||t.length<2){y("Add at least two items to generate outfits.");return}m(!0),y("");try{const we=t.filter(Ge=>["shirt","tshirt","blazer","top"].includes((Ge.type||"").toLowerCase())),Ze=t.filter(Ge=>["pants","jeans","shorts","trousers"].includes((Ge.type||"").toLowerCase())),Ie=t.filter(Ge=>(Ge.type||"").toLowerCase()==="shoes");if(we.length===0||Ze.length===0){y("You need at least one top and one bottom item to generate outfits."),c([]),m(!1);return}const Ke=G||"casual",it=[];for(const Ge of we)for(const Kt of Ze){let Mt=null,Ii=-1;if(Ie.length===0)Mt=null,Ii=0;else for(const mi of Ie){const pi=Xi(Ge,Kt,mi,Ke,pe);pi>Ii&&(Ii=pi,Mt=mi)}const ei=Xi(Ge,Kt,Mt,Ke,pe);it.push({top:Ge,bottom:Kt,shoes:Mt,score:ei})}it.sort((Ge,Kt)=>Kt.score-Ge.score);const Qe=it.map((Ge,Kt)=>{var Ii,ei,mi,pi,Ni,ti,$s,Un,Bn;const Mt=Ln[Ke]||Ln.casual;return{id:`outfit-${Date.now()}-${Kt}`,name:`${Mt.name} ${Kt+1}`,description:Mt.description,occasion:Ke,destination:fe||"",weather:pe,top:Ge.top,bottom:Ge.bottom,shoes:Ge.shoes,score:Ge.score,popularity:Math.floor(Math.random()*100),aiDescriptions:{top:`This ${((Ii=Ge.top)==null?void 0:Ii.color)||((ei=Ge.top)==null?void 0:ei.name)||""} ${((mi=Ge.top)==null?void 0:mi.type)||""} pairs with ${((pi=Ge.bottom)==null?void 0:pi.color)||((Ni=Ge.bottom)==null?void 0:Ni.name)||""}.`,bottom:`These ${((ti=Ge.bottom)==null?void 0:ti.color)||""} ${(($s=Ge.bottom)==null?void 0:$s.type)||""} go well with the top.`,shoes:Ge.shoes?`Complete the look with these ${((Un=Ge.shoes)==null?void 0:Un.color)||""} ${((Bn=Ge.shoes)==null?void 0:Bn.type)||""}.`:""},shoppingSuggestions:Ir(Ge.top,Ge.bottom,Ge.shoes)}});c(Qe),he(0),L(0);const et=new Set((n||[]).map(Ge=>P(Ge)));Re(et)}catch(we){console.error(we),y("Failed to generate outfits.")}finally{m(!1)}},[t,Ln,Vt,n]),Ir=(G,fe,pe)=>{var Ze,Ie,Ke,it;const we=[];return pe||we.push({type:"shoes",reason:"Complete your outfit with matching shoes",color:(G==null?void 0:G.color)||(fe==null?void 0:fe.color)||"neutral"}),(Ze=G==null?void 0:G.type)!=null&&Ze.toLowerCase().includes("tshirt")&&!((Ie=fe==null?void 0:fe.type)!=null&&Ie.toLowerCase().includes("shorts"))&&we.push({type:"accessories",reason:"Add a watch or bracelet to elevate this casual look",color:"neutral"}),(Ke=G==null?void 0:G.type)!=null&&Ke.toLowerCase().includes("shirt")&&!((it=G==null?void 0:G.type)!=null&&it.toLowerCase().includes("dress"))&&we.push({type:"outerwear",reason:"Consider a jacket or blazer for a more polished look",color:"neutral"}),we},Ct=G=>!G||G.length===0?"":G.map(pe=>(pe==null?void 0:pe.id)||(pe==null?void 0:pe.itemId)||"").filter(Boolean).sort().join("|"),P=G=>{if(!G)return"";if(Array.isArray(G.items))return Ct(G.items);const fe=[];return["top","bottom","shoes","shirt","pants"].forEach(pe=>{const we=G[pe];we&&(typeof we=="string"?fe.push(we):we.id&&fe.push(we.id))}),fe.sort().join("|")},$=async(G=null,fe=!1)=>{const pe=G??l[J];if(pe){y(""),m(!0);try{const we=Mt=>{if(!Mt)return null;const{id:Ii,name:ei,brand:mi,color:pi,size:Ni,fit:ti,type:$s,imageUrl:Un,imageBase64:Bn,material:Yt}=Mt;return{id:Ii,name:ei||"",brand:mi||"",color:pi||"",size:Ni||"",fit:ti||"",type:$s||"",material:Yt||"",imageUrl:Un||"",imageBase64:Bn||""}},Ze=we(pe.top),Ie=we(pe.bottom),Ke=we(pe.shoes),it=Ct([Ze,Ie,Ke]);if(new Set((n||[]).map(Mt=>P(Mt))).has(it)){y("This outfit (or identical) is already saved."),m(!1);return}const et=Wi(Ze,Ie,Ke),Ge={name:pe.name,description:pe.description,occasion:pe.occasion||F||"casual",destination:pe.destination||H||"",weather:pe.weather||ie,items:[Ze,Ie].concat(Ke?[Ke]:[]),score:pe.score??0,popularity:pe.popularity||0,aiDescriptions:pe.aiDescriptions||{},shoppingSuggestions:pe.shoppingSuggestions||[],metadata:{...et,savedFromView:k},createdAt:new Date},Kt=await e(Ge);if(Re(Mt=>new Set(Mt).add(it)),je(Mt=>[{id:Kt,date:new Date,name:pe.name},...Mt.slice(0,9)]),typeof s=="function")try{await s()}catch{}y(""),m(!1),fe&&(Te(!0),setTimeout(()=>Te(!1),2e3)),b({...Ge,id:Kt}),D(!0)}catch(we){console.error("saveOutfit error:",we),y(we.message||"Failed to save outfit. Try again."),m(!1)}}},se=G=>{if(G.items&&Array.isArray(G.items)){b(G),D(!0);return}if(G.items&&G.items.length){const fe={...G,items:G.items.map(pe=>{const we=t.find(Ze=>Ze.id===pe.id||Ze.id===pe.itemId);return we?{...we}:{...pe}})};b(fe),D(!0);return}b(G),D(!0)},_e=G=>{C(fe=>{const pe=new Set(fe);return pe.has(G)?pe.delete(G):pe.add(G),pe})},de=async G=>{var fe;try{const pe=`${G.name}  ${G.description}
Items: ${((fe=G.items)==null?void 0:fe.map(we=>we.name).join(", "))||""}`;navigator.share?await navigator.share({title:G.name,text:pe}):(await navigator.clipboard.writeText(`${pe}
${window.location.href}`),alert("Outfit details copied to clipboard!"))}catch(pe){console.error("share error",pe),alert("Could not share  copied to clipboard instead.")}},me=()=>{he(G=>{const fe=Math.min(G+1,l.length-1),pe=Math.floor(fe/yt);return L(pe),fe})},Ae=()=>{he(G=>{const fe=Math.max(G-1,0);return L(Math.floor(fe/yt)),fe})},Je=(G,fe)=>{const pe=[...G];switch(fe){case"score":return pe.sort((we,Ze)=>Ze.score-we.score);case"popularity":return pe.sort((we,Ze)=>Ze.popularity-we.popularity);case"recent":return pe.sort((we,Ze)=>new Date(Ze.createdAt)-new Date(we.createdAt));default:return pe}},qe=Math.max(1,Math.ceil(l.length/yt)),Wt=R*yt,Ri=Math.min(Wt+yt,l.length),Nr=Je(l,B).slice(Wt,Ri);O.useEffect(()=>{(t==null?void 0:t.length)>0?Zn():c([]);const G=new Set((n||[]).map(fe=>P(fe)));Re(G)},[t,Zn,n]),O.useEffect(()=>{const G=new Set((n||[]).map(fe=>P(fe)));Re(G)},[n]);const Cn=G=>{if(!G)return"";const fe=G.toLowerCase();return fe.includes("shirt")?"":fe.includes("tshirt")?"":fe.includes("pant")||fe.includes("jean")||fe.includes("trouser")?"":fe.includes("short")?"":fe.includes("shoe")?"":fe.includes("blazer")||fe.includes("jacket")?"":""},Nt=G=>{const fe=Ct([G.top,G.bottom,G.shoes]);return N.has(fe)},Ot=({item:G,className:fe=""})=>{const[pe,we]=O.useState(!1),[Ze,Ie]=O.useState(!1);O.useEffect(()=>{we(!1),Ie(!1)},[G]);const Ke=()=>{we(!0)},it=()=>{Ie(!0)};return G?pe||!G.imageUrl&&!G.imageBase64?T.jsx("div",{className:`flex items-center justify-center bg-gray-100 rounded ${fe}`,children:T.jsx("span",{className:"text-3xl",children:Cn(G.type)})}):T.jsxs("div",{className:`relative overflow-hidden bg-gray-100 rounded ${fe}`,children:[!Ze&&T.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100",children:T.jsx(Ud,{size:"sm"})}),T.jsx("img",{src:G.imageUrl||G.imageBase64,alt:G.name||G.type,className:`object-cover w-full h-full transition-opacity duration-300 ${Ze?"opacity-100":"opacity-0"}`,onError:Ke,onLoad:it,loading:"lazy"})]}):T.jsx("div",{className:`flex items-center justify-center bg-gray-100 rounded ${fe}`,children:T.jsx("span",{className:"text-2xl text-gray-400",children:"No item"})})};return f||a?T.jsx(Ud,{}):T.jsxs("div",{className:"px-4 mx-auto max-w-7xl sm:px-6 lg:px-8",ref:We,children:[T.jsxs("div",{className:"p-4 mb-6 bg-white rounded-lg shadow-md sm:p-6",children:[T.jsxs("div",{className:"flex flex-col gap-4 mb-4 sm:flex-row sm:items-center sm:justify-between",children:[T.jsxs("div",{children:[T.jsxs("h2",{className:"text-xl font-bold text-gray-800 sm:text-2xl",children:["Outfit Suggestions ",T.jsxs("span",{className:"text-sm text-gray-500",children:["(",l.length," combos)"]})]}),T.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Smart combinations from your wardrobe  save full snapshots (+metadata)."})]}),T.jsx("div",{className:"flex flex-wrap items-center gap-2",children:T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsxs(ht,{variant:"outline",size:"sm",onClick:()=>{U(G=>G==="grid"?"carousel":"grid")},children:[T.jsx(S2,{className:"mr-1"})," ",k==="grid"?"Carousel":"Grid"]}),T.jsxs(ht,{variant:"outline",size:"sm",onClick:()=>Y(!0),children:[T.jsx(w2,{className:"mr-1"})," Filter"]}),T.jsx(ht,{variant:"outline",size:"sm",onClick:()=>He(!Oe),children:Vt[ie].icon}),T.jsxs(ht,{onClick:()=>M(!0),disabled:t.length<2,variant:"outline",size:"sm",children:[T.jsx(tB,{className:"mr-1"})," Customize"]}),T.jsxs(ht,{onClick:()=>Zn(F,H,ie),disabled:t.length<2,size:"sm",children:[T.jsx(rB,{className:"mr-1"})," Generate"]})]})})]}),Oe&&T.jsxs("div",{className:"flex gap-2 p-3 mb-4 rounded-lg bg-blue-50",children:[T.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Weather:"}),Object.keys(Vt).map(G=>T.jsxs("button",{onClick:()=>{ve(G),Zn(F,H,G)},className:`flex items-center gap-1 px-3 py-1 text-sm rounded-full ${ie===G?"bg-blue-600 text-white":"bg-white text-blue-600 border border-blue-300"}`,children:[Vt[G].icon," ",Vt[G].name]},G))]}),T.jsxs("div",{className:"flex gap-2 mb-4",children:[T.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Sort by:"}),["score","popularity","recent"].map(G=>T.jsxs("button",{onClick:()=>ae(G),className:`px-3 py-1 text-sm rounded-full ${B===G?"bg-indigo-600 text-white":"bg-gray-200 text-gray-700"}`,children:[G==="score"&&"Score",G==="popularity"&&T.jsxs(T.Fragment,{children:[T.jsx($g,{className:"inline mr-1"}),"Popularity"]}),G==="recent"&&T.jsxs(T.Fragment,{children:[T.jsx(P1,{className:"inline mr-1"}),"Recent"]})]},G))]}),p&&T.jsx("div",{className:"p-3 mb-4 text-red-700 bg-red-100 border border-red-400 rounded",children:p}),t.length<2?T.jsx("div",{className:"py-8 text-center text-gray-500",children:"Add more items to your wardrobe to generate outfits!"}):l.length===0?T.jsx("div",{className:"py-8 text-center text-gray-500",children:"No suggestions yet  click Generate."}):T.jsx(T.Fragment,{children:k==="grid"?T.jsxs(T.Fragment,{children:[T.jsx("div",{className:`grid gap-3 sm:gap-4 md:gap-6 ${yt===6?"grid-cols-1 sm:grid-cols-2":yt===8?"grid-cols-2 md:grid-cols-3":"grid-cols-3 lg:grid-cols-4"}`,children:Nr.map((G,fe)=>{const pe=Wt+fe,we=Nt(G);return T.jsx(zt.div,{className:"overflow-hidden transition-shadow duration-300 bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md",whileHover:{y:-3},transition:{type:"spring",stiffness:250,damping:20},children:T.jsxs("div",{className:"p-3 sm:p-4",children:[T.jsxs("div",{className:"flex items-start justify-between mb-2",children:[T.jsxs("div",{className:"w-2/3",children:[T.jsx("h3",{className:"text-sm font-semibold text-gray-800 line-clamp-1",children:G.name}),T.jsxs("div",{className:"flex items-center mt-1 text-xs text-gray-500",children:[T.jsx(B1,{className:"mr-1 text-yellow-400"})," Score: ",G.score,"/100",G.popularity&&T.jsxs(T.Fragment,{children:[T.jsx($g,{className:"ml-2 mr-1 text-green-500"})," ",G.popularity,"%"]})]})]}),T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("button",{onClick:()=>_e(G.id),className:`p-1 rounded-full transition-colors ${I.has(G.id)?"bg-red-50 text-red-500":"bg-gray-50 text-gray-400 hover:text-red-500"}`,"aria-label":"Like",title:"Like",children:T.jsx(A2,{size:14})}),T.jsx("button",{onClick:()=>de(G),className:"p-1 text-gray-400 transition-colors rounded-full bg-gray-50 hover:text-blue-500","aria-label":"Share",title:"Share",children:T.jsx(lB,{size:14})})]})]}),T.jsxs("div",{className:"grid grid-cols-3 gap-1 mb-3",children:[T.jsx(Ot,{item:G.top,className:"h-20"}),T.jsx(Ot,{item:G.bottom,className:"h-20"}),T.jsx(Ot,{item:G.shoes,className:"h-20"})]}),T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs(ht,{variant:"outline",size:"sm",onClick:()=>se(G),children:[T.jsx(cc,{className:"mr-1"})," View"]}),T.jsx("div",{className:"flex items-center gap-2",children:T.jsxs(ht,{variant:"outline",size:"sm",onClick:()=>{he(pe),$(G,!0)},disabled:we,className:we?"bg-green-50 text-green-600 border-green-200":"",children:[T.jsx(qf,{className:"mr-1"})," ",we?"Saved":"Save"]})})]})]})},G.id)})}),qe>1&&T.jsxs("div",{className:"flex items-center justify-between mt-6",children:[T.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",Wt+1,"-",Ri," of ",l.length]}),T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsxs(ht,{variant:"outline",size:"sm",onClick:()=>{R>0&&L(R-1)},disabled:R===0,children:[T.jsx(O1,{className:"mr-1"})," Prev"]}),Array.from({length:Math.min(qe,5)}).map((G,fe)=>{let pe;return qe<=5||R<3?pe=fe:R>=qe-3?pe=qe-5+fe:pe=R-2+fe,T.jsx("button",{onClick:()=>L(pe),className:`w-8 h-8 rounded-full text-xs transition-colors ${pe===R?"bg-indigo-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:pe+1},fe)}),T.jsxs(ht,{variant:"outline",size:"sm",onClick:()=>{R<qe-1&&L(R+1)},disabled:R>=qe-1,children:["Next ",T.jsx(M1,{className:"ml-1"})]})]})]})]}):T.jsxs("div",{className:"relative",children:[T.jsxs("div",{className:"flex items-center justify-between mb-3",children:[T.jsx("div",{className:"text-sm text-gray-600",children:"Carousel view  swipe or use arrows"}),T.jsxs("div",{className:"flex gap-2",children:[T.jsxs(ht,{variant:"outline",size:"sm",onClick:()=>{he(0),L(0)},children:[T.jsx(aB,{className:"mr-1"}),"Start"]}),T.jsxs(ht,{variant:"outline",size:"sm",onClick:()=>$(l[J],!0),disabled:Nt(l[J]),children:[T.jsx(qf,{className:"mr-1"})," Save"]})]})]}),T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsx("button",{className:"p-2 transition-shadow bg-white rounded-full shadow-md hover:shadow-lg",onClick:Ae,disabled:J===0,children:T.jsx(O1,{})}),T.jsx("div",{className:"flex-1",children:T.jsx(oo,{initial:!1,mode:"wait",children:l[J]&&T.jsx(zt.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},exit:{opacity:0,x:-30},transition:{duration:.3},className:"p-4 bg-white rounded-lg shadow-md",children:T.jsxs("div",{className:"flex flex-col gap-4 md:flex-row",children:[T.jsxs("div",{className:"grid grid-cols-1 gap-2 md:w-1/3",children:[T.jsx(Ot,{item:l[J].top,className:"h-48"}),T.jsx(Ot,{item:l[J].bottom,className:"h-28"}),l[J].shoes&&T.jsx(Ot,{item:l[J].shoes,className:"h-28"})]}),T.jsxs("div",{className:"md:flex-1",children:[T.jsx("h3",{className:"text-lg font-semibold",children:l[J].name}),T.jsx("p",{className:"my-2 text-sm text-gray-600",children:l[J].description}),T.jsxs("div",{className:"mb-3 text-sm text-gray-600",children:["Occasion: ",T.jsx("span",{className:"font-medium capitalize",children:l[J].occasion}),l[J].destination&&T.jsxs(T.Fragment,{children:["  ",T.jsx(j1,{className:"inline-block ml-2 mr-1"}),l[J].destination]}),T.jsxs("div",{className:"flex items-center mt-1",children:[Vt[l[J].weather||ie].icon,T.jsx("span",{className:"ml-1 capitalize",children:l[J].weather||ie})]})]}),T.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[T.jsxs("span",{className:"text-sm text-gray-600",children:[T.jsx(B1,{className:"inline mr-1 text-yellow-400"})," Score: ",l[J].score,"/100"]}),l[J].popularity&&T.jsxs("span",{className:"text-sm text-gray-600",children:[T.jsx($g,{className:"inline mr-1 text-green-500"})," ",l[J].popularity,"% popular"]})]}),T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsxs(ht,{onClick:()=>se(l[J]),variant:"outline",size:"sm",children:[T.jsx(cc,{className:"mr-1"})," View"]}),T.jsxs(ht,{onClick:()=>$(l[J],!0),size:"sm",disabled:Nt(l[J]),children:[T.jsx(qf,{className:"mr-1"}),Nt(l[J])?"Saved":"Save"]})]})]})]})},l[J].id)})}),T.jsx("button",{className:"p-2 transition-shadow bg-white rounded-full shadow-md hover:shadow-lg",onClick:me,disabled:J>=l.length-1,children:T.jsx(M1,{})})]})]})})]}),T.jsxs("div",{className:"p-4 mt-6 bg-white rounded-lg shadow-md sm:p-6",children:[T.jsxs("div",{className:"flex items-center justify-between mb-4",children:[T.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Saved Outfits"}),T.jsxs("div",{className:"text-sm text-gray-500",children:[(n||[]).length," saved"]})]}),(n||[]).length>0?T.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:n.map(G=>{var fe;return T.jsxs(zt.div,{className:"p-4 transition-shadow border rounded-lg shadow-sm bg-gray-50 hover:shadow-md",whileHover:{y:-3},children:[T.jsxs("div",{className:"flex items-start justify-between",children:[T.jsxs("div",{children:[T.jsx("h4",{className:"font-medium text-gray-800",children:G.name}),T.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:G.description})]}),T.jsx("div",{className:"text-xs text-gray-500",children:new Date((fe=G.createdAt)!=null&&fe.seconds?G.createdAt.seconds*1e3:G.createdAt||Date.now()).toLocaleDateString()})]}),T.jsx("div",{className:"grid grid-cols-3 gap-2 mt-3",children:(G.items||[]).slice(0,3).map((pe,we)=>T.jsx(Ot,{item:pe,className:"h-20"},we))}),T.jsxs("div",{className:"flex items-center justify-between mt-3",children:[T.jsx("span",{className:"text-xs text-gray-500 capitalize",children:G.occasion}),T.jsx("div",{className:"flex gap-2",children:T.jsxs(ht,{variant:"outline",size:"sm",onClick:()=>se(G),children:[T.jsx(cc,{className:"mr-1"}),"View"]})})]})]},G.id)})}):T.jsx("div",{className:"py-8 text-center text-gray-500",children:"No saved outfits yet. Save your favorite combinations to see them here."})]}),Ve.length>0&&T.jsxs("div",{className:"p-4 mt-6 bg-white rounded-lg shadow-md sm:p-6",children:[T.jsxs("div",{className:"flex items-center justify-between mb-4",children:[T.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Recent Outfits"}),T.jsxs("div",{className:"text-sm text-gray-500",children:[Ve.length," recent"]})]}),T.jsx("div",{className:"space-y-2",children:Ve.map((G,fe)=>T.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-gray-50",children:[T.jsxs("div",{className:"flex items-center",children:[T.jsx(P1,{className:"mr-2 text-gray-400"}),T.jsxs("div",{children:[T.jsx("h4",{className:"font-medium text-gray-800",children:G.name}),T.jsxs("p",{className:"text-xs text-gray-500",children:[new Date(G.date).toLocaleDateString()," at ",new Date(G.date).toLocaleTimeString()]})]})]}),T.jsxs(ht,{variant:"outline",size:"sm",onClick:()=>se(G),children:[T.jsx(cc,{className:"mr-1"}),"View"]})]},fe))})]}),T.jsx(oo,{children:Fe&&T.jsx(zt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",children:T.jsxs(zt.div,{initial:{y:20},animate:{y:0},exit:{y:20},className:"w-full max-w-md p-6 bg-white rounded-lg shadow-xl",children:[T.jsxs("div",{className:"flex items-center justify-between mb-4",children:[T.jsx("h3",{className:"text-lg font-semibold",children:"Filter Options"}),T.jsx("button",{onClick:()=>Y(!1),className:"text-gray-500",children:T.jsx(od,{})})]}),T.jsxs("div",{className:"mb-4",children:[T.jsx("label",{className:"block mb-1 text-sm text-gray-700",children:"Sort by"}),T.jsxs("select",{value:B,onChange:G=>ae(G.target.value),className:"w-full px-3 py-2 border rounded",children:[T.jsx("option",{value:"score",children:"Score"}),T.jsx("option",{value:"popularity",children:"Popularity"}),T.jsx("option",{value:"recent",children:"Recently Added"})]})]}),T.jsxs("div",{className:"mb-4",children:[T.jsx("label",{className:"block mb-1 text-sm text-gray-700",children:"Weather"}),T.jsx("div",{className:"grid grid-cols-3 gap-2",children:Object.keys(Vt).map(G=>T.jsxs("button",{onClick:()=>ve(G),className:`flex items-center justify-center gap-1 p-2 text-sm rounded ${ie===G?"bg-blue-600 text-white":"bg-gray-200 text-gray-700"}`,children:[Vt[G].icon," ",Vt[G].name]},G))})]}),T.jsxs("div",{className:"flex justify-end gap-2",children:[T.jsx(ht,{variant:"outline",onClick:()=>Y(!1),children:"Cancel"}),T.jsx(ht,{onClick:()=>{Zn(F,H,ie),Y(!1)},children:"Apply"})]})]})})}),T.jsx(oo,{children:V&&T.jsx(zt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",children:T.jsxs(zt.div,{initial:{y:20},animate:{y:0},exit:{y:20},className:"w-full max-w-md p-6 bg-white rounded-lg shadow-xl",children:[T.jsxs("div",{className:"flex items-center justify-between mb-4",children:[T.jsx("h3",{className:"text-lg font-semibold",children:"Customize your outfit"}),T.jsx("button",{onClick:()=>M(!1),className:"text-gray-500",children:T.jsx(od,{})})]}),T.jsxs("div",{className:"mb-4",children:[T.jsx("label",{className:"block mb-1 text-sm text-gray-700",children:"Occasion"}),T.jsxs("select",{value:F,onChange:G=>q(G.target.value),className:"w-full px-3 py-2 border rounded",children:[T.jsx("option",{value:"",children:"Select"}),Object.keys(Ln).map(G=>T.jsx("option",{value:G,children:Ln[G].name},G))]})]}),T.jsxs("div",{className:"mb-4",children:[T.jsx("label",{className:"block mb-1 text-sm text-gray-700",children:"Where are you going?"}),T.jsx("input",{value:H,onChange:G=>ne(G.target.value),className:"w-full px-3 py-2 border rounded",placeholder:"Office, Beach, Wedding..."})]}),T.jsxs("div",{className:"mb-4",children:[T.jsx("label",{className:"block mb-1 text-sm text-gray-700",children:"Weather"}),T.jsx("div",{className:"grid grid-cols-3 gap-2",children:Object.keys(Vt).map(G=>T.jsxs("button",{onClick:()=>ve(G),className:`flex items-center justify-center gap-1 p-2 text-sm rounded ${ie===G?"bg-blue-600 text-white":"bg-gray-200 text-gray-700"}`,children:[Vt[G].icon," ",Vt[G].name]},G))})]}),T.jsxs("div",{className:"flex justify-end gap-2",children:[T.jsx(ht,{variant:"outline",onClick:()=>M(!1),children:"Cancel"}),T.jsx(ht,{onClick:()=>{Zn(F,H,ie),M(!1)},children:"Apply & Generate"})]})]})})}),T.jsx(oo,{children:A&&v&&T.jsx(zt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",children:T.jsxs(zt.div,{initial:{y:20},animate:{y:0},exit:{y:20},className:"bg-white rounded-lg shadow-xl w-full max-w-4xl p-6 overflow-auto max-h-[90vh]",children:[T.jsxs("div",{className:"flex items-start justify-between gap-4",children:[T.jsxs("div",{children:[T.jsx("h3",{className:"text-xl font-semibold",children:v.name}),T.jsx("p",{className:"text-sm text-gray-600",children:v.description}),T.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Occasion: ",T.jsx("span",{className:"font-medium",children:v.occasion}),v.destination&&T.jsxs(T.Fragment,{children:["  ",T.jsx(j1,{className:"inline-block mx-1"})," ",v.destination]}),v.weather&&T.jsxs(T.Fragment,{children:["  ",Vt[v.weather].icon," ",T.jsx("span",{className:"capitalize",children:v.weather})]})]})]}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx(ht,{variant:"outline",onClick:()=>{de(v)},children:"Share"}),T.jsx(ht,{onClick:()=>{$(v)},children:"Save"}),T.jsx("button",{onClick:()=>D(!1),className:"p-2 text-gray-500",children:T.jsx(od,{})})]})]}),T.jsx("div",{className:"grid grid-cols-1 gap-4 mt-6 md:grid-cols-3",children:v.items?v.items.map((G,fe)=>T.jsxs("div",{className:"p-4 rounded-lg bg-gray-50",children:[T.jsx("h4",{className:"mb-2 font-medium",children:G.name||G.type}),T.jsx(Ot,{item:G,className:"h-40 mb-3"}),T.jsx("p",{className:"text-sm text-gray-600",children:G.brand}),T.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[G.color,"  ",G.fit||G.size||""]})]},fe)):T.jsxs(T.Fragment,{children:[v.top&&T.jsxs("div",{className:"p-4 rounded-lg bg-gray-50",children:[T.jsx("h4",{className:"mb-2 font-medium",children:v.top.name}),T.jsx(Ot,{item:v.top,className:"h-40 mb-3"})]}),v.bottom&&T.jsxs("div",{className:"p-4 rounded-lg bg-gray-50",children:[T.jsx("h4",{className:"mb-2 font-medium",children:v.bottom.name}),T.jsx(Ot,{item:v.bottom,className:"h-40 mb-3"})]})]})}),v.shoppingSuggestions&&v.shoppingSuggestions.length>0&&T.jsxs("div",{className:"p-4 mt-6 rounded bg-blue-50",children:[T.jsxs("h5",{className:"flex items-center text-sm font-medium text-blue-800",children:[T.jsx(uB,{className:"mr-2"})," Shopping Suggestions"]}),T.jsx("div",{className:"mt-2 space-y-2",children:v.shoppingSuggestions.map((G,fe)=>T.jsxs("div",{className:"p-2 bg-white rounded",children:[T.jsx("p",{className:"text-sm font-medium capitalize",children:G.type}),T.jsx("p",{className:"text-xs text-gray-600",children:G.reason}),T.jsxs(ht,{variant:"outline",size:"sm",className:"mt-1",children:[T.jsx(fB,{className:"mr-1"})," Shop ",G.color," ",G.type]})]},fe))})]}),v.metadata&&T.jsxs("div",{className:"p-4 mt-6 rounded bg-gray-50",children:[T.jsx("h5",{className:"text-sm font-medium",children:"Outfit Metadata"}),T.jsxs("div",{className:"mt-2 text-xs text-gray-600",children:["Season: ",v.metadata.season,"  Time: ",v.metadata.localTime]}),T.jsxs("div",{className:"mt-1 text-xs text-gray-600",children:["Palette: ",((Rt=v.metadata.palette)==null?void 0:Rt.join(", "))||""]}),T.jsxs("div",{className:"mt-1 text-xs text-gray-600",children:["Style tags: ",(v.metadata.styleTags||[]).join(", ")||""]})]})]})})}),T.jsx(oo,{children:ye&&T.jsx(zt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"fixed z-50 px-4 py-2 text-white bg-green-600 rounded-lg shadow-lg bottom-4 right-4",children:T.jsxs("div",{className:"flex items-center",children:[T.jsx(qf,{className:"mr-2"}),"Outfit saved successfully!"]})})})]})},yB=()=>T.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[T.jsx(R2,{}),T.jsx(zt.main,{className:"flex-grow container mx-auto px-4 py-8",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:T.jsx(gB,{})}),T.jsx(I2,{})]});function vB(){const{currentUser:t,loading:e}=ih();return e?T.jsx(Ud,{size:"xl"}):T.jsxs(oD,{children:[T.jsx(nc,{path:"/auth",element:t?T.jsx(Df,{to:"/wardrobe"}):T.jsx(Z9,{})}),T.jsx(nc,{path:"/wardrobe",element:t?T.jsx(pB,{}):T.jsx(Df,{to:"/auth"})}),T.jsx(nc,{path:"/outfits",element:t?T.jsx(yB,{}):T.jsx(Df,{to:"/auth"})}),T.jsx(nc,{path:"/",element:T.jsx(Df,{to:t?"/wardrobe":"/auth"})})]})}function _B(){return T.jsx(jj,{children:T.jsx(Uj,{children:T.jsx(ND,{children:T.jsx(vB,{})})})})}gN.createRoot(document.getElementById("root")).render(T.jsx(O.StrictMode,{children:T.jsx(_B,{})}));
